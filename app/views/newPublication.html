<!--<?php echo $this->Html->css('redactor',false); ?>-->

<style type="text/css">

  .error {
    border: 1px solid red;
  }

  .ulMenu {
    float: left;
    overflow: auto;
    height: 250px; /* 170 */
    width: 250px;
    border-right: 1px solid;
    background-color: aliceblue;
  }

  .li-selected{
    background: #ACEAFF;
  }

  .ul-parent-selected{
    background: #9DE7FF;
  }

  .li-parent-selected{
    background: #6FDBFF;
  }

  .liMenu{
    padding: 5px;
    padding-left: 10px;
    cursor: pointer;
  }

  .class-all-menu-container{
    overflow: hidden;
    border: 1px solid black;
    padding: 10px;
    background-color: whitesmoke;
    border-top-left-radius: 6px 6px;
    border-top-right-radius: 6px 6px;
    border-bottom-left-radius: 6px 6px;
    border-bottom-right-radius: 6px 6px;
  }

  .menu-container{
    overflow: hidden;
    border: 1px solid black;
  }

  .category-selected{
    width: 300px;
    float: left;
    height: 250px;
    border-right: 1px solid;
    background-color: aliceBlue;

  }

  .category-selected-text{
    background-color: aliceBlue;
    color: #E32;
    font-family: 'Gill Sans','lucida grande', helvetica, arial, sans-serif;
    font-size: 190%;
  }

  .menuBox{
    border: 1px solid #B9B9B9;
    height: 265px;
    border-top-left-radius: 6px 6px;
    border-top-right-radius: 6px 6px;
    border-bottom-left-radius: 6px 6px;
    border-bottom-right-radius: 6px 6px;
    overflow-x: scroll;
    overflow-y: hidden;
  }

  #path span{
    cursor: pointer;
  }


  form .required {
    font-weight: bold;
  }
  form .required label:after {
    color: #e32;
    content: '*';
    display:inline;
  }

  .required h3:after {
    color: #e32;
    content: '*';
    display:inline;
  }

  .requiredInput{
    background-color: #FFD1D1;
    border: 1px solid red;
  }

  .addProduct {
    overflow: hidden;
    display: none;
  }

  .categorySelector {
    overflow: hidden;
  }

  .addContent {
    padding-top: 6px;
    padding-bottom: 6px;
  }

</style>

<section ng-controller="PublicationsController" cg-busy="{promise:httpRequestPromise,message:'Just a moment'}">

  <div class="panel panel-default" ng-show="categoryExpected === false">
    <div class="panel-heading">
      <h3 class="panel-title">Seleccione una categoría:</h3>
    </div>
    <div class="list-group">
      <button type="button" class="list-group-item" ng-click="setCategory(node.$id)" ng-repeat="node in nodes | filter:{parentId:category}:true" >{{node.name | capitalizeFirstChar}}</button>
    </div>
    <div class="panel-body">

      <ol class="breadcrumb" style="margin-bottom: 7px;">
        <li ng-click="category =''; path =[];" ng-class="{'a-link': path.length > 0}" > Home </li>
        <li ng-repeat="node in path" ng-click="setCategory(node.$id)" ng-class="{'a-link': !$last}"> {{node.name | capitalizeFirstChar}} </li>
      </ol>

      <small>NOTA: Seleccione la categoría que mejor se adapte al producto que desea publicar.</small>

    </div>
    <div class="panel-footer" style="text-align: right;">
      <button ng-click="categoryExpected = true" type="button" class="btn btn-primary" ng-disabled="category ===''" >Confirm selection</button>
    </div>
  </div>

  <div class="panel panel-default" ng-show="categoryExpected">
    <div class="panel-heading">
      <h3 class="panel-title">New Publication</h3>
    </div>
    <div class="panel-body">

      <ol class="breadcrumb" style="margin-bottom: 7px;">
        <li> Home </li>
        <li ng-repeat="node in path"> {{node.name | capitalizeFirstChar}} </li>
      </ol>

      <button ng-click="categoryExpected = false" type="button" class="btn btn-default">Edit category</button>

      <!--<button id="update"   type="button" class="btn btn-primary"><span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> Update</button>-->
      <!--<button type="button" class="btn btn-default publication-status-button"><span class="glyphicon glyphicon-pause" aria-hidden="true"></span> Pause</button>-->
      <!--<button type="button" class="btn btn-default publication-status-button"><span class="glyphicon glyphicon-play"></span> Enable</button>-->
      <!--<button id="delete"   class="btn btn-danger" type="button"><span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span> Delete</button>-->

      <button id="publish"	class="btn btn-primary"	type="submit" >Publish</button>
      <button id="save-now" class="btn btn-success"	type="button" >Save Now</button>
      <button id="discard"	class="btn btn-warning"	type="button" >Discard</button>

      <div id="debugTime" style="padding-top: 10px; ">The publication was updated at <span id="lastTimeSave"></span> (Minutes <span id="minutesElapsed">0</span> ago)</div>
      <div id="debugTime" style="padding-top: 10px; ">The draft was updated at <span id="lastTimeSave"></span> (Minutes <span id="minutesElapsed">0</span> ago)</div>

      <hr>


      <form name="form" novalidate="" ng-submit="submit()">

        <div class="form-group">
          <label>Email o dirección de correo electrónico</label>
          <input type="email" name="email" ng-model="model.email" required class="form-control" placeholder="Ingrese su correo o email"  >
          <div data-ng-messages="form.$submitted && form.email.$error" class="help-block">
            <div data-ng-message="email">
              - La <b>dirección de correo electrónico</b> debe ser valida.
            </div>
            <div data-ng-message="required">
              - La <b>dirección de correo electrónico</b> es requerida.
            </div>
          </div>
        </div>

        <div class="form-group">
          <label>Contraseña</label>
          <input type="password" name="password" ng-model="model.password" required minlength="7" class="form-control" placeholder="Ingrese su contraseña" >
          <div data-ng-messages="form.$submitted && form.password.$error" class="help-block">
            <div data-ng-message="minlength" >
              - La <b>contraseña</b> debe tener como mínimo 7 caracteres.
            </div>
            <div data-ng-message="required" >
              - La <b>contraseña</b> es requerida.
            </div>
          </div>
        </div>

        <button type="submit" class="btn btn-primary">Entrar</button>

      </form>


      <!-- Form ProductTitle -->
      <div class="row">
        <div class="col-xs-12">
          <div class="form-group">
            <label class="control-label" for="ProductTitle"><span class="glyphicon glyphicon-bookmark"></span> Title</label>
            <span class="help-block" style="display: none;">Required</span>
          </div>
        </div>
      </div>

      <!-- Form ProductBody -->
      <div class="row">
        <div class="col-xs-12">
          <div class="form-group">
            <label class="control-label" for="ProductBody"><span class="glyphicon glyphicon-book"></span> Description</label>
            <span class="help-block" style="display: none;"><p class="text-danger">The description is required</p></span>
          </div>
        </div>
      </div>

      <!-- Form ProductPrice -->
      <div class="row">
        <div class="col-xs-12">
          <div class="form-group">
            <label class="control-label" for="ProductPrice"><span class="glyphicon glyphicon-tag"></span> Price</label>
            <div class="input-group col-xs-4">
              <div class="input-group-addon">$</div>
            </div>
            <span class="help-block" style="display: none;">Required</span>
          </div>
        </div>
      </div>

      <!-- Form ProductQuantity -->
      <div class="row">
        <div class="col-xs-12">
          <div class="form-group">
            <label class="control-label" for="ProductQuantity"><span class="glyphicon glyphicon-th"></span> Quantity in stock</label>
            <div class="input-group col-xs-4">
              <div class="input-group-addon">Units</div>
            </div>
            <span class="help-block" style="display: none;">Required</span>
          </div>
        </div>
      </div>



    </div>
    <ul class="list-group">
      <li class="list-group-item" >
        <h3 id="panels" class="page-header" style="margin-top: 10px;">Images  <small><button id="continue-upload" type="button" class="btn btn-link clickable" style="display: none;">Add more pictures!</button> <button id="upload-all" type="button" class="btn btn-link" style="display: none;">Upload images!</button></small></h3>
        <div id="previews" class="well dropzone-previews" style="margin-bottom: 10px;">
          <button id="first-files" class="btn btn-primary clickable">Select the images from the computer</button>
        </div>
      </li>
    </ul>

  </div>

</section>


