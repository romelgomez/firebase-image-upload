<div style="margin-top: 10px; margin-bottom: 0; " ng-controller="AccountPublicationsController">

  <input type="text" ng-model="algolia.req.query" class="form-control" placeholder="Search">

  <hr>

  <div class="panel panel-default" ng-repeat="publication in algolia.res.hits" style="margin-bottom: 10px;">
    <div class="panel-body" style="padding: 5px;">
      <div class="row">
        <div class="col-xs-4 col-md-2" style="padding-right: 5px;">
          <div>
            <a href="#" class="thumbnail" style="margin-bottom: 0;">

              <img ng-show="sizeOf(publication.images) === 0" src="assets/images/subaru.jpg" alt="...">

              <cl-image ng-show="sizeOf(publication.images) > 0"  public-id="{{publication.featuredImageId !== '' ? publication.featuredImageId : firstObj(publication.images) }}" class="inline" format="jpg">
                <cl-transformation height="150" width="150" crop="fill"  radius="20"/>
              </cl-image>

            </a>
          </div>
          <div ng-switch="publication.department" style="margin-top: 2px;">
            <span ng-switch-when="Marketplace" class="label label-info">Product Market - <i class="fa fa-shopping-cart"></i></span>
            <span ng-switch-when="Jobs" class="label label-info">Job - <i class="fa fa-briefcase"></i></span>
            <span ng-switch-when="Real Estate" class="label label-info">Real Estate - <i class="fa fa-home"></i></span>
            <span ng-switch-when="Transport" class="label label-info">Transport - <i class="fa fa-rocket"></i></span>
            <span ng-switch-when="Services" class="label label-info">Service - <i class="fa fa-wrench"></i></span>
          </div>
        </div>
        <div class="col-xs-8 col-md-10" style="padding-left: 0;">
          <div>
            <b>{{publication.title}}</b>
          </div>
          <hr style="margin-top: 5px; margin-bottom: 5px;">
          <div>
            {{publication.description}}
            <!--<pre>{{publication | json}}</pre>-->

          </div>
        </div>
      </div>
    </div>
    <div class="panel-footer" style="padding: 5px; text-align: right">
      <button type="button" class="btn btn-warning btn-xs" ng-click="editPublication(publication.objectID)">Edit</button>
      <button type="button" class="btn btn-primary btn-xs" ng-click="viewPublication(publication.objectID)" >View</button>
    </div>
  </div>


  <hr>
  <button type="button" class="btn btn-default" ng-click="isCollapsed = !isCollapsed">Raw Results</button>
  <div uib-collapse="isCollapsed">
    <hr>
    <pre>{{algolia.res | json}}</pre>
  </div>

</div>
