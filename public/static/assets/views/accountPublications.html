<div class="container" style="margin-top: 17px;" ng-show="!lording.isDone">
  <div cg-busy="{promise: lording.promise, message:'Just a moment'}">
    <div class="panel panel-default uk-flag-background"  style="height: 600px;">
      <div class="panel-body">

      </div>
    </div>
  </div>
</div>

<div ng-show="lording.isDone" style="margin-bottom: 10px;">
  <div
       ng-style="{
          'margin-top':0,
          'padding':'300px 0 10px 0',
          'background' : (profile.$banners.length > 0) ? 'url(\'' + 'https://res.cloudinary.com/berlin/image/upload/c_fill,h_500,w_1500/' + profile.$banners[0].$id + '.jpg\') no-repeat center center' : 'url(\'' + 'https://pbs.twimg.com/profile_banners/192774776/1445226267/1500x500' + '\') no-repeat center center',
          '-webkit-background-size':'cover',
          '-moz-background-size':'cover',
          '-o-background-size':'cover',
          'background-size':'cover',
          'box-shadow' : 'inset 0 0 1px 1px rgba(0,0,0,0.2)'
        }"
  >

    <div class="container">
      <div class="row">
        <div class="col-xs-5 col-sm-5 col-md-2 col-lg-2">
          <img ng-click="profileImages('lg', profile.$images.length-1)" ng-src="{{(profile.$images.length > 0) ? 'https://res.cloudinary.com/berlin/image/upload/c_fill,h_400,w_400/' + profile.$images[0].$id + '.jpg' : 'static/assets/images/profileImage.png'}}" alt="..." class="img-thumbnail img-responsive" ng-style="{cursor: (profile.$images.length > 0) ? 'pointer' : 'default' }" >
        </div>
        <!--<div  class="col-lg-9">-->
        <!--</div>-->
      </div>
    </div>

  </div>


  <!--<pre>{{profile | json}}</pre>-->

  <div style="margin-top: 20px;" >
    <!--<div style="border-bottom: 1px solid #D4D4D4; background: white; padding: 10px; margin-bottom: 10px;">-->
      <!--<div class="container">-->
        <!--<div class="row">-->
          <!--<div class="col-lg-3"></div>-->
          <!--<div class="col-lg-9">-->
            <!--<div>Publications</div>-->
            <!--<div>24</div>-->
          <!--</div>-->
        <!--</div>-->
      <!--</div>-->
    <!--</div>-->
    <div class="container">
      <div class="row">
        <div class="col-lg-3">

          <div class="panel panel-default">
            <div class="panel-body">
              <span style="color: #000; font-size: 22px; font-weight: 600; font-family: Raleway;"> {{profile.pseudonym === undefined || profile.pseudonym === ''? profile.names : profile.pseudonym }}</span>

              <div ng-show="(profile.accountName !== undefined && profile.accountName !== '')">
                <span style="text-shadow: 0 0 3px rgba(0,0,0,.8)"> @{{profile.accountName}}</span>
                <hr ng-show="(profile.bio !== undefined && profile.bio !== '') || (profile.landLineTelephone !== undefined && profile.landLineTelephone !== '') || (profile.mobilePhone !== undefined && profile.mobilePhone  !== '') || (profile.facebookAccount !== undefined && profile.facebookAccount !== '') || (profile.twitterAccount !== undefined && profile.twitterAccount !== '')" class="hr-xs">
              </div>
              <div ng-show="(profile.bio !== undefined && profile.bio !== '')">
                <i class="fa fa-leanpub" aria-hidden="true"></i> {{profile.bio}}
                <hr class="hr-xs">
              </div>
              <div>
                <i class="fa fa-calendar" aria-hidden="true"></i> Joined {{profile.startedAt | date : 'MMMM'}} {{profile.startedAt | date : 'yyyy'}}
                <hr ng-show="(profile.landLineTelephone !== undefined && profile.landLineTelephone !== '') || (profile.mobilePhone !== undefined && profile.mobilePhone  !== '') || (profile.facebookAccount !== undefined && profile.facebookAccount !== '') || (profile.twitterAccount !== undefined && profile.twitterAccount !== '')" class="hr-xs">
              </div>
              <div ng-show="profile.$images.length > 0">
                <div style="margin-bottom: 5px;"><i class="fa fa-camera" aria-hidden="true"></i> Photos</div>

                <div class="row" style="padding-left: 10px; padding-right: 10px;">
                  <div ng-repeat="image in profile.$images | reverse | limitTo: 6" class="col-xs-6 col-md-4" style="padding-right:5px; padding-left: 5px;" >
                    <img ng-click="profileImages( 'lg', $index)"  class="img-responsive thumbnail" ng-style="{ cursor: 'pointer'}" ng-src="https://res.cloudinary.com/berlin/image/upload/c_fill,h_400,w_400/{{image.public_id}}.jpg" style="margin-bottom: 10px;">
                  </div>
                </div>
                <hr ng-show="(profile.landLineTelephone !== undefined && profile.landLineTelephone !== '') || (profile.mobilePhone !== undefined && profile.mobilePhone  !== '') || (profile.facebookAccount !== undefined && profile.facebookAccount !== '') || (profile.twitterAccount !== undefined && profile.twitterAccount !== '')" class="hr-xs">
              </div>
              <div ng-show="(profile.landLineTelephone !== undefined && profile.landLineTelephone !== '')">
                <i class="fa fa-phone"></i> {{profile.landLineTelephone}}
                <hr ng-show="(profile.mobilePhone !== undefined && profile.mobilePhone  !== '') || (profile.facebookAccount !== undefined && profile.facebookAccount !== '') || (profile.twitterAccount !== undefined && profile.twitterAccount !== '')" class="hr-xs">
              </div>
              <div ng-show="(profile.mobilePhone !== undefined && profile.mobilePhone  !== '')">
                <i class="fa fa-mobile-phone"></i> {{profile.mobilePhone}}
                <hr ng-show="(profile.facebookAccount !== undefined && profile.facebookAccount !== '') || (profile.twitterAccount !== undefined && profile.twitterAccount !== '')" class="hr-xs">
              </div>
              <div ng-show="(profile.facebookAccount !== undefined && profile.facebookAccount !== '') || (profile.twitterAccount !== undefined && profile.twitterAccount !== '')" style="font-size: 30px;">
                <a ng-show="(profile.facebookAccount !== undefined && profile.facebookAccount !== '')" ng-href="{{profile.facebookAccount}}"><i class="fa fa-facebook-official"></i></a>
                <a ng-show="(profile.twitterAccount !== undefined && profile.twitterAccount !== '')" ng-href="https://twitter.com/{{profile.twitterAccount}}" target="_blank"><i class="fa fa-twitter"></i></a>
              </div>
            </div>
          </div>


        </div>
        <div class="col-lg-9">

          <list-publications ng-show="profile.startedAt !== undefined" profile="profile" lording="lording"></list-publications>


        </div>
      </div>
    </div>

  </div>



</div>


<script type="text/ng-template" id="profileImagesModal.html">
  <div class="modal-body">

    <uib-carousel active="active" interval="5000" no-wrap="false">
      <uib-slide ng-repeat="image in profileImages | reverse  track by $index" index="$index">
        <img ng-src="https://res.cloudinary.com/berlin/image/upload/c_fill,h_800,w_900/{{image.public_id}}.jpg" style="margin:auto;">
        <div class="carousel-caption">
          <h4>{{image.name | removeFileExtension | noSpecialChars | capitalizeFirstChar}}</h4>
        </div>
      </uib-slide>
    </uib-carousel>

  </div>
  <div class="modal-footer">
    <button class="btn btn-warning" ng-click="cancel()">Close</button>
  </div>
</script>