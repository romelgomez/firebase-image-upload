<script type="text/ng-template" id="accountProfilePasswordModal.html"><div class="modal-header">
    <h3 class="modal-title">Change Password</h3>
  </div>
  <div class="modal-body" cg-busy="{promise:httpRequestPromise,message:'Just a moment'}">

    <form id="accountPassword" name="forms.accountPassword" novalidate="" ng-submit="submit()">

      <div class="form-group" ng-class="{'has-success has-feedback': (forms.accountPassword.$submitted && forms.accountPassword.oldPassword.$valid),'has-error has-feedback': (forms.accountPassword.$submitted && forms.accountPassword.oldPassword.$invalid) }">
        <label class="control-label">Old Password <sup style="color: red;">*</sup></label>
        <input type="password" name="oldPassword" ng-model="model.accountPassword.oldPassword" required minlength="7" class="form-control" placeholder="">
        <span ng-show="forms.accountPassword.$submitted" class="glyphicon form-control-feedback" ng-class="{'glyphicon-ok': (forms.accountPassword.oldPassword.$valid),'glyphicon-remove': ( forms.accountPassword.oldPassword.$invalid) }" aria-hidden="true"></span>
        <div data-ng-messages="forms.accountPassword.$submitted && forms.accountPassword.oldPassword.$error" class="help-block">
          <div data-ng-message="required">
            - The <b>old password</b> is required.
          </div>
          <div data-ng-message="minlength" >
            - The <b>old password</b> must be at least 7 characters long.
          </div>
        </div>
      </div>

      <div class="form-group" ng-class="{'has-success has-feedback': (forms.accountPassword.$submitted && forms.accountPassword.newPassword.$valid),'has-error has-feedback': (forms.accountPassword.$submitted && forms.accountPassword.newPassword.$invalid) }">
        <label class="control-label">New Password <sup style="color: red;">*</sup></label>
        <input
          class="form-control"
          type="password"
          name="newPassword"
          ng-model="model.accountPassword.newPassword"
          required
          minlength="7"
          maxlength="50"
          placeholder=""
          tr-trustpass="{
										maximum: true,
										messageGuide: 'Make sure your password meets these requirements:',
									 	messageDone:'Â¡Excellent! Your password is acceptable.',
									 	lowercaseLabel:'One lowercase character.',
									 	uppercaseLabel:'One uppercase character.',
									 	numberLabel:'One number.',
									 	specialLabel:'One special character.',
									 	minimumLabel:'Minimum characters:',
									 	maximumLabel:'Maximum characters:'
									}"
          >
        <span ng-show="forms.accountPassword.$submitted" class="glyphicon form-control-feedback" ng-class="{'glyphicon-ok': (forms.accountPassword.newPassword.$valid),'glyphicon-remove': ( forms.accountPassword.newPassword.$invalid) }" aria-hidden="true"></span>
        <div data-ng-messages="forms.accountPassword.$submitted && forms.accountPassword.newPassword.$error" class="help-block">
          <div data-ng-message="required">
            - The <b>new password</b> is required.
          </div>
          <div data-ng-message="minlength" >
            - The <b>new password</b> must be at least 7 characters long.
          </div>
          <div data-ng-message="trustpass" >
            - Make sure you meet the minimum requirements described above.
          </div>
        </div>

        <div>Password strength: {{passStrength}}%</div>
        <div ng-password-strength="model.accountPassword.newPassword" strength="passStrength" inner-class="progress-bar" inner-class-prefix="progress-bar-"></div>
      </div>

      <div class="form-group" ng-class="{'has-success has-feedback': (forms.accountPassword.$submitted && forms.accountPassword.sameNewPassword.$valid),'has-error has-feedback': (forms.accountPassword.$submitted && forms.accountPassword.sameNewPassword.$invalid) }">
        <label class="control-label">Same New Password <sup style="color: red;">*</sup></label>
        <input type="password" name="sameNewPassword" ng-model="model.accountPassword.sameNewPassword" required match="model.accountPassword.newPassword" minlength="7" class="form-control" placeholder="">
        <span ng-show="forms.accountPassword.$submitted" class="glyphicon form-control-feedback" ng-class="{'glyphicon-ok': (forms.accountPassword.sameNewPassword.$valid),'glyphicon-remove': ( forms.accountPassword.sameNewPassword.$invalid) }" aria-hidden="true"></span>
        <div data-ng-messages="forms.accountPassword.$submitted && forms.accountPassword.sameNewPassword.$error" class="help-block">
          <div data-ng-message="required">
            - The <b>same new password</b> is required.
          </div>
          <div data-ng-message="match">
            - The <b>(new password) and (the same new password)</b> do not match!
          </div>
          <div data-ng-message="minlength">
            - The <b>same new password</b> must be at least 7 characters long.
          </div>
        </div>
      </div>

    </form>

    <div class="alert alert-info alert-xs" style="margin-bottom: 0; margin-top: 10px; " role="alert">NOTE: This superscript <sup style="color: red;">*</sup> mean that, input field is required.</div>

  </div>
  <div class="modal-footer">
    <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
    <button form="accountPassword" class="btn btn-primary" type="submit">Save</button>
  </div></script>