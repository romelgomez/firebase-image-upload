!window.XMLHttpRequest||window.FileAPI&&FileAPI.shouldLoad||(window.XMLHttpRequest.prototype.setRequestHeader=function(e){return function(t,n){if("__setXHR_"===t){var i=n(this);i instanceof Function&&i(this)}else e.apply(this,arguments)}}(window.XMLHttpRequest.prototype.setRequestHeader));var ngFileUpload=angular.module("ngFileUpload",[]);ngFileUpload.version="7.0.17",ngFileUpload.service("UploadBase",["$http","$q","$timeout",function(e,t,n){function i(i){i.method=i.method||"POST",i.headers=i.headers||{};var r=t.defer(),a=r.promise;return i.headers.__setXHR_=function(){return function(e){e&&(i.__XHR=e,i.xhrFn&&i.xhrFn(e),e.upload.addEventListener("progress",function(e){e.config=i,r.notify?r.notify(e):a.progressFunc&&n(function(){a.progressFunc(e)})},!1),e.upload.addEventListener("load",function(e){e.lengthComputable&&(e.config=i,r.notify?r.notify(e):a.progressFunc&&n(function(){a.progressFunc(e)}))},!1))}},e(i).then(function(e){r.resolve(e)},function(e){r.reject(e)},function(e){r.notify(e)}),a.success=function(e){return a.then(function(t){e(t.data,t.status,t.headers,i)}),a},a.error=function(e){return a.then(null,function(t){e(t.data,t.status,t.headers,i)}),a},a.progress=function(e){return a.progressFunc=e,a.then(null,null,function(t){e(t)}),a},a.abort=function(){return i.__XHR&&n(function(){i.__XHR.abort()}),a},a.xhr=function(e){return i.xhrFn=function(t){return function(){t&&t.apply(a,arguments),e.apply(a,arguments)}}(i.xhrFn),a},a}this.upload=function(e){function t(n,i,r){if(void 0!==i)if(angular.isDate(i)&&(i=i.toISOString()),angular.isString(i))n.append(r,i);else if("form"===e.sendFieldsAs)if(angular.isObject(i))for(var a in i)i.hasOwnProperty(a)&&t(n,i[a],r+"["+a+"]");else n.append(r,i);else i=angular.isString(i)?i:angular.toJson(i),"json-blob"===e.sendFieldsAs?n.append(r,new Blob([i],{type:"application/json"})):n.append(r,i)}return e.headers=e.headers||{},e.headers["Content-Type"]=void 0,e.transformRequest=e.transformRequest?angular.isArray(e.transformRequest)?e.transformRequest:[e.transformRequest]:[],e.transformRequest.push(function(n){var i,r=new FormData,a={};for(i in e.fields)e.fields.hasOwnProperty(i)&&(a[i]=e.fields[i]);n&&(a.data=n);for(i in a)if(a.hasOwnProperty(i)){var o=a[i];e.formDataAppender?e.formDataAppender(r,i,o):t(r,o,i)}if(null!=e.file){var l=e.fileFormDataName||"file";if(angular.isArray(e.file))for(var s=angular.isString(l),u=0;u<e.file.length;u++)r.append(s?l:l[u],e.file[u],e.fileName&&e.fileName[u]||e.file[u].name);else r.append(l,e.file,e.fileName||e.file.name)}return r}),i(e)},this.http=function(t){return t.transformRequest=t.transformRequest||function(t){return window.ArrayBuffer&&t instanceof window.ArrayBuffer||t instanceof Blob?t:e.defaults.transformRequest[0].apply(this,arguments)},i(t)},this.setDefaults=function(e){this.defaults=e||{}},this.defaults={},this.version=ngFileUpload.version}]),function(){ngFileUpload.service("Upload",["$parse","$timeout","$compile","UploadValidate",function(e,t,n,i){var r=i;return r.getAttrWithDefaults=function(e,t){return null!=e[t]?e[t]:null==r.defaults[t]?r.defaults[t]:r.defaults[t].toString()},r.attrGetter=function(t,n,i,r){if(!i)return this.getAttrWithDefaults(n,t);try{return r?e(this.getAttrWithDefaults(n,t))(i,r):e(this.getAttrWithDefaults(n,t))(i)}catch(a){if(t.search(/min|max|pattern/i))return this.getAttrWithDefaults(n,t);throw a}},r.updateModel=function(n,i,a,o,l,s,u){function f(){var u=l&&l.length?l[0]:null;if(n){var f=!r.attrGetter("ngfMultiple",i,a)&&!r.attrGetter("multiple",i)&&!d;e(r.attrGetter("ngModel",i)).assign(a,f?u:l)}var c=r.attrGetter("ngfModel",i);c&&e(c).assign(a,l),o&&e(o)(a,{$files:l,$file:u,$event:s}),t(function(){})}var d=r.attrGetter("ngfKeep",i,a);if(d===!0){if(!l||!l.length)return;var c=(n&&n.$modelValue||i.$$ngfPrevFiles||[]).slice(0),g=!1;if(r.attrGetter("ngfKeepDistinct",i,a)===!0){for(var p=c.length,h=0;h<l.length;h++){for(var v=0;p>v&&l[h].name!==c[v].name;v++);v===p&&(c.push(l[h]),g=!0)}if(!g)return;l=c}else l=c.concat(l)}i.$$ngfPrevFiles=l,u?f():r.validate(l,n,i,a,r.attrGetter("ngfValidateLater",i),function(){t(function(){f()})})},r}])}(),function(){function e(e,n,i,r,a,o,l,s){function u(){return"input"===n[0].tagName.toLowerCase()&&i.type&&"file"===i.type.toLowerCase()}function f(){return b("ngfChange")||b("ngfSelect")}function d(t){for(var n=t.__files_||t.target&&t.target.files,a=[],o=0;o<n.length;o++)a.push(n[o]);s.updateModel(r,i,e,f(),a.length?a:null,t)}function c(e){if(n!==e)for(var t=0;t<n[0].attributes.length;t++){var i=n[0].attributes[t];"type"!==i.name&&"class"!==i.name&&"id"!==i.name&&"style"!==i.name&&((null==i.value||""===i.value)&&("required"===i.name&&(i.value="required"),"multiple"===i.name&&(i.value="multiple")),e.attr(i.name,i.value))}}function g(){if(u())return n;var e=angular.element('<input type="file">');return c(e),e.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),t.push({el:n,ref:e}),document.body.appendChild(e[0]),e}function p(t){if(n.attr("disabled")||b("ngfSelectDisabled",e))return!1;var i=h(t);return null!=i?i:(m(t),v(navigator.userAgent)?setTimeout(function(){A[0].click()},0):A[0].click(),!1)}function h(e){var t=e.changedTouches||e.originalEvent&&e.originalEvent.changedTouches;if("touchstart"===e.type)return w=t?t[0].clientY:0,!0;if(e.stopPropagation(),e.preventDefault(),"touchend"===e.type){var n=t?t[0].clientY:0;if(Math.abs(n-w)>20)return!1}}function v(e){var t=e.match(/Android[^\d]*(\d+)\.(\d+)/);if(t&&t.length>2){var n=s.defaults.androidFixMinorVersion||4;return parseInt(t[1])<4||parseInt(t[1])===n&&parseInt(t[2])<n}return-1===e.indexOf("Chrome")&&/.*Windows.*Safari.*/.test(e)}function m(t){A.val()&&(A.val(null),s.updateModel(r,i,e,f(),null,t,!0))}function _(e){if(A&&!A.attr("__ngf_ie10_Fix_")){if(!A[0].parentNode)return void(A=null);e.preventDefault(),e.stopPropagation(),A.unbind("click");var t=A.clone();return A.replaceWith(t),A=t,A.attr("__ngf_ie10_Fix_","true"),A.bind("change",d),A.bind("click",_),A[0].click(),!1}A.removeAttr("__ngf_ie10_Fix_")}var b=function(e,t){return s.attrGetter(e,i,t)},y=[];y.push(e.$watch(b("ngfMultiple"),function(){A.attr("multiple",b("ngfMultiple",e))})),y.push(e.$watch(b("ngfCapture"),function(){A.attr("capture",b("ngfCapture",e))})),i.$observe("accept",function(){A.attr("accept",b("accept"))}),y.push(function(){i.$$observers&&delete i.$$observers.accept});var w=0,A=n;u()||(A=g()),A.bind("change",d),u()?n.bind("click",m):n.bind("click touchstart touchend",p),s.registerValidators(r,A,i,e),-1!==navigator.appVersion.indexOf("MSIE 10")&&A.bind("click",_),e.$on("$destroy",function(){u()||A.remove(),angular.forEach(y,function(e){e()})}),o(function(){for(var e=0;e<t.length;e++){var n=t[e];document.body.contains(n.el[0])||(t.splice(e,1),n.ref.remove())}}),window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(n,A,d)}var t=[];ngFileUpload.directive("ngfSelect",["$parse","$timeout","$compile","Upload",function(t,n,i,r){return{restrict:"AEC",require:"?ngModel",link:function(a,o,l,s){e(a,o,l,s,t,n,i,r)}}}])}(),function(){function e(e){return"img"===e.tagName.toLowerCase()?"image":"audio"===e.tagName.toLowerCase()?"audio":"video"===e.tagName.toLowerCase()?"video":/\./}ngFileUpload.service("UploadDataUrl",["UploadBase","$timeout","$q",function(e,t,n){var i=e;return i.dataUrl=function(e,i){if(i&&null!=e.dataUrl||!i&&null!=e.blobUrl){var r=n.defer();return t(function(){r.resolve(i?e.dataUrl:e.blobUrl)}),r.promise}var a=i?e.$ngfDataUrlPromise:e.$ngfBlobUrlPromise;if(a)return a;var o=n.defer();return t(function(){if(window.FileReader&&e&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 8")||e.size<2e4)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 9")||e.size<4e6)){var n=window.URL||window.webkitURL;if(n&&n.createObjectURL&&!i){var r;try{r=n.createObjectURL(e)}catch(a){return void t(function(){e.blobUrl="",o.reject()})}t(function(){e.blobUrl=r,r&&o.resolve(r)})}else{var l=new FileReader;l.onload=function(n){t(function(){e.dataUrl=n.target.result,o.resolve(n.target.result)})},l.onerror=function(){t(function(){e.dataUrl="",o.reject()})},l.readAsDataURL(e)}}else t(function(){e[i?"dataUrl":"blobUrl"]="",o.reject()})}),a=i?e.$ngfDataUrlPromise=o.promise:e.$ngfBlobUrlPromise=o.promise,a["finally"](function(){delete e[i?"$ngfDataUrlPromise":"$ngfBlobUrlPromise"]}),a},i}]);var t=angular.element("<style>.ngf-hide{display:none !important}</style>");document.getElementsByTagName("head")[0].appendChild(t[0]),ngFileUpload.directive("ngfSrc",["$compile","$timeout","Upload",function(t,n,i){return{restrict:"AE",link:function(t,r,a){n(function(){var o=t.$watch(a.ngfSrc,function(o){if(angular.isString(o))return r.removeClass("ngf-hide"),r.attr("src",o);if(o&&o.type&&0===o.type.indexOf(e(r[0]))){var l=i.attrGetter("ngfNoObjectUrl",a,t);i.dataUrl(o,l)["finally"](function(){n(function(){l&&o.dataUrl||!l&&o.blobUrl?(r.removeClass("ngf-hide"),r.attr("src",l?o.dataUrl:o.blobUrl)):r.addClass("ngf-hide")})})}else r.addClass("ngf-hide")});t.$on("$destroy",function(){o()})})}}}]),ngFileUpload.directive("ngfBackground",["Upload","$compile","$timeout",function(e,t,n){return{restrict:"AE",link:function(t,i,r){n(function(){var a=t.$watch(r.ngfBackground,function(a){if(angular.isString(a))return i.css("background-image","url('"+a+"')");if(a&&a.type&&0===a.type.indexOf("image")){var o=e.attrGetter("ngfNoObjectUrl",r,t);e.dataUrl(a,o)["finally"](function(){n(function(){o&&a.dataUrl||!o&&a.blobUrl?i.css("background-image","url('"+(o?a.dataUrl:a.blobUrl)+"')"):i.css("background-image","")})})}else i.css("background-image","")});t.$on("$destroy",function(){a()})})}}}]),ngFileUpload.config(["$compileProvider",function(e){e.imgSrcSanitizationWhitelist&&e.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|local|file|data|blob):/),e.aHrefSanitizationWhitelist&&e.aHrefSanitizationWhitelist(/^\s*(https?|ftp|local|file|data|blob):/)}]),ngFileUpload.filter("ngfDataUrl",["UploadDataUrl","$sce",function(e,t){return function(n,i){return angular.isString(n)?t.trustAsResourceUrl(n):n&&!n.dataUrl?(void 0===n.dataUrl&&angular.isObject(n)&&(n.dataUrl=null,e.dataUrl(n,i)),""):(n&&n.dataUrl?t.trustAsResourceUrl(n.dataUrl):n)||""}}])}(),function(){function e(t){if(t.length>2&&"/"===t[0]&&"/"===t[t.length-1])return t.substring(1,t.length-1);var n=t.split(","),i="";if(n.length>1)for(var r=0;r<n.length;r++)i+="("+e(n[r])+")",r<n.length-1&&(i+="|");else 0===t.indexOf(".")&&(t="*"+t),i="^"+t.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$",i=i.replace(/\\\*/g,".*").replace(/\\\?/g,".");return i}function t(e){if(angular.isString(e)){if(e.search(/kb/i)===e.length-2)return parseFloat(1e3*e.substring(0,e.length-2));if(e.search(/mb/i)===e.length-2)return parseFloat(1e6*e.substring(0,e.length-2));if(e.search(/gb/i)===e.length-2)return parseFloat(1e9*e.substring(0,e.length-2));if(e.search(/b/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/s/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/m/i)===e.length-1)return parseFloat(60*e.substring(0,e.length-1));if(e.search(/h/i)===e.length-1)return parseFloat(3600*e.substring(0,e.length-1))}return e}ngFileUpload.service("UploadValidate",["UploadDataUrl","$q","$timeout",function(n,i,r){var a=n;return a.registerValidators=function(e,t,n,i){function r(e){angular.forEach(e.$ngfValidations,function(t){e.$setValidity(t.name,t.valid)})}e&&(e.$ngfValidations=[],e.$formatters.push(function(o){return a.attrGetter("ngfValidateLater",n,i)||!e.$$ngfValidated?(a.validate(o,e,n,i,!1,function(){r(e),e.$$ngfValidated=!1}),o&&0===o.length&&(o=null),!t||null!=o&&0!==o.length||t.val()&&t.val(null)):(r(e),e.$$ngfValidated=!1),o}))},a.validatePattern=function(t,n){if(!n)return!0;var i=new RegExp(e(n),"gi");return null!=t.type&&i.test(t.type.toLowerCase())||null!=t.name&&i.test(t.name.toLowerCase())},a.validate=function(e,n,i,r,o,l){function s(t,i,r){if(e){for(var a="ngf"+t[0].toUpperCase()+t.substr(1),o=e.length,l=null;o--;){var s=e[o],u=f(a,{$file:s});null==u&&(u=i(f("ngfValidate")||{}),l=null==l?!0:l),null!=u&&(r(s,u)||(s.$error=t,s.$errorParam=u,e.splice(o,1),l=!1))}null!==l&&n.$ngfValidations.push({name:t,valid:l})}}function u(t,i,r,a,o){if(e){var s=0,u=!1,c="ngf"+t[0].toUpperCase()+t.substr(1);e=void 0===e.length?[e]:e,angular.forEach(e,function(e){if(0!==e.type.search(r))return!0;var g=f(c,{$file:e})||i(f("ngfValidate",{$file:e})||{});g&&(d++,s++,a(e,g).then(function(n){o(n,g)||(e.$error=t,e.$errorParam=g,u=!0)},function(){f("ngfValidateForce",{$file:e})&&(e.$error=t,e.$errorParam=g,u=!0)})["finally"](function(){d--,s--,s||n.$ngfValidations.push({name:t,valid:!u}),d||l.call(n,n.$ngfValidations)}))})}}n=n||{},n.$ngfValidations=n.$ngfValidations||[],angular.forEach(n.$ngfValidations,function(e){e.valid=!0});var f=function(e,t){return a.attrGetter(e,i,r,t)};if(o)return void l.call(n);if(n.$$ngfValidated=!0,null==e||0===e.length)return void l.call(n);if(e=void 0===e.length?[e]:e.slice(0),s("pattern",function(e){return e.pattern},a.validatePattern),s("minSize",function(e){return e.size&&e.size.min},function(e,n){return e.size>=t(n)}),s("maxSize",function(e){return e.size&&e.size.max},function(e,n){return e.size<=t(n)}),s("validateFn",function(){return null},function(e,t){return t===!0||null===t||""===t}),!e.length)return void l.call(n,n.$ngfValidations);var d=0;u("maxHeight",function(e){return e.height&&e.height.max},/image/,this.imageDimensions,function(e,t){return e.height<=t}),u("minHeight",function(e){return e.height&&e.height.min},/image/,this.imageDimensions,function(e,t){return e.height>=t}),u("maxWidth",function(e){return e.width&&e.width.max},/image/,this.imageDimensions,function(e,t){return e.width<=t}),u("minWidth",function(e){return e.width&&e.width.min},/image/,this.imageDimensions,function(e,t){return e.width>=t}),u("ratio",function(e){return e.ratio},/image/,this.imageDimensions,function(e,t){for(var n=t.toString().split(","),i=!1,r=0;r<n.length;r++){var a=n[r],o=a.search(/x/i);a=o>-1?parseFloat(a.substring(0,o))/parseFloat(a.substring(o+1)):parseFloat(a),Math.abs(e.width/e.height-a)<1e-4&&(i=!0)}return i}),u("maxDuration",function(e){return e.duration&&e.duration.max},/audio|video/,this.mediaDuration,function(e,n){return e<=t(n)}),u("minDuration",function(e){return e.duration&&e.duration.min},/audio|video/,this.mediaDuration,function(e,n){return e>=t(n)}),u("validateAsyncFn",function(){return null},/./,function(e,t){return t},function(e){return e===!0||null===e||""===e}),d||l.call(n,n.$ngfValidations)},a.imageDimensions=function(e){if(e.width&&e.height){var t=i.defer();return r(function(){t.resolve({width:e.width,height:e.height})}),t.promise}if(e.$ngfDimensionPromise)return e.$ngfDimensionPromise;var n=i.defer();return r(function(){return 0!==e.type.indexOf("image")?void n.reject("not image"):void a.dataUrl(e).then(function(t){function i(){var t=l[0].clientWidth,i=l[0].clientHeight;l.remove(),e.width=t,e.height=i,n.resolve({width:t,height:i})}function a(){l.remove(),n.reject("load error")}function o(){r(function(){l[0].parentNode&&(l[0].clientWidth?i():s>10?a():o())},1e3)}var l=angular.element("<img>").attr("src",t).css("visibility","hidden").css("position","fixed");l.on("load",i),l.on("error",a);var s=0;o(),angular.element(document.getElementsByTagName("body")[0]).append(l)},function(){n.reject("load error")})}),e.$ngfDimensionPromise=n.promise,e.$ngfDimensionPromise["finally"](function(){delete e.$ngfDimensionPromise}),e.$ngfDimensionPromise},a.mediaDuration=function(e){if(e.duration){var t=i.defer();return r(function(){t.resolve(e.duration)}),t.promise}if(e.$ngfDurationPromise)return e.$ngfDurationPromise;var n=i.defer();return r(function(){return 0!==e.type.indexOf("audio")&&0!==e.type.indexOf("video")?void n.reject("not media"):void a.dataUrl(e).then(function(t){function i(){var t=l[0].duration;e.duration=t,l.remove(),n.resolve(t)}function a(){l.remove(),n.reject("load error")}function o(){r(function(){l[0].parentNode&&(l[0].duration?i():s>10?a():o())},1e3)}var l=angular.element(0===e.type.indexOf("audio")?"<audio>":"<video>").attr("src",t).css("visibility","none").css("position","fixed");l.on("loadedmetadata",i),l.on("error",a);var s=0;o(),angular.element(document.body).append(l)},function(){n.reject("load error")})}),e.$ngfDurationPromise=n.promise,e.$ngfDurationPromise["finally"](function(){delete e.$ngfDurationPromise}),e.$ngfDurationPromise},a}])}(),function(){function e(e,n,i,r,a,o,l,s){function u(){return n.attr("disabled")||g("ngfDropDisabled",e)}function f(e,t,n,i){var r=g("ngfDragOverClass",e,{$event:n}),a=g("ngfDragOverClass")||"dragover";if(angular.isString(r))return void i(r);if(r&&(r.delay&&(m=r.delay),r.accept||r.reject)){var o=n.dataTransfer.items;if(null!=o)for(var l=g("ngfPattern",e,{$event:n}),u=0;u<o.length;u++)if("file"===o[u].kind||""===o[u].kind){if(!s.validatePattern(o[u],l)){a=r.reject;break}a=r.accept}}i(a)}function d(e,t,n,i){function r(e,t,n){if(null!=t)if(t.isDirectory){var i=(n||"")+t.name;e.push({name:t.name,type:"directory",path:i});var a=t.createReader(),o=[];s++;var l=function(){a.readEntries(function(i){try{if(i.length)o=o.concat(Array.prototype.slice.call(i||[],0)),l();else{for(var a=0;a<o.length;a++)r(e,o[a],(n?n:"")+t.name+"/");s--}}catch(u){s--,console.error(u)}},function(){s--})};l()}else s++,t.file(function(t){try{s--,t.path=(n?n:"")+t.name,e.push(t)}catch(i){s--,console.error(i)}},function(){s--})}var a=[],s=0,u=e.dataTransfer.items;if(u&&u.length>0&&"file"!==l.protocol())for(var f=0;f<u.length;f++){if(u[f].webkitGetAsEntry&&u[f].webkitGetAsEntry()&&u[f].webkitGetAsEntry().isDirectory){var d=u[f].webkitGetAsEntry();if(d.isDirectory&&!n)continue;null!=d&&r(a,d)}else{var c=u[f].getAsFile();null!=c&&a.push(c)}if(!i&&a.length>0)break}else{var g=e.dataTransfer.files;if(null!=g)for(var p=0;p<g.length&&(a.push(g.item(p)),i||!(a.length>0));p++);}var h=0;!function v(e){o(function(){if(s)10*h++<2e4&&v(10);else{if(!i&&a.length>1){for(f=0;"directory"===a[f].type;)f++;a=[a[f]]}t(a)}},e||0)}()}var c=t(),g=function(e,t,n){return s.attrGetter(e,i,t,n)};if(g("dropAvailable")&&o(function(){e[g("dropAvailable")]?e[g("dropAvailable")].value=c:e[g("dropAvailable")]=c}),!c)return void(g("ngfHideOnDropNotAvailable",e)===!0&&n.css("display","none"));s.registerValidators(r,null,i,e);var p,h=null,v=a(g("ngfStopPropagation")),m=1;n[0].addEventListener("dragover",function(t){if(!u()){if(t.preventDefault(),v(e)&&t.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var r=t.dataTransfer.effectAllowed;t.dataTransfer.dropEffect="move"===r||"linkMove"===r?"move":"copy"}o.cancel(h),p||(p="C",f(e,i,t,function(e){p=e,n.addClass(p)}))}},!1),n[0].addEventListener("dragenter",function(t){u()||(t.preventDefault(),v(e)&&t.stopPropagation())},!1),n[0].addEventListener("dragleave",function(){u()||(h=o(function(){n.removeClass(p),p=null},m||1))},!1),n[0].addEventListener("drop",function(t){u()||(t.preventDefault(),v(e)&&t.stopPropagation(),n.removeClass(p),p=null,d(t,function(n){s.updateModel(r,i,e,g("ngfChange")||g("ngfDrop"),n,t)},g("ngfAllowDir",e)!==!1,g("multiple")||g("ngfMultiple",e)))},!1),n[0].addEventListener("paste",function(t){if(!u()){var n=[],a=t.clipboardData||t.originalEvent.clipboardData;if(a&&a.items){for(var o=0;o<a.items.length;o++)-1!==a.items[o].type.indexOf("image")&&n.push(a.items[o].getAsFile());s.updateModel(r,i,e,g("ngfChange")||g("ngfDrop"),n,t)}}},!1)}function t(){var e=document.createElement("div");return"draggable"in e&&"ondrop"in e&&!/Edge\/12./i.test(navigator.userAgent)}ngFileUpload.directive("ngfDrop",["$parse","$timeout","$location","Upload",function(t,n,i,r){return{restrict:"AEC",require:"?ngModel",link:function(a,o,l,s){e(a,o,l,s,t,n,i,r)}}}]),ngFileUpload.directive("ngfNoFileDrop",function(){return function(e,n){t()&&n.css("display","none")}}),ngFileUpload.directive("ngfDropAvailable",["$parse","$timeout","Upload",function(e,n,i){return function(r,a,o){if(t()){var l=e(i.attrGetter("ngfDropAvailable",o));n(function(){l(r),l.assign&&l.assign(r,!0)})}}}])}(),function(){function e(e,t){window.XMLHttpRequest.prototype[e]=t(window.XMLHttpRequest.prototype[e])}function t(e,t,n){try{Object.defineProperty(e,t,{get:n})}catch(i){}}if(window.FileAPI||(window.FileAPI={}),FileAPI.shouldLoad=window.XMLHttpRequest&&!window.FormData||FileAPI.forceLoad,FileAPI.shouldLoad){var n=function(e){if(!e.__listeners){e.upload||(e.upload={}),e.__listeners=[];var t=e.upload.addEventListener;e.upload.addEventListener=function(n,i){e.__listeners[n]=i,t&&t.apply(this,arguments)}}};e("open",function(e){return function(t,i,r){n(this),this.__url=i;try{e.apply(this,[t,i,r])}catch(a){a.message.indexOf("Access is denied")>-1&&(this.__origError=a,e.apply(this,[t,"_fix_for_ie_crossdomain__",r]))}}}),e("getResponseHeader",function(e){return function(t){return this.__fileApiXHR&&this.__fileApiXHR.getResponseHeader?this.__fileApiXHR.getResponseHeader(t):null==e?null:e.apply(this,[t])}}),e("getAllResponseHeaders",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.getAllResponseHeaders?this.__fileApiXHR.getAllResponseHeaders():null==e?null:e.apply(this)}}),e("abort",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.abort?this.__fileApiXHR.abort():null==e?null:e.apply(this)}}),e("setRequestHeader",function(e){return function(t,i){if("__setXHR_"===t){n(this);var r=i(this);r instanceof Function&&r(this)}else this.__requestHeaders=this.__requestHeaders||{},this.__requestHeaders[t]=i,e.apply(this,arguments)}}),e("send",function(e){return function(){var n=this;if(arguments[0]&&arguments[0].__isFileAPIShim){var i=arguments[0],r={url:n.__url,jsonp:!1,cache:!0,complete:function(e,i){e&&angular.isString(e)&&-1!==e.indexOf("#2174")&&(e=null),n.__completed=!0,!e&&n.__listeners.load&&n.__listeners.load({type:"load",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),!e&&n.__listeners.loadend&&n.__listeners.loadend({type:"loadend",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),"abort"===e&&n.__listeners.abort&&n.__listeners.abort({type:"abort",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),void 0!==i.status&&t(n,"status",function(){return 0===i.status&&e&&"abort"!==e?500:i.status}),void 0!==i.statusText&&t(n,"statusText",function(){return i.statusText}),t(n,"readyState",function(){return 4}),void 0!==i.response&&t(n,"response",function(){return i.response});var r=i.responseText||(e&&0===i.status&&"abort"!==e?e:void 0);t(n,"responseText",function(){return r}),t(n,"response",function(){return r}),e&&t(n,"err",function(){return e}),n.__fileApiXHR=i,n.onreadystatechange&&n.onreadystatechange(),n.onload&&n.onload()},progress:function(e){if(e.target=n,n.__listeners.progress&&n.__listeners.progress(e),n.__total=e.total,n.__loaded=e.loaded,e.total===e.loaded){var t=this;setTimeout(function(){n.__completed||(n.getAllResponseHeaders=function(){},t.complete(null,{status:204,statusText:"No Content"}))},FileAPI.noContentTimeout||1e4)}},headers:n.__requestHeaders};r.data={},r.files={};for(var a=0;a<i.data.length;a++){var o=i.data[a];null!=o.val&&null!=o.val.name&&null!=o.val.size&&null!=o.val.type?r.files[o.key]=o.val:r.data[o.key]=o.val}setTimeout(function(){if(!FileAPI.hasFlash)throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';n.__fileApiXHR=FileAPI.upload(r)},1)}else{if(this.__origError)throw this.__origError;e.apply(n,arguments)}}}),window.XMLHttpRequest.__isFileAPIShim=!0,window.FormData=FormData=function(){return{append:function(e,t,n){t.__isFileAPIBlobShim&&(t=t.data[0]),this.data.push({key:e,val:t,name:n})},data:[],__isFileAPIShim:!0}},window.Blob=Blob=function(e){return{data:e,__isFileAPIBlobShim:!0}}}}(),function(){function e(e){return"input"===e[0].tagName.toLowerCase()&&e.attr("type")&&"file"===e.attr("type").toLowerCase()}function t(){try{var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(e)return!0}catch(t){if(void 0!==navigator.mimeTypes["application/x-shockwave-flash"])return!0}return!1}function n(e){var t=0,n=0;if(window.jQuery)return jQuery(e).offset();if(e.offsetParent)do t+=e.offsetLeft-e.scrollLeft,n+=e.offsetTop-e.scrollTop,e=e.offsetParent;while(e);return{left:t,top:n}}if(FileAPI.shouldLoad){if(FileAPI.forceLoad&&(FileAPI.html5=!1),!FileAPI.upload){var i,r,a,o,l,s=document.createElement("script"),u=document.getElementsByTagName("script");if(window.FileAPI.jsUrl)i=window.FileAPI.jsUrl;else if(window.FileAPI.jsPath)r=window.FileAPI.jsPath;else for(a=0;a<u.length;a++)if(l=u[a].src,o=l.search(/\/ng\-file\-upload[\-a-zA-z0-9\.]*\.js/),o>-1){r=l.substring(0,o+1);break}null==FileAPI.staticPath&&(FileAPI.staticPath=r),s.setAttribute("src",i||r+"FileAPI.min.js"),document.getElementsByTagName("head")[0].appendChild(s),FileAPI.hasFlash=t()}FileAPI.ngfFixIE=function(i,r,a){if(!t())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';var o=function(){i.attr("disabled")?r&&r.removeClass("js-fileapi-wrapper"):(r.attr("__ngf_flash_")||(r.unbind("change"),r.unbind("click"),r.bind("change",function(e){l.apply(this,[e]),a.apply(this,[e])}),r.attr("__ngf_flash_","true")),r.addClass("js-fileapi-wrapper"),e(i)||r.css("position","absolute").css("top",n(i[0]).top+"px").css("left",n(i[0]).left+"px").css("width",i[0].offsetWidth+"px").css("height",i[0].offsetHeight+"px").css("filter","alpha(opacity=0)").css("display",i.css("display")).css("overflow","hidden").css("z-index","900000").css("visibility","visible"))};i.bind("mouseenter",o);var l=function(e){for(var t=FileAPI.getFiles(e),n=0;n<t.length;n++)void 0===t[n].size&&(t[n].size=0),void 0===t[n].name&&(t[n].name="file"),void 0===t[n].type&&(t[n].type="undefined");e.target||(e.target={}),e.target.files=t,e.target.files!==t&&(e.__files_=t),(e.__files_||e.target.files).item=function(t){return(e.__files_||e.target.files)[t]||null}}},FileAPI.disableFileInput=function(e,t){t?e.removeClass("js-fileapi-wrapper"):e.addClass("js-fileapi-wrapper")}}}(),window.FileReader||(window.FileReader=function(){var e=this,t=!1;this.listeners={},this.addEventListener=function(t,n){e.listeners[t]=e.listeners[t]||[],e.listeners[t].push(n)},this.removeEventListener=function(t,n){e.listeners[t]&&e.listeners[t].splice(e.listeners[t].indexOf(n),1)},this.dispatchEvent=function(t){var n=e.listeners[t.type];if(n)for(var i=0;i<n.length;i++)n[i].call(e,t)},this.onabort=this.onerror=this.onload=this.onloadstart=this.onloadend=this.onprogress=null;var n=function(t,n){var i={type:t,target:e,loaded:n.loaded,total:n.total,error:n.error};return null!=n.result&&(i.target.result=n.result),i},i=function(i){t||(t=!0,e.onloadstart&&e.onloadstart(n("loadstart",i)));var r;"load"===i.type?(e.onloadend&&e.onloadend(n("loadend",i)),r=n("load",i),e.onload&&e.onload(r),e.dispatchEvent(r)):"progress"===i.type?(r=n("progress",i),e.onprogress&&e.onprogress(r),e.dispatchEvent(r)):(r=n("error",i),e.onerror&&e.onerror(r),e.dispatchEvent(r))};this.readAsArrayBuffer=function(e){FileAPI.readAsBinaryString(e,i)},this.readAsBinaryString=function(e){FileAPI.readAsBinaryString(e,i)},this.readAsDataURL=function(e){FileAPI.readAsDataURL(e,i)},this.readAsText=function(e){FileAPI.readAsText(e,i)}});