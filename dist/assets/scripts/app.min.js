function CODE39(e){function t(){return-1==e.search(o)?!1:!0}function n(e){e=e.toUpperCase();var t="";t+="1000101110111010";for(var n=0;n<e.length;n++)t+=r(e[n])+"0";return t+="1000101110111010"}function r(e){for(var t=0;t<i.length;t++)if(i[t][1]==e)return i[t][2];return""}var i=[[0,"0","101000111011101"],[1,"1","111010001010111"],[2,"2","101110001010111"],[3,"3","111011100010101"],[4,"4","101000111010111"],[5,"5","111010001110101"],[6,"6","101110001110101"],[7,"7","101000101110111"],[8,"8","111010001011101"],[9,"9","101110001011101"],[10,"A","111010100010111"],[11,"B","101110100010111"],[12,"C","111011101000101"],[13,"D","101011100010111"],[14,"E","111010111000101"],[15,"F","101110111000101"],[16,"G","101010001110111"],[17,"H","111010100011101"],[18,"I","101110100011101"],[19,"J","101011100011101"],[20,"K","111010101000111"],[21,"L","101110101000111"],[22,"M","111011101010001"],[23,"N","101011101000111"],[24,"O","111010111010001"],[25,"P","101110111010001"],[26,"Q","101010111000111"],[27,"R","111010101110001"],[28,"S","101110101110001"],[29,"T","101011101110001"],[30,"U","111000101010111"],[31,"V","100011101010111"],[32,"W","111000111010101"],[33,"X","100010111010111"],[34,"Y","111000101110101"],[35,"Z","100011101110101"],[36,"-","100010101110111"],[37,".","111000101011101"],[38," ","100011101011101"],[39,"$","100010001000101"],[40,"/","100010001010001"],[41,"+","100010100010001"],[42,"%","101000100010001"]];this.valid=t,this.encoded=function(){return t(e)?n(e):""};var o=/^[0-9a-zA-Z\-\.\ \$\/\+\%]+$/}function CODE128(e,t){function n(){return-1==e.search(p)?!1:!0}function r(e,t,n,r){var i="";return i+=l(n),i+=t(e),i+=l(r(e,n)),i+=h}function i(e){for(var t="",n=0;n<e.length;n++)t+=c(e[n]);return t}function o(e){for(var t="",n=0;n<e.length;n+=2)t+=l(parseInt(e.substr(n,2)));return t}function a(e,t){for(var n=0,r=0;r<e.length;r++)n+=u(e[r])*(r+1);return(n+t)%103}function s(e,t){for(var n=0,r=1,i=0;i<e.length;i+=2)n+=parseInt(e.substr(i,2))*r,r++;return(n+t)%103}function l(e){for(var t=0;t<d.length;t++)if(d[t][2]==e)return d[t][1];return""}function u(e){for(var t=0;t<d.length;t++)if(d[t][0]==e)return d[t][2];return 0}function c(e){for(var t=0;t<d.length;t++)if(d[t][0]==e)return d[t][1];return""}t=t||"B",this.string128=e+"",this.valid=n,this.encoded=function(){return n(e)?f["code128"+t](e):""};var d=[[" ","11011001100",0],["!","11001101100",1],['"',"11001100110",2],["#","10010011000",3],["$","10010001100",4],["%","10001001100",5],["&","10011001000",6],["'","10011000100",7],["(","10001100100",8],[")","11001001000",9],["*","11001000100",10],["+","11000100100",11],[",","10110011100",12],["-","10011011100",13],[".","10011001110",14],["/","10111001100",15],["0","10011101100",16],["1","10011100110",17],["2","11001110010",18],["3","11001011100",19],["4","11001001110",20],["5","11011100100",21],["6","11001110100",22],["7","11101101110",23],["8","11101001100",24],["9","11100101100",25],[":","11100100110",26],[";","11101100100",27],["<","11100110100",28],["=","11100110010",29],[">","11011011000",30],["?","11011000110",31],["@","11000110110",32],["A","10100011000",33],["B","10001011000",34],["C","10001000110",35],["D","10110001000",36],["E","10001101000",37],["F","10001100010",38],["G","11010001000",39],["H","11000101000",40],["I","11000100010",41],["J","10110111000",42],["K","10110001110",43],["L","10001101110",44],["M","10111011000",45],["N","10111000110",46],["O","10001110110",47],["P","11101110110",48],["Q","11010001110",49],["R","11000101110",50],["S","11011101000",51],["T","11011100010",52],["U","11011101110",53],["V","11101011000",54],["W","11101000110",55],["X","11100010110",56],["Y","11101101000",57],["Z","11101100010",58],["[","11100011010",59],["\\","11101111010",60],["]","11001000010",61],["^","11110001010",62],["_","10100110000",63],["`","10100001100",64],["a","10010110000",65],["b","10010000110",66],["c","10000101100",67],["d","10000100110",68],["e","10110010000",69],["f","10110000100",70],["g","10011010000",71],["h","10011000010",72],["i","10000110100",73],["j","10000110010",74],["k","11000010010",75],["l","11001010000",76],["m","11110111010",77],["n","11000010100",78],["o","10001111010",79],["p","10100111100",80],["q","10010111100",81],["r","10010011110",82],["s","10111100100",83],["t","10011110100",84],["u","10011110010",85],["v","11110100100",86],["w","11110010100",87],["x","11110010010",88],["y","11011011110",89],["z","11011110110",90],["{","11110110110",91],["|","10101111000",92],["}","10100011110",93],["~","10001011110",94],[String.fromCharCode(127),"10111101000",95],[String.fromCharCode(128),"10111100010",96],[String.fromCharCode(129),"11110101000",97],[String.fromCharCode(130),"11110100010",98],[String.fromCharCode(131),"10111011110",99],[String.fromCharCode(132),"10111101110",100],[String.fromCharCode(133),"11101011110",101],[String.fromCharCode(134),"11110101110",102],[String.fromCharCode(135),"11010000100",103],[String.fromCharCode(136),"11010010000",104],[String.fromCharCode(137),"11010011100",105]],h="1100011101011",p=/^[!-~ ]+$/,f={code128B:function(e){return r(e,i,104,a)},code128C:function(e){return e=e.replace(/ /g,""),r(e,o,105,s)}}}function CODE128B(e){return new CODE128(e,"B")}function CODE128C(e){return new CODE128(e,"C")}function EAN(e){function t(e){var t="",r=e[0],i=e.substr(1,7),o=e.substr(7,6);return t+=u,t+=n(i,l[r]),t+=d,t+=n(o,"RRRRRR"),t+=c}function n(e,t){for(var n="",r=0;r<e.length;r++)"L"==t[r]?n+=o[e[r]]:"G"==t[r]?n+=a[e[r]]:"R"==t[r]&&(n+=s[e[r]]);return n}function r(e){for(var t=0,n=0;12>n;n+=2)t+=parseInt(e[n]);for(var n=1;12>n;n+=2)t+=3*parseInt(e[n]);return(10-t%10)%10}function i(e){return-1==e.search(h)?!1:e[12]==r(e)}this.EANnumber=e+"",this.valid=function(){return i(this.EANnumber)},this.encoded=function(){return i(this.EANnumber)?t(this.EANnumber):""};var o={0:"0001101",1:"0011001",2:"0010011",3:"0111101",4:"0100011",5:"0110001",6:"0101111",7:"0111011",8:"0110111",9:"0001011"},a={0:"0100111",1:"0110011",2:"0011011",3:"0100001",4:"0011101",5:"0111001",6:"0000101",7:"0010001",8:"0001001",9:"0010111"},s={0:"1110010",1:"1100110",2:"1101100",3:"1000010",4:"1011100",5:"1001110",6:"1010000",7:"1000100",8:"1001000",9:"1110100"},l={0:"LLLLLL",1:"LLGLGG",2:"LLGGLG",3:"LLGGGL",4:"LGLLGG",5:"LGGLLG",6:"LGGGLL",7:"LGLGLG",8:"LGLGGL",9:"LGGLGL"},u="101",c="101",d="01010",h=/^[0-9]{13}$/}function UPC(e){this.ean=new EAN("0"+e),this.valid=function(){return this.ean.valid()},this.encoded=function(){return this.ean.encoded()}}function ITF(e){function t(e){var t="";t+=o;for(var r=0;r<e.length;r+=2)t+=n(e.substr(r,2));return t+=a}function n(e){for(var t="",n=i[e[0]],r=i[e[1]],o=0;5>o;o++)t+="1"==n[o]?"111":"1",t+="1"==r[o]?"000":"0";return t}function r(e){return-1!==e.search(s)}this.ITFNumber=e+"",this.valid=function(){return r(this.ITFNumber)},this.encoded=function(){return r(this.ITFNumber)?t(this.ITFNumber):""};var i={0:"00110",1:"10001",2:"01001",3:"11000",4:"00101",5:"10100",6:"01100",7:"00011",8:"10010",9:"01010"},o="1010",a="11101",s=/^([0-9][0-9])+$/}function ITF14(e){function t(e){var t="";13==e.length&&(e+=r(e)),t+=a;for(var i=0;14>i;i+=2)t+=n(e.substr(i,2));return t+=s}function n(e){for(var t="",n=o[e[0]],r=o[e[1]],i=0;5>i;i++)t+="1"==n[i]?"111":"1",t+="1"==r[i]?"000":"0";return t}function r(e){for(var t=0,n=0;13>n;n++)t+=parseInt(e[n])*(3-n%2*2);return 10-t%10}function i(e){return-1==e.search(l)?!1:14==e.length?e[13]==r(e):!0}this.ITF14number=e+"",this.valid=function(){return i(this.ITF14number)},this.encoded=function(){return i(this.ITF14number)?t(this.ITF14number):""};var o={0:"00110",1:"10001",2:"01001",3:"11000",4:"00101",5:"10100",6:"01100",7:"00011",8:"10010",9:"01010"},a="1010",s="11101",l=/^[0-9]{13,14}$/}function pharmacode(e){function t(e,r){if(0==e.length)return"";var i,o=!1,a=n(e);return 0==a?(i=r?"001":"00111",o=r):(i="001".repeat(a-(r?1:0)),i+="00111"),t(e.substr(0,e.length-a-1),o)+i}this.number=parseInt(e),this.encoded=function(){return this.valid(this.number)?t(this.number.toString(2),!0).substr(2):""},this.valid=function(){return this.number>=3&&this.number<=131070};var n=function(e){for(var t=e.length-1,n=0;"0"==e[t]||0>t;)n++,t--;return n};String.prototype.repeat=function(e){return new Array(e+1).join(this)}}if(function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t="length"in e&&e.length,n=Z.type(e);return"function"===n||Z.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(Z.isFunction(t))return Z.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return Z.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(se.test(t))return Z.filter(t,e,n);t=Z.filter(t,e)}return Z.grep(e,function(e){return z.call(t,e)>=0!==n})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t=fe[e]={};return Z.each(e.match(pe)||[],function(e,n){t[n]=!0}),t}function a(){Y.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1),Z.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Z.expando+s.uid++}function l(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(we,"-$1").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:be.test(n)?Z.parseJSON(n):n}catch(i){}ye.set(e,t,n)}else n=void 0;return n}function u(){return!0}function c(){return!1}function d(){try{return Y.activeElement}catch(e){}}function h(e,t){return Z.nodeName(e,"table")&&Z.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function p(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function f(e){var t=Fe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var n=0,r=e.length;r>n;n++)ve.set(e[n],"globalEval",!t||ve.get(t[n],"globalEval"))}function m(e,t){var n,r,i,o,a,s,l,u;if(1===t.nodeType){if(ve.hasData(e)&&(o=ve.access(e),a=ve.set(t,o),u=o.events)){delete a.handle,a.events={};for(i in u)for(n=0,r=u[i].length;r>n;n++)Z.event.add(t,i,u[i][n])}ye.hasData(e)&&(s=ye.access(e),l=Z.extend({},s),ye.set(t,l))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Z.nodeName(e,t)?Z.merge([e],n):n}function y(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ce.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function b(t,n){var r,i=Z(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:Z.css(i[0],"display");return i.detach(),o}function w(e){var t=Y,n=qe[e];return n||(n=b(e,t),"none"!==n&&n||(Ue=(Ue||Z("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Ue[0].contentDocument,t.write(),t.close(),n=b(e,t),Ue.detach()),qe[e]=n),n}function $(e,t,n){var r,i,o,a,s=e.style;return n=n||He(e),n&&(a=n.getPropertyValue(t)||n[t]),n&&(""!==a||Z.contains(e.ownerDocument,e)||(a=Z.style(e,t)),Be.test(a)&&Le.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function x(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function k(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,i=Qe.length;i--;)if(t=Qe[i]+n,t in e)return t;return r}function C(e,t,n){var r=Ve.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function _(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=Z.css(e,n+xe[o],!0,i)),r?("content"===n&&(a-=Z.css(e,"padding"+xe[o],!0,i)),"margin"!==n&&(a-=Z.css(e,"border"+xe[o]+"Width",!0,i))):(a+=Z.css(e,"padding"+xe[o],!0,i),"padding"!==n&&(a+=Z.css(e,"border"+xe[o]+"Width",!0,i)));return a}function A(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=He(e),a="border-box"===Z.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=$(e,t,o),(0>i||null==i)&&(i=e.style[t]),Be.test(i))return i;r=a&&(J.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+_(e,t,n||(a?"border":"content"),r,o)+"px"}function T(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(o[a]=ve.get(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&ke(r)&&(o[a]=ve.access(r,"olddisplay",w(r.nodeName)))):(i=ke(r),"none"===n&&i||ve.set(r,"olddisplay",i?n:Z.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function E(e,t,n,r,i){return new E.prototype.init(e,t,n,r,i)}function S(){return setTimeout(function(){Je=void 0}),Je=Z.now()}function D(e,t){var n,r=0,i={height:e};for(t=t?1:0;4>r;r+=2-t)n=xe[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function O(e,t,n){for(var r,i=(nt[t]||[]).concat(nt["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function P(e,t,n){var r,i,o,a,s,l,u,c,d=this,h={},p=e.style,f=e.nodeType&&ke(e),g=ve.get(e,"fxshow");n.queue||(s=Z._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,Z.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],u=Z.css(e,"display"),c="none"===u?ve.get(e,"olddisplay")||w(e.nodeName):u,"inline"===c&&"none"===Z.css(e,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Xe.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(f?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;f=!0}h[r]=g&&g[r]||Z.style(e,r)}else u=void 0;if(Z.isEmptyObject(h))"inline"===("none"===u?w(e.nodeName):u)&&(p.display=u);else{g?"hidden"in g&&(f=g.hidden):g=ve.access(e,"fxshow",{}),o&&(g.hidden=!f),f?Z(e).show():d.done(function(){Z(e).hide()}),d.done(function(){var t;ve.remove(e,"fxshow");for(t in h)Z.style(e,t,h[t])});for(r in h)a=O(f?g[r]:0,r,d),r in g||(g[r]=a.start,f&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function N(e,t){var n,r,i,o,a;for(n in e)if(r=Z.camelCase(n),i=t[r],o=e[n],Z.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=Z.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function j(e,t,n){var r,i,o=0,a=tt.length,s=Z.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=Je||S(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,o=1-r,a=0,l=u.tweens.length;l>a;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),1>o&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:Z.extend({},t),opts:Z.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Je||S(),duration:n.duration,tweens:[],createTween:function(t,n){var r=Z.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(N(c,u.opts.specialEasing);a>o;o++)if(r=tt[o].call(u,e,c,u.opts))return r;return Z.map(c,O,u),Z.isFunction(u.opts.start)&&u.opts.start.call(e,u),Z.fx.timer(Z.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function I(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(pe)||[];if(Z.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function F(e,t,n,r){function i(s){var l;return o[s]=!0,Z.each(e[s]||[],function(e,s){var u=s(t,n,r);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),i(u),!1)}),l}var o={},a=e===bt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function R(e,t){var n,r,i=Z.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&Z.extend(!0,e,r),e}function M(e,t,n){for(var r,i,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){o=i;break}a||(a=i)}o=o||a}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function U(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(i in u)if(s=i.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[i]:u[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function q(e,t,n,r){var i;if(Z.isArray(t))Z.each(t,function(t,i){n||Ct.test(e)?r(e,i):q(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==Z.type(t))r(e,t);else for(i in t)q(e+"["+i+"]",t[i],n,r)}function L(e){return Z.isWindow(e)?e:9===e.nodeType&&e.defaultView}var B=[],H=B.slice,W=B.concat,V=B.push,z=B.indexOf,K={},G=K.toString,Q=K.hasOwnProperty,J={},Y=e.document,X="2.1.4",Z=function(e,t){return new Z.fn.init(e,t)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,te=/^-ms-/,ne=/-([\da-z])/gi,re=function(e,t){return t.toUpperCase()};Z.fn=Z.prototype={jquery:X,constructor:Z,selector:"",length:0,toArray:function(){return H.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:H.call(this)},pushStack:function(e){var t=Z.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Z.each(this,e,t)},map:function(e){return this.pushStack(Z.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(H.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:V,sort:B.sort,splice:B.splice},Z.extend=Z.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||Z.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],r=e[t],a!==r&&(u&&r&&(Z.isPlainObject(r)||(i=Z.isArray(r)))?(i?(i=!1,o=n&&Z.isArray(n)?n:[]):o=n&&Z.isPlainObject(n)?n:{},a[t]=Z.extend(u,o,r)):void 0!==r&&(a[t]=r));return a},Z.extend({expando:"jQuery"+(X+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Z.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Z.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"!==Z.type(e)||e.nodeType||Z.isWindow(e)?!1:e.constructor&&!Q.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?K[G.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=Z.trim(e),e&&(1===e.indexOf("use strict")?(t=Y.createElement("script"),t.text=e,Y.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(te,"ms-").replace(ne,re)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,a=e.length,s=n(e);if(r){if(s)for(;a>o&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(s)for(;a>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ee,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?Z.merge(r,"string"==typeof e?[e]:e):V.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:z.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;a>o;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,a=e.length,s=n(e),l=[];if(s)for(;a>o;o++)i=t(e[o],o,r),null!=i&&l.push(i);else for(o in e)i=t(e[o],o,r),null!=i&&l.push(i);return W.apply([],l)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(n=e[t],t=e,e=n),Z.isFunction(e)?(r=H.call(arguments,2),i=function(){return e.apply(t||this,r.concat(H.call(arguments)))},i.guid=e.guid=e.guid||Z.guid++,i):void 0},now:Date.now,support:J}),Z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){K["[object "+t+"]"]=t.toLowerCase()});var ie=function(e){function t(e,t,n,r){var i,o,a,s,l,u,d,p,f,g;if((t?t.ownerDocument||t:q)!==P&&O(t),t=t||P,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!r&&j){if(11!==s&&(i=ye.exec(e)))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&M(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return X.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&$.getElementsByClassName)return X.apply(n,t.getElementsByClassName(a)),n}if($.qsa&&(!I||!I.test(e))){if(p=d=U,f=t,g=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(u=_(e),(d=t.getAttribute("id"))?p=d.replace(we,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=u.length;l--;)u[l]=p+h(u[l]);f=be.test(e)&&c(t.parentNode)||t,g=u.join(",")}if(g)try{return X.apply(n,f.querySelectorAll(g)),n}catch(m){}finally{d||t.removeAttribute("id")}}}return T(e.replace(le,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>x.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[U]=!0,e}function i(e){var t=P.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)x.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||K)-(~e.sourceIndex||K);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function h(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=B++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,l,u=[L,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(l=t[U]||(t[U]={}),(s=l[r])&&s[0]===L&&s[1]===o)return u[2]=s[2];if(l[r]=u,u[2]=e(t,n,a))return!0}}}function f(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function g(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function m(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,u=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),u&&t.push(s));return a}function v(e,t,n,i,o,a){return i&&!i[U]&&(i=v(i)),o&&!o[U]&&(o=v(o,a)),r(function(r,a,s,l){var u,c,d,h=[],p=[],f=a.length,v=r||g(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:m(v,h,e,s,l),b=n?o||(r?e:f||i)?[]:a:y;if(n&&n(y,b,s,l),i)for(u=m(b,p),i(u,[],s,l),c=u.length;c--;)(d=u[c])&&(b[p[c]]=!(y[p[c]]=d));if(r){if(o||e){if(o){for(u=[],c=b.length;c--;)(d=b[c])&&u.push(y[c]=d);o(null,b=[],u,l)}for(c=b.length;c--;)(d=b[c])&&(u=o?ee(r,d):h[c])>-1&&(r[u]=!(a[u]=d))}}else b=m(b===a?b.splice(f,b.length):b),o?o(null,a,b,l):X.apply(a,b)})}function y(e){for(var t,n,r,i=e.length,o=x.relative[e[0].type],a=o||x.relative[" "],s=o?1:0,l=p(function(e){return e===t},a,!0),u=p(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==E)||((t=n).nodeType?l(e,n,r):u(e,n,r));return t=null,i}];i>s;s++)if(n=x.relative[e[s].type])c=[p(f(c),n)];else{if(n=x.filter[e[s].type].apply(null,e[s].matches),n[U]){for(r=++s;i>r&&!x.relative[e[r].type];r++);return v(s>1&&f(c),s>1&&h(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(le,"$1"),n,r>s&&y(e.slice(s,r)),i>r&&y(e=e.slice(r)),i>r&&h(e))}c.push(n)}return f(c)}function b(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,l,u){var c,d,h,p=0,f="0",g=r&&[],v=[],y=E,b=r||o&&x.find.TAG("*",u),w=L+=null==y?1:Math.random()||.1,$=b.length;for(u&&(E=a!==P&&a);f!==$&&null!=(c=b[f]);f++){if(o&&c){for(d=0;h=e[d++];)if(h(c,a,s)){l.push(c);break}u&&(L=w)}i&&((c=!h&&c)&&p--,r&&g.push(c))}if(p+=f,i&&f!==p){for(d=0;h=n[d++];)h(g,v,a,s);if(r){if(p>0)for(;f--;)g[f]||v[f]||(v[f]=J.call(l));v=m(v)}X.apply(l,v),u&&!r&&v.length>0&&p+n.length>1&&t.uniqueSort(l)}return u&&(L=w,E=y),g};return i?r(a):a}var w,$,x,k,C,_,A,T,E,S,D,O,P,N,j,I,F,R,M,U="sizzle"+1*new Date,q=e.document,L=0,B=0,H=n(),W=n(),V=n(),z=function(e,t){return e===t&&(D=!0),0},K=1<<31,G={}.hasOwnProperty,Q=[],J=Q.pop,Y=Q.push,X=Q.push,Z=Q.slice,ee=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=re.replace("w","w#"),oe="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",ae=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),de=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),he=new RegExp(ae),pe=new RegExp("^"+ie+"$"),fe={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},ge=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,we=/'|\\/g,$e=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),xe=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},ke=function(){O()};try{X.apply(Q=Z.call(q.childNodes),q.childNodes),Q[q.childNodes.length].nodeType}catch(Ce){X={apply:Q.length?function(e,t){Y.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}$=t.support={},C=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},O=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:q;return r!==P&&9===r.nodeType&&r.documentElement?(P=r,N=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",ke,!1):n.attachEvent&&n.attachEvent("onunload",ke)),j=!C(r),$.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),$.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),$.getElementsByClassName=ve.test(r.getElementsByClassName),$.getById=i(function(e){return N.appendChild(e).id=U,!r.getElementsByName||!r.getElementsByName(U).length}),$.getById?(x.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&j){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},x.filter.ID=function(e){var t=e.replace($e,xe);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var t=e.replace($e,xe);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),x.find.TAG=$.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):$.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},x.find.CLASS=$.getElementsByClassName&&function(e,t){return j?t.getElementsByClassName(e):void 0},F=[],I=[],($.qsa=ve.test(r.querySelectorAll))&&(i(function(e){N.appendChild(e).innerHTML="<a id='"+U+"'></a><select id='"+U+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&I.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||I.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+U+"-]").length||I.push("~="),e.querySelectorAll(":checked").length||I.push(":checked"),e.querySelectorAll("a#"+U+"+*").length||I.push(".#.+[+~]")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&I.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),I.push(",.*:")})),($.matchesSelector=ve.test(R=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&i(function(e){$.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),F.push("!=",ae)}),I=I.length&&new RegExp(I.join("|")),F=F.length&&new RegExp(F.join("|")),t=ve.test(N.compareDocumentPosition),M=t||ve.test(N.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},z=t?function(e,t){if(e===t)return D=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!$.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===q&&M(q,e)?-1:t===r||t.ownerDocument===q&&M(q,t)?1:S?ee(S,e)-ee(S,t):0:4&n?-1:1)}:function(e,t){if(e===t)return D=!0,0;var n,i=0,o=e.parentNode,s=t.parentNode,l=[e],u=[t];if(!o||!s)return e===r?-1:t===r?1:o?-1:s?1:S?ee(S,e)-ee(S,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;l[i]===u[i];)i++;return i?a(l[i],u[i]):l[i]===q?-1:u[i]===q?1:0},r):P},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==P&&O(e),n=n.replace(de,"='$1']"),$.matchesSelector&&j&&(!F||!F.test(n))&&(!I||!I.test(n)))try{var r=R.call(e,n);if(r||$.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,P,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==P&&O(e),M(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==P&&O(e);var n=x.attrHandle[t.toLowerCase()],r=n&&G.call(x.attrHandle,t.toLowerCase())?n(e,t,!j):void 0;
return void 0!==r?r:$.attributes||!j?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(D=!$.detectDuplicates,S=!$.sortStable&&e.slice(0),e.sort(z),D){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return S=null,e},k=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=k(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=k(t);return n},x=t.selectors={cacheLength:50,createPseudo:r,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace($e,xe),e[3]=(e[3]||e[4]||e[5]||"").replace($e,xe),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&he.test(n)&&(t=_(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace($e,xe).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=H[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&H(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(se," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,h,p,f,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(m){if(o){for(;g;){for(d=t;d=d[g];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?m.firstChild:m.lastChild],a&&y){for(c=m[U]||(m[U]={}),u=c[e]||[],p=u[0]===L&&u[1],h=u[0]===L&&u[2],d=p&&m.childNodes[p];d=++p&&d&&d[g]||(h=p=0)||f.pop();)if(1===d.nodeType&&++h&&d===t){c[e]=[L,p,h];break}}else if(y&&(u=(t[U]||(t[U]={}))[e])&&u[0]===L)h=u[1];else for(;(d=++p&&d&&d[g]||(h=p=0)||f.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(y&&((d[U]||(d[U]={}))[e]=[L,h]),d!==t)););return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,n){var i,o=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[U]?o(n):o.length>1?(i=[e,e,"",n],x.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=ee(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=A(e.replace(le,"$1"));return i[U]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace($e,xe),function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:r(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace($e,xe).toLowerCase(),function(t){var n;do if(n=j?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===N},focus:function(e){return e===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return ge.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},x.pseudos.nth=x.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})x.pseudos[w]=l(w);return d.prototype=x.filters=x.pseudos,x.setFilters=new d,_=t.tokenize=function(e,n){var r,i,o,a,s,l,u,c=W[e+" "];if(c)return n?0:c.slice(0);for(s=e,l=[],u=x.preFilter;s;){(!r||(i=ue.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=ce.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(le," ")}),s=s.slice(r.length));for(a in x.filter)!(i=fe[a].exec(s))||u[a]&&!(i=u[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):W(e,l).slice(0)},A=t.compile=function(e,t){var n,r=[],i=[],o=V[e+" "];if(!o){for(t||(t=_(e)),n=t.length;n--;)o=y(t[n]),o[U]?r.push(o):i.push(o);o=V(e,b(i,r)),o.selector=e}return o},T=t.select=function(e,t,n,r){var i,o,a,s,l,u="function"==typeof e&&e,d=!r&&_(e=u.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&$.getById&&9===t.nodeType&&j&&x.relative[o[1].type]){if(t=(x.find.ID(a.matches[0].replace($e,xe),t)||[])[0],!t)return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=fe.needsContext.test(e)?0:o.length;i--&&(a=o[i],!x.relative[s=a.type]);)if((l=x.find[s])&&(r=l(a.matches[0].replace($e,xe),be.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&h(o),!e)return X.apply(n,r),n;break}}return(u||A(e,d))(r,t,!j,n,be.test(e)&&c(t.parentNode)||t),n},$.sortStable=U.split("").sort(z).join("")===U,$.detectDuplicates=!!D,O(),$.sortDetached=i(function(e){return 1&e.compareDocumentPosition(P.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),$.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);Z.find=ie,Z.expr=ie.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=ie.uniqueSort,Z.text=ie.getText,Z.isXMLDoc=ie.isXML,Z.contains=ie.contains;var oe=Z.expr.match.needsContext,ae=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,se=/^.[^:#\[\.,]*$/;Z.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?Z.find.matchesSelector(r,e)?[r]:[]:Z.find.matches(e,Z.grep(t,function(e){return 1===e.nodeType}))},Z.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(Z(e).filter(function(){for(t=0;n>t;t++)if(Z.contains(i[t],this))return!0}));for(t=0;n>t;t++)Z.find(e,i[t],r);return r=this.pushStack(n>1?Z.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&oe.test(e)?Z(e):e||[],!1).length}});var le,ue=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ce=Z.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ue.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||le).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof Z?t[0]:t,Z.merge(this,Z.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:Y,!0)),ae.test(n[1])&&Z.isPlainObject(t))for(n in t)Z.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=Y.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=Y,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Z.isFunction(e)?"undefined"!=typeof le.ready?le.ready(e):e(Z):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Z.makeArray(e,this))};ce.prototype=Z.fn,le=Z(Y);var de=/^(?:parents|prev(?:Until|All))/,he={children:!0,contents:!0,next:!0,prev:!0};Z.extend({dir:function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&Z(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),Z.fn.extend({has:function(e){var t=Z(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(Z.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=oe.test(e)||"string"!=typeof e?Z(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&Z.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?Z.unique(o):o)},index:function(e){return e?"string"==typeof e?z.call(Z(e),this[0]):z.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Z.unique(Z.merge(this.get(),Z(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Z.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Z.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Z.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return Z.dir(e,"nextSibling")},prevAll:function(e){return Z.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Z.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Z.dir(e,"previousSibling",n)},siblings:function(e){return Z.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Z.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Z.merge([],e.childNodes)}},function(e,t){Z.fn[e]=function(n,r){var i=Z.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=Z.filter(r,i)),this.length>1&&(he[e]||Z.unique(i),de.test(e)&&i.reverse()),this.pushStack(i)}});var pe=/\S+/g,fe={};Z.Callbacks=function(e){e="string"==typeof e?fe[e]||o(e):Z.extend({},e);var t,n,r,i,a,s,l=[],u=!e.once&&[],c=function(o){for(t=e.memory&&o,n=!0,s=i||0,i=0,a=l.length,r=!0;l&&a>s;s++)if(l[s].apply(o[0],o[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,l&&(u?u.length&&c(u.shift()):t?l=[]:d.disable())},d={add:function(){if(l){var n=l.length;!function o(t){Z.each(t,function(t,n){var r=Z.type(n);"function"===r?e.unique&&d.has(n)||l.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),r?a=l.length:t&&(i=n,c(t))}return this},remove:function(){return l&&Z.each(arguments,function(e,t){for(var n;(n=Z.inArray(t,l,n))>-1;)l.splice(n,1),r&&(a>=n&&a--,s>=n&&s--)}),this},has:function(e){return e?Z.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=u=t=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,t||d.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!l||n&&!u||(t=t||[],t=[e,t.slice?t.slice():t],r?u.push(t):c(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},Z.extend({Deferred:function(e){var t=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Z.Deferred(function(n){Z.each(t,function(t,o){var a=Z.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&Z.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Z.extend(e,r):r}},i={};return r.pipe=r.then,Z.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=H.call(arguments),a=o.length,s=1!==a||e&&Z.isFunction(e.promise)?a:0,l=1===s?e:Z.Deferred(),u=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?H.call(arguments):i,r===t?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&Z.isFunction(o[i].promise)?o[i].promise().done(u(i,r,o)).fail(l.reject).progress(u(i,n,t)):--s;return s||l.resolveWith(r,o),l.promise()}});var ge;Z.fn.ready=function(e){return Z.ready.promise().done(e),this},Z.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Z.readyWait++:Z.ready(!0)},ready:function(e){(e===!0?--Z.readyWait:Z.isReady)||(Z.isReady=!0,e!==!0&&--Z.readyWait>0||(ge.resolveWith(Y,[Z]),Z.fn.triggerHandler&&(Z(Y).triggerHandler("ready"),Z(Y).off("ready"))))}}),Z.ready.promise=function(t){return ge||(ge=Z.Deferred(),"complete"===Y.readyState?setTimeout(Z.ready):(Y.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1))),ge.promise(t)},Z.ready.promise();var me=Z.access=function(e,t,n,r,i,o,a){var s=0,l=e.length,u=null==n;if("object"===Z.type(n)){i=!0;for(s in n)Z.access(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,Z.isFunction(r)||(a=!0),u&&(a?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(Z(e),n)})),t))for(;l>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:u?t.call(e):l?t(e[0],n):o};Z.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},s.uid=1,s.accepts=Z.acceptData,s.prototype={key:function(e){if(!s.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=s.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,Z.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(Z.isEmptyObject(o))Z.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?(r=this.get(e,t),void 0!==r?r:this.get(e,Z.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=this.key(e),a=this.cache[o];if(void 0===t)this.cache[o]={};else{Z.isArray(t)?r=t.concat(t.map(Z.camelCase)):(i=Z.camelCase(t),t in a?r=[t,i]:(r=i,r=r in a?[r]:r.match(pe)||[])),n=r.length;for(;n--;)delete a[r[n]]}},hasData:function(e){return!Z.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ve=new s,ye=new s,be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,we=/([A-Z])/g;Z.extend({hasData:function(e){return ye.hasData(e)||ve.hasData(e)},data:function(e,t,n){return ye.access(e,t,n)},removeData:function(e,t){ye.remove(e,t)},_data:function(e,t,n){return ve.access(e,t,n)},_removeData:function(e,t){ve.remove(e,t)}}),Z.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=ye.get(o),1===o.nodeType&&!ve.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=Z.camelCase(r.slice(5)),l(o,r,i[r])));ve.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){ye.set(this,e)}):me(this,function(t){var n,r=Z.camelCase(e);if(o&&void 0===t){if(n=ye.get(o,e),void 0!==n)return n;if(n=ye.get(o,r),void 0!==n)return n;if(n=l(o,r,void 0),void 0!==n)return n}else this.each(function(){var n=ye.get(this,r);ye.set(this,r,t),-1!==e.indexOf("-")&&void 0!==n&&ye.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ye.remove(this,e)})}}),Z.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=ve.get(e,t),n&&(!r||Z.isArray(n)?r=ve.access(e,t,Z.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Z.queue(e,t),r=n.length,i=n.shift(),o=Z._queueHooks(e,t),a=function(){Z.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ve.get(e,n)||ve.access(e,n,{empty:Z.Callbacks("once memory").add(function(){ve.remove(e,[t+"queue",n])})})}}),Z.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Z.queue(this[0],e):void 0===t?this:this.each(function(){var n=Z.queue(this,e,t);Z._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Z.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Z.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=Z.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=ve.get(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var $e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,xe=["Top","Right","Bottom","Left"],ke=function(e,t){return e=t||e,"none"===Z.css(e,"display")||!Z.contains(e.ownerDocument,e)},Ce=/^(?:checkbox|radio)$/i;!function(){var e=Y.createDocumentFragment(),t=e.appendChild(Y.createElement("div")),n=Y.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),J.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",J.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var _e="undefined";J.focusinBubbles="onfocusin"in e;var Ae=/^key/,Te=/^(?:mouse|pointer|contextmenu)|click/,Ee=/^(?:focusinfocus|focusoutblur)$/,Se=/^([^.]*)(?:\.(.+)|)$/;Z.event={global:{},add:function(e,t,n,r,i){var o,a,s,l,u,c,d,h,p,f,g,m=ve.get(e);if(m)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=Z.guid++),(l=m.events)||(l=m.events={}),(a=m.handle)||(a=m.handle=function(t){return typeof Z!==_e&&Z.event.triggered!==t.type?Z.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(pe)||[""],u=t.length;u--;)s=Se.exec(t[u])||[],p=g=s[1],f=(s[2]||"").split(".").sort(),p&&(d=Z.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,d=Z.event.special[p]||{},c=Z.extend({type:p,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&Z.expr.match.needsContext.test(i),namespace:f.join(".")},o),(h=l[p])||(h=l[p]=[],h.delegateCount=0,d.setup&&d.setup.call(e,r,f,a)!==!1||e.addEventListener&&e.addEventListener(p,a,!1)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,c):h.push(c),Z.event.global[p]=!0)},remove:function(e,t,n,r,i){var o,a,s,l,u,c,d,h,p,f,g,m=ve.hasData(e)&&ve.get(e);if(m&&(l=m.events)){for(t=(t||"").match(pe)||[""],u=t.length;u--;)if(s=Se.exec(t[u])||[],p=g=s[1],f=(s[2]||"").split(".").sort(),p){for(d=Z.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,h=l[p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)c=h[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(h.splice(o,1),c.selector&&h.delegateCount--,d.remove&&d.remove.call(e,c));a&&!h.length&&(d.teardown&&d.teardown.call(e,f,m.handle)!==!1||Z.removeEvent(e,p,m.handle),delete l[p])}else for(p in l)Z.event.remove(e,p+t[u],n,r,!0);Z.isEmptyObject(l)&&(delete m.handle,ve.remove(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,l,u,c,d,h=[r||Y],p=Q.call(t,"type")?t.type:t,f=Q.call(t,"namespace")?t.namespace.split("."):[];if(a=s=r=r||Y,3!==r.nodeType&&8!==r.nodeType&&!Ee.test(p+Z.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),u=p.indexOf(":")<0&&"on"+p,t=t[Z.expando]?t:new Z.Event(p,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:Z.makeArray(n,[t]),d=Z.event.special[p]||{},i||!d.trigger||d.trigger.apply(r,n)!==!1)){if(!i&&!d.noBubble&&!Z.isWindow(r)){for(l=d.delegateType||p,Ee.test(l+p)||(a=a.parentNode);a;a=a.parentNode)h.push(a),s=a;s===(r.ownerDocument||Y)&&h.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=h[o++])&&!t.isPropagationStopped();)t.type=o>1?l:d.bindType||p,c=(ve.get(a,"events")||{})[t.type]&&ve.get(a,"handle"),c&&c.apply(a,n),c=u&&a[u],c&&c.apply&&Z.acceptData(a)&&(t.result=c.apply(a,n),t.result===!1&&t.preventDefault());return t.type=p,i||t.isDefaultPrevented()||d._default&&d._default.apply(h.pop(),n)!==!1||!Z.acceptData(r)||u&&Z.isFunction(r[p])&&!Z.isWindow(r)&&(s=r[u],s&&(r[u]=null),Z.event.triggered=p,r[p](),Z.event.triggered=void 0,s&&(r[u]=s)),t.result}},dispatch:function(e){e=Z.event.fix(e);var t,n,r,i,o,a=[],s=H.call(arguments),l=(ve.get(this,"events")||{})[e.type]||[],u=Z.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(a=Z.event.handlers.call(this,e,l),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,r=((Z.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==e.type){for(r=[],n=0;s>n;n++)o=t[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?Z(i,this).index(l)>=0:Z.find(i,this,null,[l]).length),r[i]&&r.push(o);r.length&&a.push({elem:l,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||Y,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[Z.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Te.test(i)?this.mouseHooks:Ae.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new Z.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=Y),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==d()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===d()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Z.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return Z.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=Z.extend(new Z.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?Z.event.trigger(i,null,t):Z.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},Z.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},Z.Event=function(e,t){return this instanceof Z.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?u:c):this.type=e,t&&Z.extend(this,t),this.timeStamp=e&&e.timeStamp||Z.now(),void(this[Z.expando]=!0)):new Z.Event(e,t)},Z.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=u,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=u,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=u,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Z.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!Z.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),J.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Z.event.simulate(t,e.target,Z.event.fix(e),!0)};Z.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=ve.access(r,t);i||r.addEventListener(e,n,!0),ve.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ve.access(r,t)-1;i?ve.access(r,t,i):(r.removeEventListener(e,n,!0),ve.remove(r,t))}}}),Z.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(a in e)this.on(a,t,n,e[a],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=c;else if(!r)return this;return 1===i&&(o=r,r=function(e){return Z().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=Z.guid++)),this.each(function(){Z.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Z(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=c),this.each(function(){Z.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){Z.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?Z.event.trigger(e,t,n,!0):void 0}});var De=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Oe=/<([\w:]+)/,Pe=/<|&#?\w+;/,Ne=/<(?:script|style|link)/i,je=/checked\s*(?:[^=]|=\s*.checked.)/i,Ie=/^$|\/(?:java|ecma)script/i,Fe=/^true\/(.*)/,Re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Me={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Me.optgroup=Me.option,Me.tbody=Me.tfoot=Me.colgroup=Me.caption=Me.thead,Me.th=Me.td,Z.extend({clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),l=Z.contains(e.ownerDocument,e);if(!(J.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Z.isXMLDoc(e)))for(a=v(s),o=v(e),r=0,i=o.length;i>r;r++)y(o[r],a[r]);if(t)if(n)for(o=o||v(e),a=a||v(s),r=0,i=o.length;i>r;r++)m(o[r],a[r]);else m(e,s);return a=v(s,"script"),a.length>0&&g(a,!l&&v(e,"script")),s},buildFragment:function(e,t,n,r){for(var i,o,a,s,l,u,c=t.createDocumentFragment(),d=[],h=0,p=e.length;p>h;h++)if(i=e[h],i||0===i)if("object"===Z.type(i))Z.merge(d,i.nodeType?[i]:i);else if(Pe.test(i)){for(o=o||c.appendChild(t.createElement("div")),a=(Oe.exec(i)||["",""])[1].toLowerCase(),s=Me[a]||Me._default,o.innerHTML=s[1]+i.replace(De,"<$1></$2>")+s[2],u=s[0];u--;)o=o.lastChild;Z.merge(d,o.childNodes),o=c.firstChild,o.textContent=""}else d.push(t.createTextNode(i));for(c.textContent="",h=0;i=d[h++];)if((!r||-1===Z.inArray(i,r))&&(l=Z.contains(i.ownerDocument,i),o=v(c.appendChild(i),"script"),l&&g(o),n))for(u=0;i=o[u++];)Ie.test(i.type||"")&&n.push(i);return c},cleanData:function(e){for(var t,n,r,i,o=Z.event.special,a=0;void 0!==(n=e[a]);a++){if(Z.acceptData(n)&&(i=n[ve.expando],i&&(t=ve.cache[i]))){if(t.events)for(r in t.events)o[r]?Z.event.remove(n,r):Z.removeEvent(n,r,t.handle);ve.cache[i]&&delete ve.cache[i]}delete ye.cache[n[ye.expando]]}}}),Z.fn.extend({text:function(e){return me(this,function(e){return void 0===e?Z.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?Z.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||Z.cleanData(v(n)),n.parentNode&&(t&&Z.contains(n.ownerDocument,n)&&g(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Z.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Z.clone(this,e,t)})},html:function(e){return me(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ne.test(e)&&!Me[(Oe.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(De,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(Z.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Z.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=W.apply([],e);var n,r,i,o,a,s,l=0,u=this.length,c=this,d=u-1,h=e[0],g=Z.isFunction(h);if(g||u>1&&"string"==typeof h&&!J.checkClone&&je.test(h))return this.each(function(n){var r=c.eq(n);g&&(e[0]=h.call(this,n,r.html())),r.domManip(e,t)});if(u&&(n=Z.buildFragment(e,this[0].ownerDocument,!1,this),
r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(i=Z.map(v(n,"script"),p),o=i.length;u>l;l++)a=n,l!==d&&(a=Z.clone(a,!0,!0),o&&Z.merge(i,v(a,"script"))),t.call(this[l],a,l);if(o)for(s=i[i.length-1].ownerDocument,Z.map(i,f),l=0;o>l;l++)a=i[l],Ie.test(a.type||"")&&!ve.access(a,"globalEval")&&Z.contains(s,a)&&(a.src?Z._evalUrl&&Z._evalUrl(a.src):Z.globalEval(a.textContent.replace(Re,"")))}return this}}),Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Z.fn[e]=function(e){for(var n,r=[],i=Z(e),o=i.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),Z(i[a])[t](n),V.apply(r,n.get());return this.pushStack(r)}});var Ue,qe={},Le=/^margin/,Be=new RegExp("^("+$e+")(?!px)[a-z%]+$","i"),He=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",i.appendChild(o);var t=e.getComputedStyle(a,null);n="1%"!==t.top,r="4px"===t.width,i.removeChild(o)}var n,r,i=Y.documentElement,o=Y.createElement("div"),a=Y.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",J.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(a),e.getComputedStyle&&Z.extend(J,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==r&&t(),r},reliableMarginRight:function(){var t,n=a.appendChild(Y.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",i.appendChild(o),t=!parseFloat(e.getComputedStyle(n,null).marginRight),i.removeChild(o),a.removeChild(n),t}}))}(),Z.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};var We=/^(none|table(?!-c[ea]).+)/,Ve=new RegExp("^("+$e+")(.*)$","i"),ze=new RegExp("^([+-])=("+$e+")","i"),Ke={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:"0",fontWeight:"400"},Qe=["Webkit","O","Moz","ms"];Z.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=$(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=Z.camelCase(t),l=e.style;return t=Z.cssProps[s]||(Z.cssProps[s]=k(l,s)),a=Z.cssHooks[t]||Z.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t]:(o=typeof n,"string"===o&&(i=ze.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(Z.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||Z.cssNumber[s]||(n+="px"),J.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(l[t]=n)),void 0)}},css:function(e,t,n,r){var i,o,a,s=Z.camelCase(t);return t=Z.cssProps[s]||(Z.cssProps[s]=k(e.style,s)),a=Z.cssHooks[t]||Z.cssHooks[s],a&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=$(e,t,r)),"normal"===i&&t in Ge&&(i=Ge[t]),""===n||n?(o=parseFloat(i),n===!0||Z.isNumeric(o)?o||0:i):i}}),Z.each(["height","width"],function(e,t){Z.cssHooks[t]={get:function(e,n,r){return n?We.test(Z.css(e,"display"))&&0===e.offsetWidth?Z.swap(e,Ke,function(){return A(e,t,r)}):A(e,t,r):void 0},set:function(e,n,r){var i=r&&He(e);return C(e,n,r?_(e,t,r,"border-box"===Z.css(e,"boxSizing",!1,i),i):0)}}}),Z.cssHooks.marginRight=x(J.reliableMarginRight,function(e,t){return t?Z.swap(e,{display:"inline-block"},$,[e,"marginRight"]):void 0}),Z.each({margin:"",padding:"",border:"Width"},function(e,t){Z.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+xe[r]+t]=o[r]||o[r-2]||o[0];return i}},Le.test(e)||(Z.cssHooks[e+t].set=C)}),Z.fn.extend({css:function(e,t){return me(this,function(e,t,n){var r,i,o={},a=0;if(Z.isArray(t)){for(r=He(e),i=t.length;i>a;a++)o[t[a]]=Z.css(e,t[a],!1,r);return o}return void 0!==n?Z.style(e,t,n):Z.css(e,t)},e,t,arguments.length>1)},show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ke(this)?Z(this).show():Z(this).hide()})}}),Z.Tween=E,E.prototype={constructor:E,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(Z.cssNumber[n]?"":"px")},cur:function(){var e=E.propHooks[this.prop];return e&&e.get?e.get(this):E.propHooks._default.get(this)},run:function(e){var t,n=E.propHooks[this.prop];return this.options.duration?this.pos=t=Z.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):E.propHooks._default.set(this),this}},E.prototype.init.prototype=E.prototype,E.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Z.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Z.fx.step[e.prop]?Z.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Z.cssProps[e.prop]]||Z.cssHooks[e.prop])?Z.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},E.propHooks.scrollTop=E.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Z.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Z.fx=E.prototype.init,Z.fx.step={};var Je,Ye,Xe=/^(?:toggle|show|hide)$/,Ze=new RegExp("^(?:([+-])=|)("+$e+")([a-z%]*)$","i"),et=/queueHooks$/,tt=[P],nt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Ze.exec(t),o=i&&i[3]||(Z.cssNumber[e]?"":"px"),a=(Z.cssNumber[e]||"px"!==o&&+r)&&Ze.exec(Z.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,Z.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--l)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};Z.Animation=Z.extend(j,{tweener:function(e,t){Z.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],nt[n]=nt[n]||[],nt[n].unshift(t)},prefilter:function(e,t){t?tt.unshift(e):tt.push(e)}}),Z.speed=function(e,t,n){var r=e&&"object"==typeof e?Z.extend({},e):{complete:n||!n&&t||Z.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Z.isFunction(t)&&t};return r.duration=Z.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in Z.fx.speeds?Z.fx.speeds[r.duration]:Z.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){Z.isFunction(r.old)&&r.old.call(this),r.queue&&Z.dequeue(this,r.queue)},r},Z.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ke).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=Z.isEmptyObject(e),o=Z.speed(t,n,r),a=function(){var t=j(this,Z.extend({},e),o);(i||ve.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=Z.timers,a=ve.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&et.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&Z.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ve.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=Z.timers,a=r?r.length:0;for(n.finish=!0,Z.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),Z.each(["toggle","show","hide"],function(e,t){var n=Z.fn[t];Z.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(D(t,!0),e,r,i)}}),Z.each({slideDown:D("show"),slideUp:D("hide"),slideToggle:D("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Z.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),Z.timers=[],Z.fx.tick=function(){var e,t=0,n=Z.timers;for(Je=Z.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||Z.fx.stop(),Je=void 0},Z.fx.timer=function(e){Z.timers.push(e),e()?Z.fx.start():Z.timers.pop()},Z.fx.interval=13,Z.fx.start=function(){Ye||(Ye=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.stop=function(){clearInterval(Ye),Ye=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fn.delay=function(e,t){return e=Z.fx?Z.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=Y.createElement("input"),t=Y.createElement("select"),n=t.appendChild(Y.createElement("option"));e.type="checkbox",J.checkOn=""!==e.value,J.optSelected=n.selected,t.disabled=!0,J.optDisabled=!n.disabled,e=Y.createElement("input"),e.value="t",e.type="radio",J.radioValue="t"===e.value}();var rt,it,ot=Z.expr.attrHandle;Z.fn.extend({attr:function(e,t){return me(this,Z.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Z.removeAttr(this,e)})}}),Z.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===_e?Z.prop(e,t,n):(1===o&&Z.isXMLDoc(e)||(t=t.toLowerCase(),r=Z.attrHooks[t]||(Z.expr.match.bool.test(t)?it:rt)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=Z.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void Z.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(pe);if(o&&1===e.nodeType)for(;n=o[i++];)r=Z.propFix[n]||n,Z.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!J.radioValue&&"radio"===t&&Z.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),it={set:function(e,t,n){return t===!1?Z.removeAttr(e,n):e.setAttribute(n,n),n}},Z.each(Z.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ot[t]||Z.find.attr;ot[t]=function(e,t,r){var i,o;return r||(o=ot[t],ot[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,ot[t]=o),i}});var at=/^(?:input|select|textarea|button)$/i;Z.fn.extend({prop:function(e,t){return me(this,Z.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Z.propFix[e]||e]})}}),Z.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!Z.isXMLDoc(e),o&&(t=Z.propFix[t]||t,i=Z.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||at.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),J.optSelected||(Z.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Z.propFix[this.toLowerCase()]=this});var st=/[\t\r\n\f]/g;Z.fn.extend({addClass:function(e){var t,n,r,i,o,a,s="string"==typeof e&&e,l=0,u=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).addClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(pe)||[];u>l;l++)if(n=this[l],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(st," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=Z.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0===arguments.length||"string"==typeof e&&e,l=0,u=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).removeClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(pe)||[];u>l;l++)if(n=this[l],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(st," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?Z.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):Z.isFunction(e)?this.each(function(n){Z(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,r=0,i=Z(this),o=e.match(pe)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===_e||"boolean"===n)&&(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||e===!1?"":ve.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(st," ").indexOf(t)>=0)return!0;return!1}});var lt=/\r/g;Z.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=Z.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,Z(this).val()):e,null==i?i="":"number"==typeof i?i+="":Z.isArray(i)&&(i=Z.map(i,function(e){return null==e?"":e+""})),t=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=Z.valHooks[i.type]||Z.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(lt,""):null==n?"":n)}}}),Z.extend({valHooks:{option:{get:function(e){var t=Z.find.attr(e,"value");return null!=t?t:Z.trim(Z.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,l=0>i?s:o?i:0;s>l;l++)if(n=r[l],(n.selected||l===i)&&(J.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!Z.nodeName(n.parentNode,"optgroup"))){if(t=Z(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=Z.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=Z.inArray(r.value,o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]={set:function(e,t){return Z.isArray(t)?e.checked=Z.inArray(Z(e).val(),t)>=0:void 0}},J.checkOn||(Z.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Z.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Z.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var ut=Z.now(),ct=/\?/;Z.parseJSON=function(e){return JSON.parse(e+"")},Z.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(r){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&Z.error("Invalid XML: "+e),t};var dt=/#.*$/,ht=/([?&])_=[^&]*/,pt=/^(.*?):[ \t]*([^\r\n]*)$/gm,ft=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,gt=/^(?:GET|HEAD)$/,mt=/^\/\//,vt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,yt={},bt={},wt="*/".concat("*"),$t=e.location.href,xt=vt.exec($t.toLowerCase())||[];Z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:$t,type:"GET",isLocal:ft.test(xt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":wt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?R(R(e,Z.ajaxSettings),t):R(Z.ajaxSettings,e)},ajaxPrefilter:I(yt),ajaxTransport:I(bt),ajax:function(e,t){function n(e,t,n,a){var l,c,v,y,w,x=t;2!==b&&(b=2,s&&clearTimeout(s),r=void 0,o=a||"",$.readyState=e>0?4:0,l=e>=200&&300>e||304===e,n&&(y=M(d,$,n)),y=U(d,y,$,l),l?(d.ifModified&&(w=$.getResponseHeader("Last-Modified"),w&&(Z.lastModified[i]=w),w=$.getResponseHeader("etag"),w&&(Z.etag[i]=w)),204===e||"HEAD"===d.type?x="nocontent":304===e?x="notmodified":(x=y.state,c=y.data,v=y.error,l=!v)):(v=x,(e||!x)&&(x="error",0>e&&(e=0))),$.status=e,$.statusText=(t||x)+"",l?f.resolveWith(h,[c,x,$]):f.rejectWith(h,[$,x,v]),$.statusCode(m),m=void 0,u&&p.trigger(l?"ajaxSuccess":"ajaxError",[$,d,l?c:v]),g.fireWith(h,[$,x]),u&&(p.trigger("ajaxComplete",[$,d]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,a,s,l,u,c,d=Z.ajaxSetup({},t),h=d.context||d,p=d.context&&(h.nodeType||h.jquery)?Z(h):Z.event,f=Z.Deferred(),g=Z.Callbacks("once memory"),m=d.statusCode||{},v={},y={},b=0,w="canceled",$={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!a)for(a={};t=pt.exec(o);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else $.always(e[$.status]);return this},abort:function(e){var t=e||w;return r&&r.abort(t),n(0,t),this}};if(f.promise($).complete=g.add,$.success=$.done,$.error=$.fail,d.url=((e||d.url||$t)+"").replace(dt,"").replace(mt,xt[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=Z.trim(d.dataType||"*").toLowerCase().match(pe)||[""],null==d.crossDomain&&(l=vt.exec(d.url.toLowerCase()),d.crossDomain=!(!l||l[1]===xt[1]&&l[2]===xt[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(xt[3]||("http:"===xt[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=Z.param(d.data,d.traditional)),F(yt,d,t,$),2===b)return $;u=Z.event&&d.global,u&&0===Z.active++&&Z.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!gt.test(d.type),i=d.url,d.hasContent||(d.data&&(i=d.url+=(ct.test(i)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=ht.test(i)?i.replace(ht,"$1_="+ut++):i+(ct.test(i)?"&":"?")+"_="+ut++)),d.ifModified&&(Z.lastModified[i]&&$.setRequestHeader("If-Modified-Since",Z.lastModified[i]),Z.etag[i]&&$.setRequestHeader("If-None-Match",Z.etag[i])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&$.setRequestHeader("Content-Type",d.contentType),$.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+wt+"; q=0.01":""):d.accepts["*"]);for(c in d.headers)$.setRequestHeader(c,d.headers[c]);if(d.beforeSend&&(d.beforeSend.call(h,$,d)===!1||2===b))return $.abort();w="abort";for(c in{success:1,error:1,complete:1})$[c](d[c]);if(r=F(bt,d,t,$)){$.readyState=1,u&&p.trigger("ajaxSend",[$,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){$.abort("timeout")},d.timeout));try{b=1,r.send(v,n)}catch(x){if(!(2>b))throw x;n(-1,x)}}else n(-1,"No Transport");return $},getJSON:function(e,t,n){return Z.get(e,t,n,"json")},getScript:function(e,t){return Z.get(e,void 0,t,"script")}}),Z.each(["get","post"],function(e,t){Z[t]=function(e,n,r,i){return Z.isFunction(n)&&(i=i||r,r=n,n=void 0),Z.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),Z._evalUrl=function(e){return Z.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Z.fn.extend({wrapAll:function(e){var t;return Z.isFunction(e)?this.each(function(t){Z(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Z(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return Z.isFunction(e)?this.each(function(t){Z(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Z(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Z.isFunction(e);return this.each(function(n){Z(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()}}),Z.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Z.expr.filters.visible=function(e){return!Z.expr.filters.hidden(e)};var kt=/%20/g,Ct=/\[\]$/,_t=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,Tt=/^(?:input|select|textarea|keygen)/i;Z.param=function(e,t){var n,r=[],i=function(e,t){t=Z.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(e)||e.jquery&&!Z.isPlainObject(e))Z.each(e,function(){i(this.name,this.value)});else for(n in e)q(n,e[n],t,i);return r.join("&").replace(kt,"+")},Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Z.prop(this,"elements");return e?Z.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Z(this).is(":disabled")&&Tt.test(this.nodeName)&&!At.test(e)&&(this.checked||!Ce.test(e))}).map(function(e,t){var n=Z(this).val();return null==n?null:Z.isArray(n)?Z.map(n,function(e){return{name:t.name,value:e.replace(_t,"\r\n")}}):{name:t.name,value:n.replace(_t,"\r\n")}}).get()}}),Z.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Et=0,St={},Dt={0:200,1223:204},Ot=Z.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in St)St[e]()}),J.cors=!!Ot&&"withCredentials"in Ot,J.ajax=Ot=!!Ot,Z.ajaxTransport(function(e){var t;return J.cors||Ot&&!e.crossDomain?{send:function(n,r){var i,o=e.xhr(),a=++Et;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)o.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete St[a],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?r(o.status,o.statusText):r(Dt[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=St[a]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(s){if(t)throw s}},abort:function(){t&&t()}}:void 0}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Z.globalEval(e),e}}}),Z.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Z.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=Z("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),Y.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Pt=[],Nt=/(=)\?(?=&|$)|\?\?/;Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Pt.pop()||Z.expando+"_"+ut++;return this[e]=!0,e}}),Z.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=t.jsonp!==!1&&(Nt.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Nt.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=Z.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Nt,"$1"+i):t.jsonp!==!1&&(t.url+=(ct.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||Z.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Pt.push(i)),a&&Z.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),Z.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||Y;var r=ae.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=Z.buildFragment([e],t,i),i&&i.length&&Z(i).remove(),Z.merge([],r.childNodes))};var jt=Z.fn.load;Z.fn.load=function(e,t,n){if("string"!=typeof e&&jt)return jt.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=Z.trim(e.slice(s)),e=e.slice(0,s)),Z.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&Z.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?Z("<div>").append(Z.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},Z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Z.fn[t]=function(e){return this.on(t,e)}}),Z.expr.filters.animated=function(e){return Z.grep(Z.timers,function(t){return e===t.elem}).length};var It=e.document.documentElement;Z.offset={setOffset:function(e,t,n){var r,i,o,a,s,l,u,c=Z.css(e,"position"),d=Z(e),h={};"static"===c&&(e.style.position="relative"),s=d.offset(),o=Z.css(e,"top"),l=Z.css(e,"left"),u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,u?(r=d.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),Z.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(h.top=t.top-s.top+a),null!=t.left&&(h.left=t.left-s.left+i),"using"in t?t.using.call(e,h):d.css(h)}},Z.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Z.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;if(o)return t=o.documentElement,Z.contains(t,r)?(typeof r.getBoundingClientRect!==_e&&(i=r.getBoundingClientRect()),n=L(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===Z.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Z.nodeName(e[0],"html")||(r=e.offset()),r.top+=Z.css(e[0],"borderTopWidth",!0),r.left+=Z.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-Z.css(n,"marginTop",!0),left:t.left-r.left-Z.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||It;e&&!Z.nodeName(e,"html")&&"static"===Z.css(e,"position");)e=e.offsetParent;return e||It})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r="pageYOffset"===n;Z.fn[t]=function(i){return me(this,function(t,i,o){var a=L(t);return void 0===o?a?a[n]:t[i]:void(a?a.scrollTo(r?e.pageXOffset:o,r?o:e.pageYOffset):t[i]=o)},t,i,arguments.length,null)}}),Z.each(["top","left"],function(e,t){Z.cssHooks[t]=x(J.pixelPosition,function(e,n){return n?(n=$(e,t),Be.test(n)?Z(e).position()[t]+"px":n):void 0})}),Z.each({Height:"height",Width:"width"},function(e,t){Z.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){Z.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");return me(this,function(t,n,r){var i;return Z.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?Z.css(t,n,a):Z.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),Z.fn.size=function(){return this.length},Z.fn.andSelf=Z.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Z});var Ft=e.jQuery,Rt=e.$;return Z.noConflict=function(t){return e.$===Z&&(e.$=Rt),t&&e.jQuery===Z&&(e.jQuery=Ft),Z},typeof t===_e&&(e.jQuery=e.$=Z),Z}),function(e){JsBarcode=function(e,t,n,r){"string"==typeof e&&(e=document.querySelector(e));var i=function(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n},o=function(e){r&&r(e)};n=i(JsBarcode.defaults,n);var a=e;if(window.jQuery&&a instanceof jQuery&&(a=e.get(0)),a instanceof HTMLCanvasElement||(a=document.createElement("canvas")),!a.getContext)return e;var s=new window[n.format](t);if(!s.valid())return o(!1),this;var l=s.encoded(),u=function(e){var t,r;r=n.height,c.font=n.fontOptions+" "+n.fontSize+"px "+n.font,c.textBaseline="bottom",c.textBaseline="top","left"==n.textAlign?(t=n.quite,c.textAlign="left"):"right"==n.textAlign?(t=a.width-n.quite,c.textAlign="right"):(t=a.width/2,c.textAlign="center"),c.fillText(e,t,r)},c=a.getContext("2d");a.width=l.length*n.width+2*n.quite,a.height=n.height+(n.displayValue?1.3*n.fontSize:0),c.clearRect(0,0,a.width,a.height),n.backgroundColor&&(c.fillStyle=n.backgroundColor,c.fillRect(0,0,a.width,a.height)),c.fillStyle=n.lineColor;for(var d=0;d<l.length;d++){var h=d*n.width+n.quite;"1"==l[d]&&c.fillRect(h,0,n.width,n.height)}n.displayValue&&u(t),uri=a.toDataURL("image/png"),window.jQuery&&e instanceof jQuery?e.get(0)instanceof HTMLCanvasElement||e.attr("src",uri):e instanceof HTMLCanvasElement||e.setAttribute("src",uri),o(!0)},JsBarcode.defaults={width:2,height:100,quite:10,format:"CODE128",displayValue:!1,fontOptions:"",font:"monospace",textAlign:"center",fontSize:12,backgroundColor:"",lineColor:"#000"},window.jQuery&&(e.fn.JsBarcode=function(e,t,n){return JsBarcode(this,e,t,n),this})}(window.jQuery),function(e,t,n){"use strict";function r(e,t){return t=t||Error,function(){var n,r,i=2,o=arguments,a=o[0],s="["+(e?e+":":"")+a+"] ",l=o[1];for(s+=l.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1),n=t+i;return n<o.length?be(o[n]):e}),s+="\nhttp://errors.angularjs.org/1.4.8/"+(e?e+"/":"")+a,r=i,n="?";r<o.length;r++,n="&")s+=n+"p"+(r-i)+"="+encodeURIComponent(be(o[r]));return new t(s)}}function i(e){if(null==e||E(e))return!1;if(Lr(e)||k(e)||Sr&&e instanceof Sr)return!0;var t="length"in Object(e)&&e.length;return C(t)&&(t>=0&&t-1 in e||"function"==typeof e.item)}function o(e,t,n){var r,a;if(e)if(A(e))for(r in e)"prototype"==r||"length"==r||"name"==r||e.hasOwnProperty&&!e.hasOwnProperty(r)||t.call(n,e[r],r,e);else if(Lr(e)||i(e)){var s="object"!=typeof e;for(r=0,a=e.length;a>r;r++)(s||r in e)&&t.call(n,e[r],r,e)}else if(e.forEach&&e.forEach!==o)e.forEach(t,n,e);else if(x(e))for(r in e)t.call(n,e[r],r,e);else if("function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else for(r in e)Cr.call(e,r)&&t.call(n,e[r],r,e);return e}function a(e,t,n){for(var r=Object.keys(e).sort(),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function s(e){return function(t,n){e(n,t)}}function l(){return++Ur}function u(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function c(e,t,n){for(var r=e.$$hashKey,i=0,o=t.length;o>i;++i){var a=t[i];if($(a)||A(a))for(var s=Object.keys(a),l=0,d=s.length;d>l;l++){var h=s[l],p=a[h];n&&$(p)?_(p)?e[h]=new Date(p.valueOf()):T(p)?e[h]=new RegExp(p):p.nodeName?e[h]=p.cloneNode(!0):F(p)?e[h]=p.clone():($(e[h])||(e[h]=Lr(p)?[]:{}),c(e[h],[p],!0)):e[h]=p}}return u(e,r),e}function d(e){return c(e,Pr.call(arguments,1),!1)}function h(e){return c(e,Pr.call(arguments,1),!0)}function p(e){return parseInt(e,10)}function f(e,t){return d(Object.create(e),t)}function g(){}function m(e){return e}function v(e){return function(){return e}}function y(e){return A(e.toString)&&e.toString!==Ir}function b(e){return"undefined"==typeof e}function w(e){return"undefined"!=typeof e}function $(e){return null!==e&&"object"==typeof e;
}function x(e){return null!==e&&"object"==typeof e&&!Fr(e)}function k(e){return"string"==typeof e}function C(e){return"number"==typeof e}function _(e){return"[object Date]"===Ir.call(e)}function A(e){return"function"==typeof e}function T(e){return"[object RegExp]"===Ir.call(e)}function E(e){return e&&e.window===e}function S(e){return e&&e.$evalAsync&&e.$watch}function D(e){return"[object File]"===Ir.call(e)}function O(e){return"[object FormData]"===Ir.call(e)}function P(e){return"[object Blob]"===Ir.call(e)}function N(e){return"boolean"==typeof e}function j(e){return e&&A(e.then)}function I(e){return e&&C(e.length)&&Br.test(Ir.call(e))}function F(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function R(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}function M(e){return kr(e.nodeName||e[0]&&e[0].nodeName)}function U(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function q(e,t){function n(e,t){var n,i=t.$$hashKey;if(Lr(e))for(var o=0,a=e.length;a>o;o++)t.push(r(e[o]));else if(x(e))for(n in e)t[n]=r(e[n]);else if(e&&"function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=r(e[n]));else for(n in e)Cr.call(e,n)&&(t[n]=r(e[n]));return u(t,i),t}function r(e){if(!$(e))return e;var t=i.indexOf(e);if(-1!==t)return a[t];if(E(e)||S(e))throw Rr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r,o=!1;return Lr(e)?(r=[],o=!0):I(e)?r=new e.constructor(e):_(e)?r=new Date(e.getTime()):T(e)?(r=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),r.lastIndex=e.lastIndex):A(e.cloneNode)?r=e.cloneNode(!0):(r=Object.create(Fr(e)),o=!0),i.push(e),a.push(r),o?n(e,r):r}var i=[],a=[];if(t){if(I(t))throw Rr("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw Rr("cpi","Can't copy! Source and destination are identical.");return Lr(t)?t.length=0:o(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),i.push(e),a.push(t),n(e,t)}return r(e)}function L(e,t){if(Lr(e)){t=t||[];for(var n=0,r=e.length;r>n;n++)t[n]=e[n]}else if($(e)){t=t||{};for(var i in e)("$"!==i.charAt(0)||"$"!==i.charAt(1))&&(t[i]=e[i])}return t||e}function B(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,r,i,o=typeof e,a=typeof t;if(o==a&&"object"==o){if(!Lr(e)){if(_(e))return _(t)?B(e.getTime(),t.getTime()):!1;if(T(e))return T(t)?e.toString()==t.toString():!1;if(S(e)||S(t)||E(e)||E(t)||Lr(t)||_(t)||T(t))return!1;i=me();for(r in e)if("$"!==r.charAt(0)&&!A(e[r])){if(!B(e[r],t[r]))return!1;i[r]=!0}for(r in t)if(!(r in i)&&"$"!==r.charAt(0)&&w(t[r])&&!A(t[r]))return!1;return!0}if(!Lr(t))return!1;if((n=e.length)==t.length){for(r=0;n>r;r++)if(!B(e[r],t[r]))return!1;return!0}}return!1}function H(e,t,n){return e.concat(Pr.call(t,n))}function W(e,t){return Pr.call(e,t||0)}function V(e,t){var n=arguments.length>2?W(arguments,2):[];return!A(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,H(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function z(e,r){var i=r;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?i=n:E(r)?i="$WINDOW":r&&t===r?i="$DOCUMENT":S(r)&&(i="$SCOPE"),i}function K(e,t){return"undefined"==typeof e?n:(C(t)||(t=t?2:null),JSON.stringify(e,z,t))}function G(e){return k(e)?JSON.parse(e):e}function Q(e,t){var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function J(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function Y(e,t,n){n=n?-1:1;var r=Q(t,e.getTimezoneOffset());return J(e,n*(r-e.getTimezoneOffset()))}function X(e){e=Sr(e).clone();try{e.empty()}catch(t){}var n=Sr("<div>").append(e).html();try{return e[0].nodeType===Xr?kr(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+kr(t)})}catch(t){return kr(n)}}function Z(e){try{return decodeURIComponent(e)}catch(t){}}function ee(e){var t={};return o((e||"").split("&"),function(e){var n,r,i;e&&(r=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),-1!==n&&(r=e.substring(0,n),i=e.substring(n+1)),r=Z(r),w(r)&&(i=w(i)?Z(i):!0,Cr.call(t,r)?Lr(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i))}),t}function te(e){var t=[];return o(e,function(e,n){Lr(e)?o(e,function(e){t.push(re(n,!0)+(e===!0?"":"="+re(e,!0)))}):t.push(re(n,!0)+(e===!0?"":"="+re(e,!0)))}),t.length?t.join("&"):""}function ne(e){return re(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function re(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function ie(e,t){var n,r,i=Kr.length;for(r=0;i>r;++r)if(n=Kr[r]+t,k(n=e.getAttribute(n)))return n;return null}function oe(e,t){var n,r,i={};o(Kr,function(t){var i=t+"app";!n&&e.hasAttribute&&e.hasAttribute(i)&&(n=e,r=e.getAttribute(i))}),o(Kr,function(t){var i,o=t+"app";!n&&(i=e.querySelector("["+o.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(o))}),n&&(i.strictDi=null!==ie(n,"strict-di"),t(n,r?[r]:[],i))}function ae(n,r,i){$(i)||(i={});var a={strictDi:!1};i=d(a,i);var s=function(){if(n=Sr(n),n.injector()){var e=n[0]===t?"document":X(n);throw Rr("btstrpd","App Already Bootstrapped with this Element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}r=r||[],r.unshift(["$provide",function(e){e.value("$rootElement",n)}]),i.debugInfoEnabled&&r.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),r.unshift("ng");var o=et(r,i.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),o},l=/^NG_ENABLE_DEBUG_INFO!/,u=/^NG_DEFER_BOOTSTRAP!/;return e&&l.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(l,"")),e&&!u.test(e.name)?s():(e.name=e.name.replace(u,""),Mr.resumeBootstrap=function(e){return o(e,function(e){r.push(e)}),s()},void(A(Mr.resumeDeferredBootstrap)&&Mr.resumeDeferredBootstrap()))}function se(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function le(e){var t=Mr.element(e).injector();if(!t)throw Rr("test","no injector found for element argument to getTestability");return t.get("$$testability")}function ue(e,t){return t=t||"_",e.replace(Gr,function(e,n){return(n?t:"")+e.toLowerCase()})}function ce(){var t;if(!Qr){var r=zr();Dr=b(r)?e.jQuery:r?e[r]:n,Dr&&Dr.fn.on?(Sr=Dr,d(Dr.fn,{scope:vi.scope,isolateScope:vi.isolateScope,controller:vi.controller,injector:vi.injector,inheritedData:vi.inheritedData}),t=Dr.cleanData,Dr.cleanData=function(e){var n;if(qr)qr=!1;else for(var r,i=0;null!=(r=e[i]);i++)n=Dr._data(r,"events"),n&&n.$destroy&&Dr(r).triggerHandler("$destroy");t(e)}):Sr=Ee,Mr.element=Sr,Qr=!0}}function de(e,t,n){if(!e)throw Rr("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function he(e,t,n){return n&&Lr(e)&&(e=e[e.length-1]),de(A(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function pe(e,t){if("hasOwnProperty"===e)throw Rr("badname","hasOwnProperty is not a valid {0} name",t)}function fe(e,t,n){if(!t)return e;for(var r,i=t.split("."),o=e,a=i.length,s=0;a>s;s++)r=i[s],e&&(e=(o=e)[r]);return!n&&A(e)?V(o,e):e}function ge(e){for(var t,n=e[0],r=e[e.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(t||e[i]!==n)&&(t||(t=Sr(Pr.call(e,0,i))),t.push(n));return t||e}function me(){return Object.create(null)}function ve(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=r("$injector"),i=r("ng"),o=t(e,"angular",Object);return o.$$minErr=o.$$minErr||r,t(o,"module",function(){var e={};return function(r,o,a){var s=function(e,t){if("hasOwnProperty"===e)throw i("badname","hasOwnProperty is not a valid {0} name",t)};return s(r,"module"),o&&e.hasOwnProperty(r)&&(e[r]=null),t(e,r,function(){function e(e,t,n,r){return r||(r=i),function(){return r[n||"push"]([e,t,arguments]),c}}function t(e,t){return function(n,o){return o&&A(o)&&(o.$$moduleName=r),i.push([e,t,arguments]),c}}if(!o)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var i=[],s=[],l=[],u=e("$injector","invoke","push",s),c={_invokeQueue:i,_configBlocks:s,_runBlocks:l,requires:o,name:r,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:t("$provide","decorator"),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),config:u,run:function(e){return l.push(e),this}};return a&&u(a),c})}})}function ye(e){var t=[];return JSON.stringify(e,function(e,n){if(n=z(e,n),$(n)){if(t.indexOf(n)>=0)return"...";t.push(n)}return n})}function be(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):b(e)?"undefined":"string"!=typeof e?ye(e):e}function we(t){d(t,{bootstrap:ae,copy:q,extend:d,merge:h,equals:B,element:Sr,forEach:o,injector:et,noop:g,bind:V,toJson:K,fromJson:G,identity:m,isUndefined:b,isDefined:w,isString:k,isFunction:A,isObject:$,isNumber:C,isElement:F,isArray:Lr,version:ni,isDate:_,lowercase:kr,uppercase:_r,callbacks:{counter:0},getTestability:le,$$minErr:r,$$csp:Vr,reloadWithDebugInfo:se}),(Or=ve(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:bn}),e.provider("$compile",ct).directive({a:yo,input:Io,textarea:Io,form:ko,script:Ta,select:Da,style:Pa,option:Oa,ngBind:Mo,ngBindHtml:qo,ngBindTemplate:Uo,ngClass:Bo,ngClassEven:Wo,ngClassOdd:Ho,ngCloak:Vo,ngController:zo,ngForm:Co,ngHide:$a,ngIf:Qo,ngInclude:Jo,ngInit:Xo,ngNonBindable:ha,ngPluralize:ma,ngRepeat:va,ngShow:wa,ngStyle:xa,ngSwitch:ka,ngSwitchWhen:Ca,ngSwitchDefault:_a,ngOptions:ga,ngTransclude:Aa,ngModel:ua,ngList:Zo,ngChange:Lo,pattern:ja,ngPattern:ja,required:Na,ngRequired:Na,minlength:Fa,ngMinlength:Fa,maxlength:Ia,ngMaxlength:Ia,ngValue:Ro,ngModelOptions:da}).directive({ngInclude:Yo}).directive(bo).directive(Ko),e.provider({$anchorScroll:tt,$animate:Pi,$animateCss:Ni,$$animateQueue:Oi,$$AnimateRunner:Di,$browser:st,$cacheFactory:lt,$controller:gt,$document:mt,$exceptionHandler:vt,$filter:Nn,$$forceReflow:Mi,$interpolate:Ot,$interval:Pt,$http:Tt,$httpParamSerializer:bt,$httpParamSerializerJQLike:wt,$httpBackend:St,$xhrFactory:Et,$location:zt,$log:Kt,$parse:pn,$rootScope:yn,$q:fn,$$q:gn,$sce:kn,$sceDelegate:xn,$sniffer:Cn,$templateCache:ut,$templateRequest:_n,$$testability:An,$timeout:Tn,$window:Dn,$$rAF:vn,$$jqLite:Qe,$$HashMap:$i,$$cookieReader:Pn})}])}function $e(){return++ii}function xe(e){return e.replace(si,function(e,t,n,r){return r?n.toUpperCase():n}).replace(li,"Moz$1")}function ke(e){return!hi.test(e)}function Ce(e){var t=e.nodeType;return t===Jr||!t||t===ei}function _e(e){for(var t in ri[e.ng339])return!0;return!1}function Ae(e,t){var n,r,i,a,s=t.createDocumentFragment(),l=[];if(ke(e))l.push(t.createTextNode(e));else{for(n=n||s.appendChild(t.createElement("div")),r=(pi.exec(e)||["",""])[1].toLowerCase(),i=gi[r]||gi._default,n.innerHTML=i[1]+e.replace(fi,"<$1></$2>")+i[2],a=i[0];a--;)n=n.lastChild;l=H(l,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",o(l,function(e){s.appendChild(e)}),s}function Te(e,n){n=n||t;var r;return(r=di.exec(e))?[n.createElement(r[1])]:(r=Ae(e,n))?r.childNodes:[]}function Ee(e){if(e instanceof Ee)return e;var t;if(k(e)&&(e=Hr(e),t=!0),!(this instanceof Ee)){if(t&&"<"!=e.charAt(0))throw ci("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Ee(e)}t?Me(this,Te(e)):Me(this,e)}function Se(e){return e.cloneNode(!0)}function De(e,t){if(t||Pe(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),r=0,i=n.length;i>r;r++)Pe(n[r])}function Oe(e,t,n,r){if(w(r))throw ci("offargs","jqLite#off() does not support the `selector` argument");var i=Ne(e),a=i&&i.events,s=i&&i.handle;if(s)if(t){var l=function(t){var r=a[t];w(n)&&U(r||[],n),w(n)&&r&&r.length>0||(ai(e,t,s),delete a[t])};o(t.split(" "),function(e){l(e),ui[e]&&l(ui[e])})}else for(t in a)"$destroy"!==t&&ai(e,t,s),delete a[t]}function Pe(e,t){var r=e.ng339,i=r&&ri[r];if(i){if(t)return void delete i.data[t];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),Oe(e)),delete ri[r],e.ng339=n}}function Ne(e,t){var r=e.ng339,i=r&&ri[r];return t&&!i&&(e.ng339=r=$e(),i=ri[r]={events:{},data:{},handle:n}),i}function je(e,t,n){if(Ce(e)){var r=w(n),i=!r&&t&&!$(t),o=!t,a=Ne(e,!i),s=a&&a.data;if(r)s[t]=n;else{if(o)return s;if(i)return s&&s[t];d(s,t)}}}function Ie(e,t){return e.getAttribute?(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function Fe(e,t){t&&e.setAttribute&&o(t.split(" "),function(t){e.setAttribute("class",Hr((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Hr(t)+" "," ")))})}function Re(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(t.split(" "),function(e){e=Hr(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",Hr(n))}}function Me(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;n>r;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function Ue(e,t){return qe(e,"$"+(t||"ngController")+"Controller")}function qe(e,t,n){e.nodeType==ei&&(e=e.documentElement);for(var r=Lr(t)?t:[t];e;){for(var i=0,o=r.length;o>i;i++)if(w(n=Sr.data(e,r[i])))return n;e=e.parentNode||e.nodeType===ti&&e.host}}function Le(e){for(De(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Be(e,t){t||De(e);var n=e.parentNode;n&&n.removeChild(e)}function He(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):Sr(n).on("load",t)}function We(e,t){var n=yi[t.toLowerCase()];return n&&bi[M(e)]&&n}function Ve(e){return wi[e]}function ze(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type],o=i?i.length:0;if(o){if(b(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0};var s=i.specialHandlerWrapper||Ke;o>1&&(i=L(i));for(var l=0;o>l;l++)n.isImmediatePropagationStopped()||s(e,n,i[l])}};return n.elem=e,n}function Ke(e,t,n){n.call(e,t)}function Ge(e,t,n){var r=t.relatedTarget;(!r||r!==e&&!mi.call(e,r))&&n.call(e,t)}function Qe(){this.$get=function(){return d(Ee,{hasClass:function(e,t){return e.attr&&(e=e[0]),Ie(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Re(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),Fe(e,t)}})}}function Je(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r=typeof e;return n="function"==r||"object"==r&&null!==e?e.$$hashKey=r+":"+(t||l)():r+":"+e}function Ye(e,t){if(t){var n=0;this.nextUid=function(){return++n}}o(e,this.put,this)}function Xe(e){var t=e.toString().replace(_i,""),n=t.match(xi);return n?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Ze(e,t,n){var r,i,a,s;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw k(n)&&n||(n=e.name||Xe(e)),Ai("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=e.toString().replace(_i,""),a=i.match(xi),o(a[1].split(ki),function(e){e.replace(Ci,function(e,t,n){r.push(n)})})}e.$inject=r}}else Lr(e)?(s=e.length-1,he(e[s],"fn"),r=e.slice(0,s)):he(e,"fn",!0);return r}function et(e,t){function r(e){return function(t,n){return $(t)?void o(t,s(e)):e(t,n)}}function i(e,t){if(pe(e,"service"),(A(t)||Lr(t))&&(t=C.instantiate(t)),!t.$get)throw Ai("pget","Provider '{0}' must define $get factory method.",e);return x[e+m]=t}function a(e,t){return function(){var n=T.invoke(t,this);if(b(n))throw Ai("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function l(e,t,n){return i(e,{$get:n!==!1?a(e,t):t})}function u(e,t){return l(e,["$injector",function(e){return e.instantiate(t)}])}function c(e,t){return l(e,v(t),!1)}function d(e,t){pe(e,"constant"),x[e]=t,_[e]=t}function h(e,t){var n=C.get(e+m),r=n.$get;n.$get=function(){var e=T.invoke(r,n);return T.invoke(t,null,{$delegate:e})}}function p(e){de(b(e)||Lr(e),"modulesToLoad","not an array");var t,n=[];return o(e,function(e){function r(e){var t,n;for(t=0,n=e.length;n>t;t++){var r=e[t],i=C.get(r[0]);i[r[1]].apply(i,r[2])}}if(!w.get(e)){w.put(e,!0);try{k(e)?(t=Or(e),n=n.concat(p(t.requires)).concat(t._runBlocks),r(t._invokeQueue),r(t._configBlocks)):A(e)?n.push(C.invoke(e)):Lr(e)?n.push(C.invoke(e)):he(e,"module")}catch(i){throw Lr(e)&&(e=e[e.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),Ai("modulerr","Failed to instantiate module {0} due to:\n{1}",e,i.stack||i.message||i)}}}),n}function f(e,n){function r(t,r){if(e.hasOwnProperty(t)){if(e[t]===g)throw Ai("cdep","Circular dependency found: {0}",t+" <- "+y.join(" <- "));return e[t]}try{return y.unshift(t),e[t]=g,e[t]=n(t,r)}catch(i){throw e[t]===g&&delete e[t],i}finally{y.shift()}}function i(e,n,i,o){"string"==typeof i&&(o=i,i=null);var a,s,l,u=[],c=et.$$annotate(e,t,o);for(s=0,a=c.length;a>s;s++){if(l=c[s],"string"!=typeof l)throw Ai("itkn","Incorrect injection token! Expected service name as string, got {0}",l);u.push(i&&i.hasOwnProperty(l)?i[l]:r(l,o))}return Lr(e)&&(e=e[a]),e.apply(n,u)}function o(e,t,n){var r=Object.create((Lr(e)?e[e.length-1]:e).prototype||null),o=i(e,r,t,n);return $(o)||A(o)?o:r}return{invoke:i,instantiate:o,get:r,annotate:et.$$annotate,has:function(t){return x.hasOwnProperty(t+m)||e.hasOwnProperty(t)}}}t=t===!0;var g={},m="Provider",y=[],w=new Ye([],!0),x={$provide:{provider:r(i),factory:r(l),service:r(u),value:r(c),constant:r(d),decorator:h}},C=x.$injector=f(x,function(e,t){throw Mr.isString(t)&&y.push(t),Ai("unpr","Unknown provider: {0}",y.join(" <- "))}),_={},T=_.$injector=f(_,function(e,t){var r=C.get(e+m,t);return T.invoke(r.$get,r,n,e)});return o(p(e),function(e){e&&T.invoke(e)}),T}function tt(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function i(e){var t=null;return Array.prototype.some.call(e,function(e){return"a"===M(e)?(t=e,!0):void 0}),t}function o(){var e=s.yOffset;if(A(e))e=e();else if(F(e)){var n=e[0],r=t.getComputedStyle(n);e="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else C(e)||(e=0);return e}function a(e){if(e){e.scrollIntoView();var n=o();if(n){var r=e.getBoundingClientRect().top;t.scrollBy(0,r-n)}}else t.scrollTo(0,0)}function s(e){e=k(e)?e:n.hash();var t;e?(t=l.getElementById(e))?a(t):(t=i(l.getElementsByName(e)))?a(t):"top"===e&&a(null):a(null)}var l=t.document;return e&&r.$watch(function(){return n.hash()},function(e,t){(e!==t||""!==e)&&He(function(){r.$evalAsync(s)})}),s}]}function nt(e,t){return e||t?e?t?(Lr(e)&&(e=e.join(" ")),Lr(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function rt(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===Ei)return n}}function it(e){k(e)&&(e=e.split(" "));var t=me();return o(e,function(e){e.length&&(t[e]=!0)}),t}function ot(e){return $(e)?e:{}}function at(e,t,n,r){function i(e){try{e.apply(null,W(arguments,1))}finally{if(y--,0===y)for(;w.length;)try{w.pop()()}catch(t){n.error(t)}}}function a(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}function s(){_=null,u(),c()}function l(){try{return p.state}catch(e){}}function u(){$=l(),$=b($)?null:$,B($,E)&&($=E),E=$}function c(){(k!==d.url()||x!==$)&&(k=d.url(),x=$,o(A,function(e){e(d.url(),$)}))}var d=this,h=(t[0],e.location),p=e.history,f=e.setTimeout,m=e.clearTimeout,v={};d.isMock=!1;var y=0,w=[];d.$$completeOutstandingRequest=i,d.$$incOutstandingRequestCount=function(){y++},d.notifyWhenNoOutstandingRequests=function(e){0===y?e():w.push(e)};var $,x,k=h.href,C=t.find("base"),_=null;u(),x=$,d.url=function(t,n,i){if(b(i)&&(i=null),h!==e.location&&(h=e.location),p!==e.history&&(p=e.history),t){var o=x===i;if(k===t&&(!r.history||o))return d;var s=k&&Rt(k)===Rt(t);return k=t,x=i,!r.history||s&&o?((!s||_)&&(_=t),n?h.replace(t):s?h.hash=a(t):h.href=t,h.href!==t&&(_=t)):(p[n?"replaceState":"pushState"](i,"",t),u(),x=$),d}return _||h.href.replace(/%27/g,"'")},d.state=function(){return $};var A=[],T=!1,E=null;d.onUrlChange=function(t){return T||(r.history&&Sr(e).on("popstate",s),Sr(e).on("hashchange",s),T=!0),A.push(t),t},d.$$applicationDestroyed=function(){Sr(e).off("hashchange popstate",s)},d.$$checkUrlChange=c,d.baseHref=function(){var e=C.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},d.defer=function(e,t){var n;return y++,n=f(function(){delete v[n],i(e)},t||0),v[n]=!0,n},d.defer.cancel=function(e){return v[e]?(delete v[e],m(e),i(g),!0):!1}}function st(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new at(e,r,t,n)}]}function lt(){this.$get=function(){function e(e,n){function i(e){e!=h&&(p?p==e&&(p=e.n):p=e,o(e.n,e.p),o(e,h),h=e,h.n=null)}function o(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var a=0,s=d({},n,{id:e}),l=me(),u=n&&n.capacity||Number.MAX_VALUE,c=me(),h=null,p=null;return t[e]={put:function(e,t){if(!b(t)){if(u<Number.MAX_VALUE){var n=c[e]||(c[e]={key:e});i(n)}return e in l||a++,l[e]=t,a>u&&this.remove(p.key),t}},get:function(e){if(u<Number.MAX_VALUE){var t=c[e];if(!t)return;i(t)}return l[e]},remove:function(e){if(u<Number.MAX_VALUE){var t=c[e];if(!t)return;t==h&&(h=t.p),t==p&&(p=t.n),o(t.n,t.p),delete c[e]}e in l&&(delete l[e],a--)},removeAll:function(){l=me(),a=0,c=me(),h=p=null},destroy:function(){l=null,s=null,c=null,delete t[e]},info:function(){return d({},s,{size:a})}}}var t={};return e.info=function(){var e={};return o(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function ut(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function ct(e,r){function i(e,t,n){var r=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,i={};return o(e,function(e,o){var a=e.match(r);if(!a)throw ji("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,o,e,n?"controller bindings definition":"isolate scope definition");i[o]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||o}}),i}function a(e,t){var n={isolateScope:null,bindToController:null};if($(e.scope)&&(e.bindToController===!0?(n.bindToController=i(e.scope,t,!0),n.isolateScope={}):n.isolateScope=i(e.scope,t,!1)),$(e.bindToController)&&(n.bindToController=i(e.bindToController,t,!0)),$(n.bindToController)){var r=e.controller,o=e.controllerAs;if(!r)throw ji("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);if(!ft(r,o))throw ji("noident","Cannot bind to controller without identifier for directive '{0}'.",t)}return n}function l(e){var t=e.charAt(0);if(!t||t!==kr(t))throw ji("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw ji("baddir","Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}var u={},c="Directive",h=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,p=/(([\w\-]+)(?:\:([^;]+))?;?)/,y=R("ngSrc,ngSrcset,src,srcset"),x=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,C=/^(on[a-z]+|formaction)$/;this.directive=function T(t,n){return pe(t,"directive"),k(t)?(l(t),de(n,"directiveFactory"),u.hasOwnProperty(t)||(u[t]=[],e.factory(t+c,["$injector","$exceptionHandler",function(e,n){var r=[];return o(u[t],function(i,o){try{var s=e.invoke(i);A(s)?s={compile:v(s)}:!s.compile&&s.link&&(s.compile=v(s.link)),s.priority=s.priority||0,s.index=o,s.name=s.name||t,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA";var l=s.$$bindings=a(s,s.name);$(l.isolateScope)&&(s.$$isolateBindings=l.isolateScope),s.$$moduleName=i.$$moduleName,r.push(s)}catch(u){n(u)}}),r}])),u[t].push(n)):o(t,s(T)),this},this.aHrefSanitizationWhitelist=function(e){return w(e)?(r.aHrefSanitizationWhitelist(e),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return w(e)?(r.imgSrcSanitizationWhitelist(e),this):r.imgSrcSanitizationWhitelist()};var _=!0;this.debugInfoEnabled=function(e){return w(e)?(_=e,this):_},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,r,i,a,s,l,v,w,T,E,D){function O(e,t){try{e.addClass(t)}catch(n){}}function P(e,t,n,r,i){e instanceof Sr||(e=Sr(e)),o(e,function(t,n){t.nodeType==Xr&&t.nodeValue.match(/\S+/)&&(e[n]=Sr(t).wrap("<span></span>").parent()[0])});var a=j(e,t,e,n,r,i);P.$$addScopeClass(e);var s=null;return function(t,n,r){de(t,"scope"),i&&i.needsNewScope&&(t=t.$parent.$new()),r=r||{};var o=r.parentBoundTranscludeFn,l=r.transcludeControllers,u=r.futureParentElement;o&&o.$$boundTransclude&&(o=o.$$boundTransclude),s||(s=N(u));var c;if(c="html"!==s?Sr(Z(s,Sr("<div>").append(e).html())):n?vi.clone.call(e):e,l)for(var d in l)c.data("$"+d+"Controller",l[d].instance);return P.$$addScopeInfo(c,t),n&&n(c,t),a&&a(t,c,c,o),c}}function N(e){var t=e&&e[0];return t&&"foreignobject"!==M(t)&&t.toString().match(/SVG/)?"svg":"html"}function j(e,t,r,i,o,a){function s(e,r,i,o){var a,s,l,u,c,d,h,p,m;if(f){var v=r.length;for(m=new Array(v),c=0;c<g.length;c+=3)h=g[c],m[h]=r[h]}else m=r;for(c=0,d=g.length;d>c;)l=m[g[c++]],a=g[c++],s=g[c++],a?(a.scope?(u=e.$new(),P.$$addScopeInfo(Sr(l),u)):u=e,p=a.transcludeOnThisElement?I(e,a.transclude,o):!a.templateOnThisElement&&o?o:!o&&t?I(e,t):null,a(s,u,l,i,p)):s&&s(e,l.childNodes,n,o)}for(var l,u,c,d,h,p,f,g=[],m=0;m<e.length;m++)l=new ae,u=F(e[m],[],l,0===m?i:n,o),c=u.length?L(u,e[m],l,t,r,null,[],[],a):null,c&&c.scope&&P.$$addScopeClass(l.$$element),h=c&&c.terminal||!(d=e[m].childNodes)||!d.length?null:j(d,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:t),(c||h)&&(g.push(m,c,h),p=!0,f=f||c),a=null;return p?s:null}function I(e,t,n){var r=function(r,i,o,a,s){return r||(r=e.$new(!1,s),r.$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})};return r}function F(e,t,n,r,i){var o,a,s=e.nodeType,l=n.$attr;switch(s){case Jr:V(t,dt(M(e)),"E",r,i);for(var u,c,d,f,g,m,v=e.attributes,y=0,b=v&&v.length;b>y;y++){var w=!1,x=!1;u=v[y],c=u.name,g=Hr(u.value),f=dt(c),(m=he.test(f))&&(c=c.replace(Ii,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var C=f.match(pe);C&&z(C[1])&&(w=c,x=c.substr(0,c.length-5)+"end",c=c.substr(0,c.length-6)),d=dt(c.toLowerCase()),l[d]=c,(m||!n.hasOwnProperty(d))&&(n[d]=g,We(e,d)&&(n[d]=!0)),te(e,t,g,d,m),V(t,d,"A",r,i,w,x)}if(a=e.className,$(a)&&(a=a.animVal),k(a)&&""!==a)for(;o=p.exec(a);)d=dt(o[2]),V(t,d,"C",r,i)&&(n[d]=Hr(o[3])),a=a.substr(o.index+o[0].length);break;case Xr:if(11===Er)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===Xr;)e.nodeValue=e.nodeValue+e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);Y(t,e.nodeValue);break;case Zr:try{o=h.exec(e.nodeValue),o&&(d=dt(o[1]),V(t,d,"M",r,i)&&(n[d]=Hr(o[2])))}catch(_){}}return t.sort(Q),t}function R(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw ji("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType==Jr&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0)}else r.push(e);return Sr(r)}function q(e,t,n){return function(r,i,o,a,s){return i=R(i[0],t,n),e(r,i,o,a,s)}}function L(e,r,o,a,s,u,c,d,h){function p(e,t,n,r){e&&(n&&(e=q(e,n,r)),e.require=v.require,e.directiveName=y,(D===v||v.$$isolateScope)&&(e=re(e,{isolateScope:!0})),c.push(e)),t&&(n&&(t=q(t,n,r)),t.require=v.require,t.directiveName=y,(D===v||v.$$isolateScope)&&(t=re(t,{isolateScope:!0})),d.push(t))}function f(e,t,n,r){var i;if(k(t)){var o=t.match(x),a=t.substring(o[0].length),s=o[1]||o[3],l="?"===o[2];if("^^"===s?n=n.parent():(i=r&&r[a],i=i&&i.instance),!i){var u="$"+a+"Controller";i=s?n.inheritedData(u):n.data(u)}if(!i&&!l)throw ji("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,e)}else if(Lr(t)){i=[];for(var c=0,d=t.length;d>c;c++)i[c]=f(e,t[c],n,r)}return i||null}function g(e,t,n,r,i,o){var a=me();for(var s in r){var u=r[s],c={$scope:u===D||u.$$isolateScope?i:o,$element:e,$attrs:t,$transclude:n},d=u.controller;"@"==d&&(d=t[u.name]);var h=l(d,c,!0,u.controllerAs);a[u.name]=h,M||e.data("$"+u.name+"Controller",h.instance)}return a}function m(e,t,i,a,s){function l(e,t,r){var i;return S(e)||(r=t,t=e,e=n),M&&(i=m),r||(r=M?y.parent():y),s(e,t,i,r,N)}var u,h,p,m,v,y,b,w,$;r===i?(b=o,y=o.$$element):(y=Sr(i),b=new ae(y,o)),p=t,D?h=t.$new(!0):T&&(p=t.$parent),s&&(v=l,v.$$boundTransclude=s),E&&(m=g(y,b,v,E,h,t)),D&&(P.$$addScopeInfo(y,h,!0,!(O&&(O===D||O===D.$$originalDirective))),P.$$addScopeClass(y,!0),h.$$isolateBindings=D.$$isolateBindings,w=oe(t,b,h,h.$$isolateBindings,D),w&&h.$on("$destroy",w));for(var x in m){var k=E[x],C=m[x],_=k.$$bindings.bindToController;C.identifier&&_&&($=oe(p,b,C.instance,_,k));var A=C();A!==C.instance&&(C.instance=A,y.data("$"+k.name+"Controller",A),$&&$(),$=oe(p,b,C.instance,_,k))}for(V=0,z=c.length;z>V;V++)u=c[V],ie(u,u.isolateScope?h:t,y,b,u.require&&f(u.directiveName,u.require,y,m),v);var N=t;for(D&&(D.template||null===D.templateUrl)&&(N=h),e&&e(N,i.childNodes,n,s),V=d.length-1;V>=0;V--)u=d[V],ie(u,u.isolateScope?h:t,y,b,u.require&&f(u.directiveName,u.require,y,m),v)}h=h||{};for(var v,y,b,w,C,_=-Number.MAX_VALUE,T=h.newScopeDirective,E=h.controllerDirectives,D=h.newIsolateScopeDirective,O=h.templateDirective,N=h.nonTlbTranscludeDirective,j=!1,I=!1,M=h.hasElementTranscludeDirective,U=o.$$element=Sr(r),L=u,B=a,V=0,z=e.length;z>V;V++){v=e[V];var Q=v.$$start,Y=v.$$end;if(Q&&(U=R(r,Q,Y)),b=n,_>v.priority)break;if((C=v.scope)&&(v.templateUrl||($(C)?(J("new/isolated scope",D||T,v,U),D=v):J("new/isolated scope",D,v,U)),T=T||v),y=v.name,!v.templateUrl&&v.controller&&(C=v.controller,E=E||me(),J("'"+y+"' controller",E[y],v,U),E[y]=v),(C=v.transclude)&&(j=!0,v.$$tlb||(J("transclusion",N,v,U),N=v),"element"==C?(M=!0,_=v.priority,b=U,U=o.$$element=Sr(t.createComment(" "+y+": "+o[y]+" ")),r=U[0],ne(s,W(b),r),B=P(b,a,_,L&&L.name,{nonTlbTranscludeDirective:N})):(b=Sr(Se(r)).contents(),U.empty(),B=P(b,a,n,n,{needsNewScope:v.$$isolateScope||v.$$newScope}))),v.template)if(I=!0,J("template",O,v,U),O=v,C=A(v.template)?v.template(U,o):v.template,C=ce(C),v.replace){if(L=v,b=ke(C)?[]:pt(Z(v.templateNamespace,Hr(C))),r=b[0],1!=b.length||r.nodeType!==Jr)throw ji("tplrt","Template for directive '{0}' must have exactly one root element. {1}",y,"");ne(s,U,r);var ee={$attr:{}},te=F(r,[],ee),se=e.splice(V+1,e.length-(V+1));(D||T)&&H(te,D,T),e=e.concat(te).concat(se),K(o,ee),z=e.length}else U.html(C);if(v.templateUrl)I=!0,J("template",O,v,U),O=v,v.replace&&(L=v),m=G(e.splice(V,e.length-V),U,o,s,j&&B,c,d,{controllerDirectives:E,newScopeDirective:T!==v&&T,newIsolateScopeDirective:D,templateDirective:O,nonTlbTranscludeDirective:N}),z=e.length;else if(v.compile)try{w=v.compile(U,o,B),A(w)?p(null,w,Q,Y):w&&p(w.pre,w.post,Q,Y)}catch(le){i(le,X(U))}v.terminal&&(m.terminal=!0,_=Math.max(_,v.priority))}return m.scope=T&&T.scope===!0,m.transcludeOnThisElement=j,m.templateOnThisElement=I,m.transclude=B,h.hasElementTranscludeDirective=M,m}function H(e,t,n){for(var r=0,i=e.length;i>r;r++)e[r]=f(e[r],{$$isolateScope:t,$$newScope:n})}function V(t,n,r,o,a,s,l){if(n===a)return null;var d=null;if(u.hasOwnProperty(n))for(var h,p=e.get(n+c),g=0,m=p.length;m>g;g++)try{h=p[g],(b(o)||o>h.priority)&&-1!=h.restrict.indexOf(r)&&(s&&(h=f(h,{$$start:s,$$end:l})),t.push(h),d=h)}catch(v){i(v)}return d}function z(t){if(u.hasOwnProperty(t))for(var n,r=e.get(t+c),i=0,o=r.length;o>i;i++)if(n=r[i],n.multiElement)return!0;return!1}function K(e,t){var n=t.$attr,r=e.$attr,i=e.$$element;o(e,function(r,i){"$"!=i.charAt(0)&&(t[i]&&t[i]!==r&&(r+=("style"===i?";":" ")+t[i]),e.$set(i,r,!0,n[i]))}),o(t,function(t,o){
"class"==o?(O(i,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==o?(i.attr("style",i.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==o.charAt(0)||e.hasOwnProperty(o)||(e[o]=t,r[o]=n[o])})}function G(e,t,n,r,i,s,l,u){var c,d,h=[],p=t[0],g=e.shift(),m=f(g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),v=A(g.templateUrl)?g.templateUrl(t,n):g.templateUrl,y=g.templateNamespace;return t.empty(),a(v).then(function(a){var f,b,w,x;if(a=ce(a),g.replace){if(w=ke(a)?[]:pt(Z(y,Hr(a))),f=w[0],1!=w.length||f.nodeType!==Jr)throw ji("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g.name,v);b={$attr:{}},ne(r,t,f);var k=F(f,[],b);$(g.scope)&&H(k,!0),e=k.concat(e),K(n,b)}else f=p,t.html(a);for(e.unshift(m),c=L(e,f,n,i,t,g,s,l,u),o(r,function(e,n){e==f&&(r[n]=t[0])}),d=j(t[0].childNodes,i);h.length;){var C=h.shift(),_=h.shift(),A=h.shift(),T=h.shift(),E=t[0];if(!C.$$destroyed){if(_!==p){var S=_.className;u.hasElementTranscludeDirective&&g.replace||(E=Se(f)),ne(A,Sr(_),E),O(Sr(E),S)}x=c.transcludeOnThisElement?I(C,c.transclude,T):T,c(d,C,E,r,x)}}h=null}),function(e,t,n,r,i){var o=i;t.$$destroyed||(h?h.push(t,n,r,o):(c.transcludeOnThisElement&&(o=I(t,c.transclude,i)),c(d,t,n,r,o)))}}function Q(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function J(e,t,n,r){function i(e){return e?" (module: "+e+")":""}if(t)throw ji("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,i(t.$$moduleName),n.name,i(n.$$moduleName),e,X(r))}function Y(e,t){var n=r(t,!0);n&&e.push({priority:0,compile:function(e){var t=e.parent(),r=!!t.length;return r&&P.$$addBindingClass(t),function(e,t){var i=t.parent();r||P.$$addBindingClass(i),P.$$addBindingInfo(i,n.expressions),e.$watch(n,function(e){t[0].nodeValue=e})}}})}function Z(e,n){switch(e=kr(e||"html")){case"svg":case"math":var r=t.createElement("div");return r.innerHTML="<"+e+">"+n+"</"+e+">",r.childNodes[0].childNodes;default:return n}}function ee(e,t){if("srcdoc"==t)return T.HTML;var n=M(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?T.RESOURCE_URL:void 0}function te(e,t,n,i,o){var a=ee(e,i);o=y[i]||o;var s=r(n,!0,a,o);if(s){if("multiple"===i&&"select"===M(e))throw ji("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",X(e));t.push({priority:100,compile:function(){return{pre:function(e,t,l){var u=l.$$observers||(l.$$observers=me());if(C.test(i))throw ji("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var c=l[i];c!==n&&(s=c&&r(c,!0,a,o),n=c),s&&(l[i]=s(e),(u[i]||(u[i]=[])).$$inter=!0,(l.$$observers&&l.$$observers[i].$$scope||e).$watch(s,function(e,t){"class"===i&&e!=t?l.$updateClass(e,t):l.$set(i,e)}))}}}})}}function ne(e,n,r){var i,o,a=n[0],s=n.length,l=a.parentNode;if(e)for(i=0,o=e.length;o>i;i++)if(e[i]==a){e[i++]=r;for(var u=i,c=u+s-1,d=e.length;d>u;u++,c++)d>c?e[u]=e[c]:delete e[u];e.length-=s-1,e.context===a&&(e.context=r);break}l&&l.replaceChild(r,a);var h=t.createDocumentFragment();h.appendChild(a),Sr.hasData(a)&&(Sr.data(r,Sr.data(a)),Dr?(qr=!0,Dr.cleanData([a])):delete Sr.cache[a[Sr.expando]]);for(var p=1,f=n.length;f>p;p++){var g=n[p];Sr(g).remove(),h.appendChild(g),delete n[p]}n[0]=r,n.length=1}function re(e,t){return d(function(){return e.apply(null,arguments)},e,t)}function ie(e,t,n,r,o,a){try{e(t,n,r,o,a)}catch(s){i(s,X(n))}}function oe(e,t,n,i,a){var l=[];return o(i,function(i,o){var u,c,d,h,p=i.attrName,f=i.optional,m=i.mode;switch(m){case"@":f||Cr.call(t,p)||(n[o]=t[p]=void 0),t.$observe(p,function(e){k(e)&&(n[o]=e)}),t.$$observers[p].$$scope=e,k(t[p])&&(n[o]=r(t[p])(e));break;case"=":if(!Cr.call(t,p)){if(f)break;t[p]=void 0}if(f&&!t[p])break;c=s(t[p]),h=c.literal?B:function(e,t){return e===t||e!==e&&t!==t},d=c.assign||function(){throw u=n[o]=c(e),ji("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",t[p],a.name)},u=n[o]=c(e);var v=function(t){return h(t,n[o])||(h(t,u)?d(e,t=n[o]):n[o]=t),u=t};v.$stateful=!0;var y;y=i.collection?e.$watchCollection(t[p],v):e.$watch(s(t[p],v),null,c.literal),l.push(y);break;case"&":if(c=t.hasOwnProperty(p)?s(t[p]):g,c===g&&f)break;n[o]=function(t){return c(e,t)}}}),l.length&&function(){for(var e=0,t=l.length;t>e;++e)l[e]()}}var ae=function(e,t){if(t){var n,r,i,o=Object.keys(t);for(n=0,r=o.length;r>n;n++)i=o[n],this[i]=t[i]}else this.$attr={};this.$$element=e};ae.prototype={$normalize:dt,$addClass:function(e){e&&e.length>0&&E.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&E.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=ht(e,t);n&&n.length&&E.addClass(this.$$element,n);var r=ht(t,e);r&&r.length&&E.removeClass(this.$$element,r)},$set:function(e,t,n,r){var a,s=this.$$element[0],l=We(s,e),u=Ve(e),c=e;if(l?(this.$$element.prop(e,t),r=l):u&&(this[u]=t,c=u),this[e]=t,r?this.$attr[e]=r:(r=this.$attr[e],r||(this.$attr[e]=r=ue(e,"-"))),a=M(this.$$element),"a"===a&&"href"===e||"img"===a&&"src"===e)this[e]=t=D(t,"src"===e);else if("img"===a&&"srcset"===e){for(var d="",h=Hr(t),p=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,f=/\s/.test(h)?p:/(,)/,g=h.split(f),m=Math.floor(g.length/2),v=0;m>v;v++){var y=2*v;d+=D(Hr(g[y]),!0),d+=" "+Hr(g[y+1])}var w=Hr(g[2*v]).split(/\s/);d+=D(Hr(w[0]),!0),2===w.length&&(d+=" "+Hr(w[1])),this[e]=t=d}n!==!1&&(null===t||b(t)?this.$$element.removeAttr(r):this.$$element.attr(r,t));var $=this.$$observers;$&&o($[c],function(e){try{e(t)}catch(n){i(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=me()),i=r[e]||(r[e]=[]);return i.push(t),v.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(e)||b(n[e])||t(n[e])}),function(){U(i,t)}}};var se=r.startSymbol(),le=r.endSymbol(),ce="{{"==se||"}}"==le?m:function(e){return e.replace(/\{\{/g,se).replace(/}}/g,le)},he=/^ngAttr[A-Z]/,pe=/^(.+)Start$/;return P.$$addBindingInfo=_?function(e,t){var n=e.data("$binding")||[];Lr(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:g,P.$$addBindingClass=_?function(e){O(e,"ng-binding")}:g,P.$$addScopeInfo=_?function(e,t,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(i,t)}:g,P.$$addScopeClass=_?function(e,t){O(e,t?"ng-isolate-scope":"ng-scope")}:g,P}]}function dt(e){return xe(e.replace(Ii,""))}function ht(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a==i[s])continue e;n+=(n.length>0?" ":"")+a}return n}function pt(e){e=Sr(e);var t=e.length;if(1>=t)return e;for(;t--;){var n=e[t];n.nodeType===Zr&&Nr.call(e,t,1)}return e}function ft(e,t){if(t&&k(t))return t;if(k(e)){var n=Ri.exec(e);if(n)return n[3]}}function gt(){var e={},t=!1;this.register=function(t,n){pe(t,"controller"),$(t)?d(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(i,o){function a(e,t,n,i){if(!e||!$(e.$scope))throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,t);e.$scope[t]=n}return function(r,s,l,u){var c,h,p,f;if(l=l===!0,u&&k(u)&&(f=u),k(r)){if(h=r.match(Ri),!h)throw Fi("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);p=h[1],f=f||h[3],r=e.hasOwnProperty(p)?e[p]:fe(s.$scope,p,!0)||(t?fe(o,p,!0):n),he(r,p,!0)}if(l){var g=(Lr(r)?r[r.length-1]:r).prototype;c=Object.create(g||null),f&&a(s,f,c,p||r.name);var m;return m=d(function(){var e=i.invoke(r,c,s,p);return e!==c&&($(e)||A(e))&&(c=e,f&&a(s,f,c,p||r.name)),c},{instance:c,identifier:f})}return c=i.instantiate(r,s,p),f&&a(s,f,c,p||r.name),c}}]}function mt(){this.$get=["$window",function(e){return Sr(e.document)}]}function vt(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function yt(e){return $(e)?_(e)?e.toISOString():K(e):e}function bt(){this.$get=function(){return function(e){if(!e)return"";var t=[];return a(e,function(e,n){null===e||b(e)||(Lr(e)?o(e,function(e,r){t.push(re(n)+"="+re(yt(e)))}):t.push(re(n)+"="+re(yt(e))))}),t.join("&")}}}function wt(){this.$get=function(){return function(e){function t(e,r,i){null===e||b(e)||(Lr(e)?o(e,function(e,n){t(e,r+"["+($(e)?n:"")+"]")}):$(e)&&!_(e)?a(e,function(e,n){t(e,r+(i?"":"[")+n+(i?"":"]"))}):n.push(re(r)+"="+re(yt(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function $t(e,t){if(k(e)){var n=e.replace(Hi,"").trim();if(n){var r=t("Content-Type");(r&&0===r.indexOf(Ui)||xt(n))&&(e=G(n))}}return e}function xt(e){var t=e.match(Li);return t&&Bi[t[0]].test(e)}function kt(e){function t(e,t){e&&(r[e]=r[e]?r[e]+", "+t:t)}var n,r=me();return k(e)?o(e.split("\n"),function(e){n=e.indexOf(":"),t(kr(Hr(e.substr(0,n))),Hr(e.substr(n+1)))}):$(e)&&o(e,function(e,n){t(kr(n),Hr(e))}),r}function Ct(e){var t;return function(n){if(t||(t=kt(e)),n){var r=t[kr(n)];return void 0===r&&(r=null),r}return t}}function _t(e,t,n,r){return A(r)?r(e,t,n):(o(r,function(r){e=r(e,t,n)}),e)}function At(e){return e>=200&&300>e}function Tt(){var e=this.defaults={transformResponse:[$t],transformRequest:[function(e){return!$(e)||D(e)||P(e)||O(e)?e:K(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:L(qi),put:L(qi),patch:L(qi)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},t=!1;this.useApplyAsync=function(e){return w(e)?(t=!!e,this):t};var i=!0;this.useLegacyPromiseExtensions=function(e){return w(e)?(i=!!e,this):i};var a=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(s,l,u,c,h,p){function f(t){function a(e){var t=d({},e);return t.data=_t(e.data,e.headers,e.status,u.transformResponse),At(e.status)?t:h.reject(t)}function s(e,t){var n,r={};return o(e,function(e,i){A(e)?(n=e(t),null!=n&&(r[i]=n)):r[i]=e}),r}function l(t){var n,r,i,o=e.headers,a=d({},t.headers);o=d({},o.common,o[kr(t.method)]);e:for(n in o){r=kr(n);for(i in a)if(kr(i)===r)continue e;a[n]=o[n]}return s(a,L(t))}if(!Mr.isObject(t))throw r("$http")("badreq","Http request configuration must be an object.  Received: {0}",t);var u=d({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},t);u.headers=l(t),u.method=_r(u.method),u.paramSerializer=k(u.paramSerializer)?p.get(u.paramSerializer):u.paramSerializer;var c=function(t){var r=t.headers,i=_t(t.data,Ct(r),n,t.transformRequest);return b(i)&&o(r,function(e,t){"content-type"===kr(t)&&delete r[t]}),b(t.withCredentials)&&!b(e.withCredentials)&&(t.withCredentials=e.withCredentials),v(t,i).then(a,a)},f=[c,n],g=h.when(u);for(o(C,function(e){(e.request||e.requestError)&&f.unshift(e.request,e.requestError),(e.response||e.responseError)&&f.push(e.response,e.responseError)});f.length;){var m=f.shift(),y=f.shift();g=g.then(m,y)}return i?(g.success=function(e){return he(e,"fn"),g.then(function(t){e(t.data,t.status,t.headers,u)}),g},g.error=function(e){return he(e,"fn"),g.then(null,function(t){e(t.data,t.status,t.headers,u)}),g}):(g.success=Vi("success"),g.error=Vi("error")),g}function g(e){o(arguments,function(e){f[e]=function(t,n){return f(d({},n||{},{method:e,url:t}))}})}function m(e){o(arguments,function(e){f[e]=function(t,n,r){return f(d({},r||{},{method:e,url:t,data:n}))}})}function v(r,i){function o(e,n,r,i){function o(){a(n,e,r,i)}p&&(At(e)?p.put(C,[e,n,kt(r),i]):p.remove(C)),t?c.$applyAsync(o):(o(),c.$$phase||c.$apply())}function a(e,t,n,i){t=t>=-1?t:0,(At(t)?m.resolve:m.reject)({data:e,status:t,headers:Ct(n),config:r,statusText:i})}function u(e){a(e.data,e.status,L(e.headers()),e.statusText)}function d(){var e=f.pendingRequests.indexOf(r);-1!==e&&f.pendingRequests.splice(e,1)}var p,g,m=h.defer(),v=m.promise,k=r.headers,C=y(r.url,r.paramSerializer(r.params));if(f.pendingRequests.push(r),v.then(d,d),!r.cache&&!e.cache||r.cache===!1||"GET"!==r.method&&"JSONP"!==r.method||(p=$(r.cache)?r.cache:$(e.cache)?e.cache:x),p&&(g=p.get(C),w(g)?j(g)?g.then(u,u):Lr(g)?a(g[1],g[0],L(g[2]),g[3]):a(g,200,{},"OK"):p.put(C,v)),b(g)){var _=Sn(r.url)?l()[r.xsrfCookieName||e.xsrfCookieName]:n;_&&(k[r.xsrfHeaderName||e.xsrfHeaderName]=_),s(r.method,C,i,o,k,r.timeout,r.withCredentials,r.responseType)}return v}function y(e,t){return t.length>0&&(e+=(-1==e.indexOf("?")?"?":"&")+t),e}var x=u("$http");e.paramSerializer=k(e.paramSerializer)?p.get(e.paramSerializer):e.paramSerializer;var C=[];return o(a,function(e){C.unshift(k(e)?p.get(e):p.invoke(e))}),f.pendingRequests=[],g("get","delete","head","jsonp"),m("post","put","patch"),f.defaults=e,f}]}function Et(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function St(){this.$get=["$browser","$window","$document","$xhrFactory",function(e,t,n,r){return Dt(e,r,e.defer,t.angular.callbacks,n[0])}]}function Dt(e,t,n,r,i){function a(e,t,n){var o=i.createElement("script"),a=null;return o.type="text/javascript",o.src=e,o.async=!0,a=function(e){ai(o,"load",a),ai(o,"error",a),i.body.removeChild(o),o=null;var s=-1,l="unknown";e&&("load"!==e.type||r[t].called||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},oi(o,"load",a),oi(o,"error",a),i.body.appendChild(o),a}return function(i,s,l,u,c,d,h,p){function f(){y&&y(),$&&$.abort()}function m(t,r,i,o,a){w(C)&&n.cancel(C),y=$=null,t(r,i,o,a),e.$$completeOutstandingRequest(g)}if(e.$$incOutstandingRequestCount(),s=s||e.url(),"jsonp"==kr(i)){var v="_"+(r.counter++).toString(36);r[v]=function(e){r[v].data=e,r[v].called=!0};var y=a(s.replace("JSON_CALLBACK","angular.callbacks."+v),v,function(e,t){m(u,e,r[v].data,"",t),r[v]=g})}else{var $=t(i,s);$.open(i,s,!0),o(c,function(e,t){w(e)&&$.setRequestHeader(t,e)}),$.onload=function(){var e=$.statusText||"",t="response"in $?$.response:$.responseText,n=1223===$.status?204:$.status;0===n&&(n=t?200:"file"==En(s).protocol?404:0),m(u,n,t,$.getAllResponseHeaders(),e)};var x=function(){m(u,-1,null,null,"")};if($.onerror=x,$.onabort=x,h&&($.withCredentials=!0),p)try{$.responseType=p}catch(k){if("json"!==p)throw k}$.send(b(l)?null:l)}if(d>0)var C=n(f,d);else j(d)&&d.then(f)}}function Ot(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(e){return"\\\\\\"+e}function a(n){return n.replace(h,e).replace(p,t)}function s(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=K(e)}return e}function l(o,l,h,p){function f(e){try{return e=E(e),p&&!w(e)?e:s(e)}catch(t){r(zi.interr(o,t))}}p=!!p;for(var g,m,v,y=0,$=[],x=[],k=o.length,C=[],_=[];k>y;){if(-1==(g=o.indexOf(e,y))||-1==(m=o.indexOf(t,g+u))){y!==k&&C.push(a(o.substring(y)));break}y!==g&&C.push(a(o.substring(y,g))),v=o.substring(g+u,m),$.push(v),x.push(n(v,f)),y=m+c,_.push(C.length),C.push("")}if(h&&C.length>1&&zi.throwNoconcat(o),!l||$.length){var T=function(e){for(var t=0,n=$.length;n>t;t++){if(p&&b(e[t]))return;C[_[t]]=e[t]}return C.join("")},E=function(e){return h?i.getTrusted(h,e):i.valueOf(e)};return d(function(e){var t=0,n=$.length,i=new Array(n);try{for(;n>t;t++)i[t]=x[t](e);return T(i)}catch(a){r(zi.interr(o,a))}},{exp:o,expressions:$,$$watchDelegate:function(e,t){var n;return e.$watchGroup(x,function(r,i){var o=T(r);A(t)&&t.call(this,o,r!==i?n:o,e),n=o})}})}}var u=e.length,c=t.length,h=new RegExp(e.replace(/./g,o),"g"),p=new RegExp(t.replace(/./g,o),"g");return l.startSymbol=function(){return e},l.endSymbol=function(){return t},l}]}function Pt(){this.$get=["$rootScope","$window","$q","$$q",function(e,t,n,r){function i(i,a,s,l){var u=arguments.length>4,c=u?W(arguments,4):[],d=t.setInterval,h=t.clearInterval,p=0,f=w(l)&&!l,g=(f?r:n).defer(),m=g.promise;return s=w(s)?s:0,m.then(null,null,u?function(){i.apply(null,c)}:i),m.$$intervalId=d(function(){g.notify(p++),s>0&&p>=s&&(g.resolve(p),h(m.$$intervalId),delete o[m.$$intervalId]),f||e.$apply()},a),o[m.$$intervalId]=g,m}var o={};return i.cancel=function(e){return e&&e.$$intervalId in o?(o[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete o[e.$$intervalId],!0):!1},i}]}function Nt(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=ne(t[n]);return t.join("/")}function jt(e,t){var n=En(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=p(n.port)||Gi[n.protocol]||null}function It(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var r=En(e);t.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=ee(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Ft(e,t){return 0===t.indexOf(e)?t.substr(e.length):void 0}function Rt(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function Mt(e){return e.replace(/(#.+)|#$/,"$1")}function Ut(e){return e.substr(0,Rt(e).lastIndexOf("/")+1)}function qt(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function Lt(e,t,n){this.$$html5=!0,n=n||"",jt(e,this),this.$$parse=function(e){var n=Ft(t,e);if(!k(n))throw Qi("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);It(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=te(this.$$search),n=this.$$hash?"#"+ne(this.$$hash):"";this.$$url=Nt(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a,s;return w(o=Ft(e,r))?(a=o,s=w(o=Ft(n,o))?t+(Ft("/",o)||o):e+a):w(o=Ft(t,r))?s=t+o:t==r+"/"&&(s=t),s&&this.$$parse(s),!!s}}function Bt(e,t,n){jt(e,this),this.$$parse=function(r){function i(e,t,n){var r,i=/^\/[A-Z]:(\/.*)/;return 0===t.indexOf(n)&&(t=t.replace(n,"")),i.exec(t)?e:(r=i.exec(e),r?r[1]:e)}var o,a=Ft(e,r)||Ft(t,r);b(a)||"#"!==a.charAt(0)?this.$$html5?o=a:(o="",b(a)&&(e=r,this.replace())):(o=Ft(n,a),b(o)&&(o=a)),It(o,this),this.$$path=i(this.$$path,o,e),this.$$compose()},this.$$compose=function(){var t=te(this.$$search),r=this.$$hash?"#"+ne(this.$$hash):"";this.$$url=Nt(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return Rt(e)==Rt(t)?(this.$$parse(t),!0):!1}}function Ht(e,t,n){this.$$html5=!0,Bt.apply(this,arguments),this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return e==Rt(r)?o=r:(a=Ft(t,r))?o=e+n+a:t===r+"/"&&(o=t),o&&this.$$parse(o),!!o},this.$$compose=function(){var t=te(this.$$search),r=this.$$hash?"#"+ne(this.$$hash):"";this.$$url=Nt(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+n+this.$$url}}function Wt(e){return function(){return this[e]}}function Vt(e,t){return function(n){return b(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function zt(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return w(t)?(e=t,this):e},this.html5Mode=function(e){return N(e)?(t.enabled=e,this):$(e)?(N(e.enabled)&&(t.enabled=e.enabled),N(e.requireBase)&&(t.requireBase=e.requireBase),N(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){function s(e,t,n){var i=u.url(),o=u.$$state;try{r.url(e,t,n),u.$$state=r.state()}catch(a){throw u.url(i),u.$$state=o,a}}function l(e,t){n.$broadcast("$locationChangeSuccess",u.absUrl(),e,u.$$state,t)}var u,c,d,h=r.baseHref(),p=r.url();if(t.enabled){if(!h&&t.requireBase)throw Qi("nobase","$location in HTML5 mode requires a <base> tag to be present!");d=qt(p)+(h||"/"),c=i.history?Lt:Ht}else d=Rt(p),c=Bt;var f=Ut(d);u=new c(d,f,"#"+e),u.$$parseLinkUrl(p,p),u.$$state=r.state();var g=/^\s*(javascript|mailto):/i;o.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var i=Sr(e.target);"a"!==M(i[0]);)if(i[0]===o[0]||!(i=i.parent())[0])return;var s=i.prop("href"),l=i.attr("href")||i.attr("xlink:href");$(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=En(s.animVal).href),g.test(s)||!s||i.attr("target")||e.isDefaultPrevented()||u.$$parseLinkUrl(s,l)&&(e.preventDefault(),u.absUrl()!=r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),Mt(u.absUrl())!=Mt(p)&&r.url(u.absUrl(),!0);var m=!0;return r.onUrlChange(function(e,t){return b(Ft(f,e))?void(a.location.href=e):(n.$evalAsync(function(){var r,i=u.absUrl(),o=u.$$state;e=Mt(e),u.$$parse(e),u.$$state=t,r=n.$broadcast("$locationChangeStart",e,i,t,o).defaultPrevented,u.absUrl()===e&&(r?(u.$$parse(i),u.$$state=o,s(i,!1,o)):(m=!1,l(i,o)))}),void(n.$$phase||n.$digest()))}),n.$watch(function(){var e=Mt(r.url()),t=Mt(u.absUrl()),o=r.state(),a=u.$$replace,c=e!==t||u.$$html5&&i.history&&o!==u.$$state;(m||c)&&(m=!1,n.$evalAsync(function(){var t=u.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,u.$$state,o).defaultPrevented;u.absUrl()===t&&(r?(u.$$parse(e),u.$$state=o):(c&&s(t,a,o===u.$$state?null:u.$$state),l(e,o)))})),u.$$replace=!1}),u}]}function Kt(){var e=!0,t=this;this.debugEnabled=function(t){return w(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function i(e){var t=n.console||{},i=t[e]||t.log||g,a=!1;try{a=!!i.apply}catch(s){}return a?function(){var e=[];return o(arguments,function(t){e.push(r(t))}),i.apply(t,e)}:function(e,t){i(e,null==t?"":t)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function Gt(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw Yi("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function Qt(e,t){if(e+="",!k(e))throw Yi("iseccst","Cannot convert object to primitive value! Expression: {0}",t);return e}function Jt(e,t){if(e){if(e.constructor===e)throw Yi("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw Yi("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw Yi("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw Yi("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function Yt(e,t){if(e){if(e.constructor===e)throw Yi("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===Xi||e===Zi||e===eo)throw Yi("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function Xt(e,t){if(e&&(e===0..constructor||e===(!1).constructor||e==="".constructor||e==={}.constructor||e===[].constructor||e===Function.constructor))throw Yi("isecaf","Assigning to a constructor is disallowed! Expression: {0}",t)}function Zt(e,t){return"undefined"!=typeof e?e:t}function en(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function tn(e,t){var n=e(t);return!n.$stateful}function nn(e,t){var n,r;switch(e.type){case io.Program:n=!0,o(e.body,function(e){nn(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case io.Literal:e.constant=!0,e.toWatch=[];break;case io.UnaryExpression:nn(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case io.BinaryExpression:nn(e.left,t),nn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case io.LogicalExpression:nn(e.left,t),nn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case io.ConditionalExpression:nn(e.test,t),nn(e.alternate,t),nn(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case io.Identifier:e.constant=!1,e.toWatch=[e];break;case io.MemberExpression:nn(e.object,t),e.computed&&nn(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case io.CallExpression:n=e.filter?tn(t,e.callee.name):!1,r=[],o(e.arguments,function(e){nn(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=e.filter&&tn(t,e.callee.name)?r:[e];break;case io.AssignmentExpression:nn(e.left,t),nn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case io.ArrayExpression:n=!0,r=[],o(e.elements,function(e){nn(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=r;break;case io.ObjectExpression:n=!0,r=[],o(e.properties,function(e){nn(e.value,t),n=n&&e.value.constant,e.value.constant||r.push.apply(r,e.value.toWatch)}),e.constant=n,e.toWatch=r;break;case io.ThisExpression:e.constant=!1,e.toWatch=[]}}function rn(e){if(1==e.length){var t=e[0].expression,r=t.toWatch;return 1!==r.length?r:r[0]!==t?r:n}}function on(e){return e.type===io.Identifier||e.type===io.MemberExpression}function an(e){return 1===e.body.length&&on(e.body[0].expression)?{type:io.AssignmentExpression,left:e.body[0].expression,right:{type:io.NGValueParameter},operator:"="}:void 0}function sn(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===io.Literal||e.body[0].expression.type===io.ArrayExpression||e.body[0].expression.type===io.ObjectExpression)}function ln(e){return e.constant}function un(e,t){this.astBuilder=e,this.$filter=t}function cn(e,t){this.astBuilder=e,this.$filter=t}function dn(e){return"constructor"==e}function hn(e){return A(e.valueOf)?e.valueOf():ao.call(e)}function pn(){var e=me(),t=me();this.$get=["$filter",function(r){function i(e,t){return null==e||null==t?e===t:"object"==typeof e&&(e=hn(e),"object"==typeof e)?!1:e===t||e!==e&&t!==t}function a(e,t,r,o,a){var s,l=o.inputs;if(1===l.length){var u=i;return l=l[0],e.$watch(function(e){var t=l(e);return i(t,u)||(s=o(e,n,n,[t]),u=t&&hn(t)),s},t,r,a)}for(var c=[],d=[],h=0,p=l.length;p>h;h++)c[h]=i,d[h]=null;return e.$watch(function(e){for(var t=!1,r=0,a=l.length;a>r;r++){var u=l[r](e);(t||(t=!i(u,c[r])))&&(d[r]=u,c[r]=u&&hn(u))}return t&&(s=o(e,n,n,d)),s},t,r,a)}function s(e,t,n,r){var i,o;return i=e.$watch(function(e){return r(e)},function(e,n,r){o=e,A(t)&&t.apply(this,arguments),w(e)&&r.$$postDigest(function(){w(o)&&i()})},n)}function l(e,t,n,r){function i(e){var t=!0;return o(e,function(e){w(e)||(t=!1)}),t}var a,s;return a=e.$watch(function(e){return r(e)},function(e,n,r){s=e,A(t)&&t.call(this,e,n,r),i(e)&&r.$$postDigest(function(){i(s)&&a()})},n)}function u(e,t,n,r){var i;return i=e.$watch(function(e){return r(e)},function(e,n,r){A(t)&&t.apply(this,arguments),i()},n)}function c(e,t){if(!t)return e;var n=e.$$watchDelegate,r=!1,i=n!==l&&n!==s,o=i?function(n,i,o,a){var s=r&&a?a[0]:e(n,i,o,a);return t(s,n,i)}:function(n,r,i,o){var a=e(n,r,i,o),s=t(a,n,r);return w(a)?s:a};return e.$$watchDelegate&&e.$$watchDelegate!==a?o.$$watchDelegate=e.$$watchDelegate:t.$stateful||(o.$$watchDelegate=a,r=!e.inputs,o.inputs=e.inputs?e.inputs:[e]),o}var d=Vr().noUnsafeEval,h={csp:d,expensiveChecks:!1},p={csp:d,expensiveChecks:!0};return function(n,i,o){var d,f,m;switch(typeof n){case"string":n=n.trim(),m=n;var v=o?t:e;if(d=v[m],!d){":"===n.charAt(0)&&":"===n.charAt(1)&&(f=!0,n=n.substring(2));var y=o?p:h,b=new ro(y),w=new oo(b,r,y);d=w.parse(n),d.constant?d.$$watchDelegate=u:f?d.$$watchDelegate=d.literal?l:s:d.inputs&&(d.$$watchDelegate=a),v[m]=d}return c(d,i);case"function":return c(n,i);default:return g}}}]}function fn(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return mn(function(t){e.$evalAsync(t)},t)}]}function gn(){this.$get=["$browser","$exceptionHandler",function(e,t){return mn(function(t){e.defer(t)},t)}]}function mn(e,t){function i(e,t,n){function r(t){return function(n){i||(i=!0,t.call(e,n))}}var i=!1;return[r(t),r(n)]}function a(){this.$$state={status:0}}function s(e,t){return function(n){t.call(e,n)}}function l(e){var r,i,o;o=e.pending,e.processScheduled=!1,e.pending=n;for(var a=0,s=o.length;s>a;++a){i=o[a][0],r=o[a][e.status];try{A(r)?i.resolve(r(e.value)):1===e.status?i.resolve(e.value):i.reject(e.value)}catch(l){i.reject(l),t(l)}}}function u(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){l(t)}))}function c(){this.promise=new a,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}function h(e){var t=new c,n=0,r=Lr(e)?[]:{};return o(e,function(e,i){n++,y(e).then(function(e){r.hasOwnProperty(i)||(r[i]=e,--n||t.resolve(r))},function(e){r.hasOwnProperty(i)||t.reject(e)})}),0===n&&t.resolve(r),t.promise}var p=r("$q",TypeError),f=function(){return new c};d(a.prototype,{then:function(e,t,n){if(b(e)&&b(t)&&b(n))return this;var r=new c;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),this.$$state.status>0&&u(this.$$state),r.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return v(t,!0,e)},function(t){return v(t,!1,e)},t)}}),d(c.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(p("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){var n,r;r=i(this,this.$$resolve,this.$$reject);try{($(e)||A(e))&&(n=e&&e.then),A(n)?(this.promise.$$state.status=-1,n.call(e,r[0],r[1],this.notify)):(this.promise.$$state.value=e,this.promise.$$state.status=1,u(this.promise.$$state))}catch(o){r[1](o),t(o)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,u(this.promise.$$state)},notify:function(n){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&e(function(){for(var e,i,o=0,a=r.length;a>o;o++){i=r[o][0],e=r[o][3];try{i.notify(A(e)?e(n):n)}catch(s){t(s)}}})}});var g=function(e){var t=new c;return t.reject(e),t.promise},m=function(e,t){var n=new c;return t?n.resolve(e):n.reject(e),n.promise},v=function(e,t,n){var r=null;try{A(n)&&(r=n())}catch(i){return m(i,!1)}return j(r)?r.then(function(){return m(e,t)},function(e){return m(e,!1)}):m(e,t)},y=function(e,t,n,r){var i=new c;return i.resolve(e),i.promise.then(t,n,r)},w=y,x=function k(e){function t(e){r.resolve(e)}function n(e){r.reject(e)}if(!A(e))throw p("norslvr","Expected resolverFn, got '{0}'",e);if(!(this instanceof k))return new k(e);var r=new c;return e(t,n),r.promise};return x.defer=f,x.reject=g,x.when=y,x.resolve=w,x.all=h,x}function vn(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=i,o}]}function yn(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=l(),this.$$ChildScope=null}return t.prototype=e,t}var t=10,n=r("$rootScope"),a=null,s=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,u,c,d){function h(e){e.currentScope.$$destroyed=!0}function p(e){9===Er&&(e.$$childHead&&p(e.$$childHead),e.$$nextSibling&&p(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function f(){this.$id=l(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function m(e){if(_.$$phase)throw n("inprog","{0} already in progress",_.$$phase);_.$$phase=e}function v(){_.$$phase=null;
}function y(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function w(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function x(){}function k(){for(;S.length;)try{S.shift()()}catch(e){u(e)}s=null}function C(){null===s&&(s=d.defer(function(){_.$apply(k)}))}f.prototype={constructor:f,$new:function(t,n){var r;return n=n||this,t?(r=new f,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(t||n!=this)&&r.$on("$destroy",h),r},$watch:function(e,t,n,r){var i=c(e);if(i.$$watchDelegate)return i.$$watchDelegate(this,t,n,i,e);var o=this,s=o.$$watchers,l={fn:t,last:x,get:i,exp:r||e,eq:!!n};return a=null,A(t)||(l.fn=g),s||(s=o.$$watchers=[]),s.unshift(l),y(this,1),function(){U(s,l)>=0&&y(o,-1),a=null}},$watchGroup:function(e,t){function n(){l=!1,u?(u=!1,t(i,i,s)):t(i,r,s)}var r=new Array(e.length),i=new Array(e.length),a=[],s=this,l=!1,u=!0;if(!e.length){var c=!0;return s.$evalAsync(function(){c&&t(i,i,s)}),function(){c=!1}}return 1===e.length?this.$watch(e[0],function(e,n,o){i[0]=e,r[0]=n,t(i,e===n?i:r,o)}):(o(e,function(e,t){var o=s.$watch(e,function(e,o){i[t]=e,r[t]=o,l||(l=!0,s.$evalAsync(n))});a.push(o)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(e,t){function n(e){o=e;var t,n,r,s,l;if(!b(o)){if($(o))if(i(o)){a!==p&&(a=p,m=a.length=0,d++),t=o.length,m!==t&&(d++,a.length=m=t);for(var u=0;t>u;u++)l=a[u],s=o[u],r=l!==l&&s!==s,r||l===s||(d++,a[u]=s)}else{a!==f&&(a=f={},m=0,d++),t=0;for(n in o)Cr.call(o,n)&&(t++,s=o[n],l=a[n],n in a?(r=l!==l&&s!==s,r||l===s||(d++,a[n]=s)):(m++,a[n]=s,d++));if(m>t){d++;for(n in a)Cr.call(o,n)||(m--,delete a[n])}}else a!==o&&(a=o,d++);return d}}function r(){if(g?(g=!1,t(o,o,l)):t(o,s,l),u)if($(o))if(i(o)){s=new Array(o.length);for(var e=0;e<o.length;e++)s[e]=o[e]}else{s={};for(var n in o)Cr.call(o,n)&&(s[n]=o[n])}else s=o}n.$stateful=!0;var o,a,s,l=this,u=t.length>1,d=0,h=c(e,n),p=[],f={},g=!0,m=0;return this.$watch(h,r)},$digest:function(){var e,r,i,o,l,c,h,p,f,g,y=t,b=this,w=[];m("$digest"),d.$$checkUrlChange(),this===_&&null!==s&&(d.defer.cancel(s),k()),a=null;do{for(c=!1,p=b;T.length;){try{g=T.shift(),g.scope.$eval(g.expression,g.locals)}catch($){u($)}a=null}e:do{if(o=p.$$watchers)for(l=o.length;l--;)try{if(e=o[l])if((r=e.get(p))===(i=e.last)||(e.eq?B(r,i):"number"==typeof r&&"number"==typeof i&&isNaN(r)&&isNaN(i))){if(e===a){c=!1;break e}}else c=!0,a=e,e.last=e.eq?q(r,null):r,e.fn(r,i===x?r:i,p),5>y&&(f=4-y,w[f]||(w[f]=[]),w[f].push({msg:A(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:r,oldVal:i}))}catch($){u($)}if(!(h=p.$$watchersCount&&p.$$childHead||p!==b&&p.$$nextSibling))for(;p!==b&&!(h=p.$$nextSibling);)p=p.$parent}while(p=h);if((c||T.length)&&!y--)throw v(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",t,w)}while(c||T.length);for(v();E.length;)try{E.shift()()}catch($){u($)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===_&&d.$$applicationDestroyed(),y(this,-this.$$watchersCount);for(var t in this.$$listenerCount)w(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=g,this.$on=this.$watch=this.$watchGroup=function(){return g},this.$$listeners={},this.$$nextSibling=null,p(this)}},$eval:function(e,t){return c(e)(this,t)},$evalAsync:function(e,t){_.$$phase||T.length||d.defer(function(){T.length&&_.$digest()}),T.push({scope:this,expression:e,locals:t})},$$postDigest:function(e){E.push(e)},$apply:function(e){try{m("$apply");try{return this.$eval(e)}finally{v()}}catch(t){u(t)}finally{try{_.$digest()}catch(t){throw u(t),t}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&S.push(t),C()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);-1!==r&&(n[r]=null,w(i,1,e))}},$emit:function(e,t){var n,r,i,o=[],a=this,s=!1,l={name:e,targetScope:a,stopPropagation:function(){s=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},c=H([l],arguments,1);do{for(n=a.$$listeners[e]||o,l.currentScope=a,r=0,i=n.length;i>r;r++)if(n[r])try{n[r].apply(null,c)}catch(d){u(d)}else n.splice(r,1),r--,i--;if(s)return l.currentScope=null,l;a=a.$parent}while(a);return l.currentScope=null,l},$broadcast:function(e,t){var n=this,r=n,i=n,o={name:e,targetScope:n,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[e])return o;for(var a,s,l,c=H([o],arguments,1);r=i;){for(o.currentScope=r,a=r.$$listeners[e]||[],s=0,l=a.length;l>s;s++)if(a[s])try{a[s].apply(null,c)}catch(d){u(d)}else a.splice(s,1),s--,l--;if(!(i=r.$$listenerCount[e]&&r.$$childHead||r!==n&&r.$$nextSibling))for(;r!==n&&!(i=r.$$nextSibling);)r=r.$parent}return o.currentScope=null,o}};var _=new f,T=_.$$asyncQueue=[],E=_.$$postDigestQueue=[],S=_.$$applyAsyncQueue=[];return _}]}function bn(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return w(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return w(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,o=r?t:e;return i=En(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function wn(e){if("self"===e)return e;if(k(e)){if(e.indexOf("***")>-1)throw so("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=Wr(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(T(e))return new RegExp("^"+e.source+"$");throw so("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function $n(e){var t=[];return w(e)&&o(e,function(e){t.push(wn(e))}),t}function xn(){this.SCE_CONTEXTS=lo;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=$n(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=$n(e)),t},this.$get=["$injector",function(n){function r(e,t){return"self"===e?Sn(t):!!e.exec(t.href)}function i(n){var i,o,a=En(n.toString()),s=!1;for(i=0,o=e.length;o>i;i++)if(r(e[i],a)){s=!0;break}if(s)for(i=0,o=t.length;o>i;i++)if(r(t[i],a)){s=!1;break}return s}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function a(e,t){var n=d.hasOwnProperty(e)?d[e]:null;if(!n)throw so("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||b(t)||""===t)return t;if("string"!=typeof t)throw so("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)}function s(e){return e instanceof c?e.$$unwrapTrustedValue():e}function l(e,t){if(null===t||b(t)||""===t)return t;var n=d.hasOwnProperty(e)?d[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(e===lo.RESOURCE_URL){if(i(t))return t;throw so("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===lo.HTML)return u(t);throw so("unsafe","Attempting to use an unsafe value in a safe context.")}var u=function(e){throw so("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(u=n.get("$sanitize"));var c=o(),d={};return d[lo.HTML]=o(c),d[lo.CSS]=o(c),d[lo.URL]=o(c),d[lo.JS]=o(c),d[lo.RESOURCE_URL]=o(d[lo.URL]),{trustAs:a,getTrusted:l,valueOf:s}}]}function kn(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>Er)throw so("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=L(lo);r.isEnabled=function(){return e},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=m),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:t(n,function(t){return r.getTrusted(e,t)})};var i=r.parseAs,a=r.getTrusted,s=r.trustAs;return o(lo,function(e,t){var n=kr(t);r[xe("parse_as_"+n)]=function(t){return i(e,t)},r[xe("get_trusted_"+n)]=function(t){return a(e,t)},r[xe("trust_as_"+n)]=function(t){return s(e,t)}}),r}]}function Cn(){this.$get=["$window","$document",function(e,t){var n,r,i={},o=p((/android (\d+)/.exec(kr((e.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},l=/^(Moz|webkit|ms)(?=[A-Z])/,u=s.body&&s.body.style,c=!1,d=!1;if(u){for(var h in u)if(r=l.exec(h)){n=r[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in u&&"webkit"),c=!!("transition"in u||n+"Transition"in u),d=!!("animation"in u||n+"Animation"in u),!o||c&&d||(c=k(u.webkitTransition),d=k(u.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>o||a),hasEvent:function(e){if("input"===e&&11>=Er)return!1;if(b(i[e])){var t=s.createElement("div");i[e]="on"+e in t}return i[e]},csp:Vr(),vendorPrefix:n,transitions:c,animations:d,android:o}}]}function _n(){this.$get=["$templateCache","$http","$q","$sce",function(e,t,n,r){function i(o,a){function s(e){if(!a)throw ji("tpload","Failed to load template: {0} (HTTP status: {1} {2})",o,e.status,e.statusText);return n.reject(e)}i.totalPendingRequests++,k(o)&&e.get(o)||(o=r.getTrustedResourceUrl(o));var l=t.defaults&&t.defaults.transformResponse;Lr(l)?l=l.filter(function(e){return e!==$t}):l===$t&&(l=null);var u={cache:e,transformResponse:l};return t.get(o,u)["finally"](function(){i.totalPendingRequests--}).then(function(t){return e.put(o,t.data),t.data},s)}return i.totalPendingRequests=0,i}]}function An(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var r={};return r.findBindings=function(e,t,n){var r=e.getElementsByClassName("ng-binding"),i=[];return o(r,function(e){var r=Mr.element(e).data("$binding");r&&o(r,function(r){if(n){var o=new RegExp("(^|\\s)"+Wr(t)+"(\\s|\\||$)");o.test(r)&&i.push(e)}else-1!=r.indexOf(t)&&i.push(e)})}),i},r.findModels=function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",a="["+r[i]+"model"+o+'"'+t+'"]',s=e.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},r.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},r}]}function Tn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){function o(o,s,l){A(o)||(l=s,s=o,o=g);var u,c=W(arguments,3),d=w(l)&&!l,h=(d?r:n).defer(),p=h.promise;return u=t.defer(function(){try{h.resolve(o.apply(null,c))}catch(t){h.reject(t),i(t)}finally{delete a[p.$$timeoutId]}d||e.$apply()},s),p.$$timeoutId=u,a[u]=h,p}var a={};return o.cancel=function(e){return e&&e.$$timeoutId in a?(a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},o}]}function En(e){var t=e;return Er&&(uo.setAttribute("href",t),t=uo.href),uo.setAttribute("href",t),{href:uo.href,protocol:uo.protocol?uo.protocol.replace(/:$/,""):"",host:uo.host,search:uo.search?uo.search.replace(/^\?/,""):"",hash:uo.hash?uo.hash.replace(/^#/,""):"",hostname:uo.hostname,port:uo.port,pathname:"/"===uo.pathname.charAt(0)?uo.pathname:"/"+uo.pathname}}function Sn(e){var t=k(e)?En(e):e;return t.protocol===co.protocol&&t.host===co.host}function Dn(){this.$get=v(e)}function On(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var n=e[0]||{},r={},i="";return function(){var e,o,a,s,l,u=n.cookie||"";if(u!==i)for(i=u,e=i.split("; "),r={},a=0;a<e.length;a++)o=e[a],s=o.indexOf("="),s>0&&(l=t(o.substring(0,s)),b(r[l])&&(r[l]=t(o.substring(s+1))));return r}}function Pn(){this.$get=On}function Nn(e){function t(r,i){if($(r)){var a={};return o(r,function(e,n){a[n]=t(n,e)}),a}return e.factory(r+n,i)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",Mn),t("date",Yn),t("filter",jn),t("json",Xn),t("limitTo",Zn),t("lowercase",mo),t("number",Un),t("orderBy",er),t("uppercase",vo)}function jn(){return function(e,t,n){if(!i(e)){if(null==e)return e;throw r("filter")("notarray","Expected array but received: {0}",e)}var o,a,s=Rn(t);switch(s){case"function":o=t;break;case"boolean":case"null":case"number":case"string":a=!0;case"object":o=In(t,n,a);break;default:return e}return Array.prototype.filter.call(e,o)}}function In(e,t,n){var r,i=$(e)&&"$"in e;return t===!0?t=B:A(t)||(t=function(e,t){return b(e)?!1:null===e||null===t?e===t:$(t)||$(e)&&!y(e)?!1:(e=kr(""+e),t=kr(""+t),-1!==e.indexOf(t))}),r=function(r){return i&&!$(r)?Fn(r,e.$,t,!1):Fn(r,e,t,n)}}function Fn(e,t,n,r,i){var o=Rn(e),a=Rn(t);if("string"===a&&"!"===t.charAt(0))return!Fn(e,t.substring(1),n,r);if(Lr(e))return e.some(function(e){return Fn(e,t,n,r)});switch(o){case"object":var s;if(r){for(s in e)if("$"!==s.charAt(0)&&Fn(e[s],t,n,!0))return!0;return i?!1:Fn(e,t,n,!1)}if("object"===a){for(s in t){var l=t[s];if(!A(l)&&!b(l)){var u="$"===s,c=u?e:e[s];if(!Fn(c,l,n,u,u))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function Rn(e){return null===e?"null":typeof e}function Mn(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return b(n)&&(n=t.CURRENCY_SYM),b(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:qn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function Un(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:qn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function qn(e,t,n,r,i){if($(e))return"";var o=0>e;e=Math.abs(e);var a=e===1/0;if(!a&&!isFinite(e))return"";var s=e+"",l="",u=!1,c=[];if(a&&(l="∞"),!a&&-1!==s.indexOf("e")){var d=s.match(/([\d\.]+)e(-?)(\d+)/);d&&"-"==d[2]&&d[3]>i+1?e=0:(l=s,u=!0)}if(a||u)i>0&&1>e&&(l=e.toFixed(i),e=parseFloat(l),l=l.replace(ho,r));else{var h=(s.split(ho)[1]||"").length;b(i)&&(i=Math.min(Math.max(t.minFrac,h),t.maxFrac)),e=+(Math.round(+(e.toString()+"e"+i)).toString()+"e"+-i);var p=(""+e).split(ho),f=p[0];p=p[1]||"";var g,m=0,v=t.lgSize,y=t.gSize;if(f.length>=v+y)for(m=f.length-v,g=0;m>g;g++)(m-g)%y===0&&0!==g&&(l+=n),l+=f.charAt(g);for(g=m;g<f.length;g++)(f.length-g)%v===0&&0!==g&&(l+=n),l+=f.charAt(g);for(;p.length<i;)p+="0";i&&"0"!==i&&(l+=r+p.substr(0,i))}return 0===e&&(o=!1),c.push(o?t.negPre:t.posPre,l,o?t.negSuf:t.posSuf),c.join("")}function Ln(e,t,n){var r="";for(0>e&&(r="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),r+e}function Bn(e,t,n,r){return n=n||0,function(i){var o=i["get"+e]();return(n>0||o>-n)&&(o+=n),0===o&&-12==n&&(o=12),Ln(o,t,r)}}function Hn(e,t){return function(n,r){var i=n["get"+e](),o=_r(t?"SHORT"+e:e);return r[o][i]}}function Wn(e,t,n){var r=-1*n,i=r>=0?"+":"";return i+=Ln(Math[r>0?"floor":"ceil"](r/60),2)+Ln(Math.abs(r%60),2)}function Vn(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function zn(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function Kn(e){return function(t){var n=Vn(t.getFullYear()),r=zn(t),i=+r-+n,o=1+Math.round(i/6048e5);return Ln(o,e)}}function Gn(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function Qn(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function Jn(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function Yn(e){function t(e){var t;if(t=e.match(n)){var r=new Date(0),i=0,o=0,a=t[8]?r.setUTCFullYear:r.setFullYear,s=t[8]?r.setUTCHours:r.setHours;t[9]&&(i=p(t[9]+t[10]),o=p(t[9]+t[11])),a.call(r,p(t[1]),p(t[2])-1,p(t[3]));var l=p(t[4]||0)-i,u=p(t[5]||0)-o,c=p(t[6]||0),d=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(r,l,u,c,d),r}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var a,s,l="",u=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,k(n)&&(n=go.test(n)?p(n):t(n)),C(n)&&(n=new Date(n)),!_(n)||!isFinite(n.getTime()))return n;for(;r;)s=fo.exec(r),s?(u=H(u,s,1),r=u.pop()):(u.push(r),r=null);var c=n.getTimezoneOffset();return i&&(c=Q(i,n.getTimezoneOffset()),n=Y(n,i,!0)),o(u,function(t){a=po[t],l+=a?a(n,e.DATETIME_FORMATS,c):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function Xn(){return function(e,t){return b(t)&&(t=2),K(e,t)}}function Zn(){return function(e,t,n){return t=Math.abs(Number(t))===1/0?Number(t):p(t),isNaN(t)?e:(C(e)&&(e=e.toString()),Lr(e)||k(e)?(n=!n||isNaN(n)?0:p(n),n=0>n?Math.max(0,e.length+n):n,t>=0?e.slice(n,n+t):0===n?e.slice(t,e.length):e.slice(Math.max(0,n+t),n)):e)}}function er(e){function t(t,n){return n=n?-1:1,t.map(function(t){var r=1,i=m;if(A(t))i=t;else if(k(t)&&(("+"==t.charAt(0)||"-"==t.charAt(0))&&(r="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(i=e(t),i.constant))){var o=i();i=function(e){return e[o]}}return{get:i,descending:r*n}})}function n(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function r(e,t){return"function"==typeof e.valueOf&&(e=e.valueOf(),n(e))?e:y(e)&&(e=e.toString(),n(e))?e:t}function o(e,t){var n=typeof e;return null===e?(n="string",e="null"):"string"===n?e=e.toLowerCase():"object"===n&&(e=r(e,t)),{value:e,type:n}}function a(e,t){var n=0;return e.type===t.type?e.value!==t.value&&(n=e.value<t.value?-1:1):n=e.type<t.type?-1:1,n}return function(e,n,r){function s(e,t){return{value:e,predicateValues:u.map(function(n){return o(n.get(e),t)})}}function l(e,t){for(var n=0,r=0,i=u.length;i>r&&!(n=a(e.predicateValues[r],t.predicateValues[r])*u[r].descending);++r);return n}if(!i(e))return e;Lr(n)||(n=[n]),0===n.length&&(n=["+"]);var u=t(n,r);u.push({get:function(){return{}},descending:r?-1:1});var c=Array.prototype.map.call(e,s);return c.sort(l),e=c.map(function(e){return e.value})}}function tr(e){return A(e)&&(e={link:e}),e.restrict=e.restrict||"AC",v(e)}function nr(e,t){e.$name=t}function rr(e,t,r,i,a){var s=this,l=[];s.$error={},s.$$success={},s.$pending=n,s.$name=a(t.name||t.ngForm||"")(r),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,s.$$parentForm=wo,s.$rollbackViewValue=function(){o(l,function(e){e.$rollbackViewValue()})},s.$commitViewValue=function(){o(l,function(e){e.$commitViewValue()})},s.$addControl=function(e){pe(e.$name,"input"),l.push(e),e.$name&&(s[e.$name]=e),e.$$parentForm=s},s.$$renameControl=function(e,t){var n=e.$name;s[n]===e&&delete s[n],s[t]=e,e.$name=t},s.$removeControl=function(e){e.$name&&s[e.$name]===e&&delete s[e.$name],o(s.$pending,function(t,n){s.$setValidity(n,null,e)}),o(s.$error,function(t,n){s.$setValidity(n,null,e)}),o(s.$$success,function(t,n){s.$setValidity(n,null,e)}),U(l,e),e.$$parentForm=wo},yr({ctrl:this,$element:e,set:function(e,t,n){var r=e[t];if(r){var i=r.indexOf(n);-1===i&&r.push(n)}else e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(U(r,n),0===r.length&&delete e[t])},$animate:i}),s.$setDirty=function(){i.removeClass(e,na),i.addClass(e,ra),s.$dirty=!0,s.$pristine=!1,s.$$parentForm.$setDirty()},s.$setPristine=function(){i.setClass(e,na,ra+" "+$o),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,o(l,function(e){e.$setPristine()})},s.$setUntouched=function(){o(l,function(e){e.$setUntouched()})},s.$setSubmitted=function(){i.addClass(e,$o),s.$submitted=!0,s.$$parentForm.$setSubmitted()}}function ir(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function or(e,t,n,r,i,o){ar(e,t,n,r,i,o),ir(r)}function ar(e,t,n,r,i,o){var a=kr(t[0].type);if(!i.android){var s=!1;t.on("compositionstart",function(e){s=!0}),t.on("compositionend",function(){s=!1,l()})}var l=function(e){if(u&&(o.defer.cancel(u),u=null),!s){var i=t.val(),l=e&&e.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=Hr(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,l)}};if(i.hasEvent("input"))t.on("input",l);else{var u,c=function(e,t,n){u||(u=o.defer(function(){u=null,t&&t.value===n||l(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||c(e,this,this.value)}),i.hasEvent("paste")&&t.on("paste cut",c)}t.on("change",l),r.$render=function(){var e=r.$isEmpty(r.$viewValue)?"":r.$viewValue;t.val()!==e&&t.val(e)}}function sr(e,t){if(_(e))return e;if(k(e)){Oo.lastIndex=0;var n=Oo.exec(e);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,l=0,u=Vn(r),c=7*(i-1);return t&&(o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),l=t.getMilliseconds()),new Date(r,0,u.getDate()+c,o,a,s,l)}}return NaN}function lr(e,t){return function(n,r){var i,a;if(_(n))return n;if(k(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),_o.test(n))return new Date(n);if(e.lastIndex=0,i=e.exec(n))return i.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(i,function(e,n){n<t.length&&(a[t[n]]=+e)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function ur(e,t,r,i){return function(o,a,s,l,u,c,d){function h(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function p(e){return w(e)&&!_(e)?r(e)||n:e}cr(o,a,s,l),ar(o,a,s,l,u,c);var f,g=l&&l.$options&&l.$options.timezone;if(l.$$parserName=e,l.$parsers.push(function(e){if(l.$isEmpty(e))return null;if(t.test(e)){var i=r(e,f);return g&&(i=Y(i,g)),i}return n}),l.$formatters.push(function(e){if(e&&!_(e))throw sa("datefmt","Expected `{0}` to be a date",e);return h(e)?(f=e,f&&g&&(f=Y(f,g,!0)),d("date")(e,i,g)):(f=null,"")}),w(s.min)||s.ngMin){var m;l.$validators.min=function(e){return!h(e)||b(m)||r(e)>=m},s.$observe("min",function(e){m=p(e),l.$validate()})}if(w(s.max)||s.ngMax){var v;l.$validators.max=function(e){return!h(e)||b(v)||r(e)<=v},s.$observe("max",function(e){v=p(e),l.$validate()})}}}function cr(e,t,r,i){var o=t[0],a=i.$$hasNativeValidators=$(o.validity);a&&i.$parsers.push(function(e){var r=t.prop(xr)||{};return r.badInput&&!r.typeMismatch?n:e})}function dr(e,t,r,i,o,a){if(cr(e,t,r,i),ar(e,t,r,i,o,a),i.$$parserName="number",i.$parsers.push(function(e){return i.$isEmpty(e)?null:Eo.test(e)?parseFloat(e):n}),i.$formatters.push(function(e){if(!i.$isEmpty(e)){if(!C(e))throw sa("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e}),w(r.min)||r.ngMin){var s;i.$validators.min=function(e){return i.$isEmpty(e)||b(s)||e>=s},r.$observe("min",function(e){w(e)&&!C(e)&&(e=parseFloat(e,10)),s=C(e)&&!isNaN(e)?e:n,i.$validate()})}if(w(r.max)||r.ngMax){var l;i.$validators.max=function(e){return i.$isEmpty(e)||b(l)||l>=e},r.$observe("max",function(e){w(e)&&!C(e)&&(e=parseFloat(e,10)),l=C(e)&&!isNaN(e)?e:n,i.$validate()})}}function hr(e,t,n,r,i,o){ar(e,t,n,r,i,o),ir(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||Ao.test(n)}}function pr(e,t,n,r,i,o){ar(e,t,n,r,i,o),ir(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||To.test(n)}}function fr(e,t,n,r){b(n.name)&&t.attr("name",l());var i=function(e){t[0].checked&&r.$setViewValue(n.value,e&&e.type)};t.on("click",i),r.$render=function(){var e=n.value;t[0].checked=e==r.$viewValue},n.$observe("value",r.$render)}function gr(e,t,n,r,i){var o;if(w(r)){if(o=e(r),!o.constant)throw sa("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return o(t)}return i}function mr(e,t,n,r,i,o,a,s){var l=gr(s,e,"ngTrueValue",n.ngTrueValue,!0),u=gr(s,e,"ngFalseValue",n.ngFalseValue,!1),c=function(e){r.$setViewValue(t[0].checked,e&&e.type)};t.on("click",c),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return e===!1},r.$formatters.push(function(e){return B(e,l)}),r.$parsers.push(function(e){return e?l:u})}function vr(e,t){return e="ngClass"+e,["$animate",function(n){function r(e,t){var n=[];e:for(var r=0;r<e.length;r++){for(var i=e[r],o=0;o<t.length;o++)if(i==t[o])continue e;n.push(i)}return n}function i(e){var t=[];return Lr(e)?(o(e,function(e){t=t.concat(i(e))}),t):k(e)?e.split(" "):$(e)?(o(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t):e}return{restrict:"AC",link:function(a,s,l){function u(e){var t=d(e,1);l.$addClass(t)}function c(e){var t=d(e,-1);l.$removeClass(t)}function d(e,t){var n=s.data("$classCounts")||me(),r=[];return o(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&r.push(e))}),s.data("$classCounts",n),r.join(" ")}function h(e,t){var i=r(t,e),o=r(e,t);i=d(i,1),o=d(o,-1),i&&i.length&&n.addClass(s,i),o&&o.length&&n.removeClass(s,o)}function p(e){if(t===!0||a.$index%2===t){var n=i(e||[]);if(f){if(!B(e,f)){var r=i(f);h(r,n)}}else u(n)}f=L(e)}var f;a.$watch(l[e],p,!0),l.$observe("class",function(t){p(a.$eval(l[e]))}),"ngClass"!==e&&a.$watch("$index",function(n,r){var o=1&n;if(o!==(1&r)){var s=i(a.$eval(l[e]));o===t?u(s):c(s)}})}}}]}function yr(e){function t(e,t,l){b(t)?r("$pending",e,l):i("$pending",e,l),N(t)?t?(d(s.$error,e,l),c(s.$$success,e,l)):(c(s.$error,e,l),d(s.$$success,e,l)):(d(s.$error,e,l),d(s.$$success,e,l)),s.$pending?(o(aa,!0),s.$valid=s.$invalid=n,a("",null)):(o(aa,!1),s.$valid=br(s.$error),s.$invalid=!s.$valid,a("",s.$valid));var u;u=s.$pending&&s.$pending[e]?n:s.$error[e]?!1:s.$$success[e]?!0:null,a(e,u),s.$$parentForm.$setValidity(e,u,s)}function r(e,t,n){s[e]||(s[e]={}),c(s[e],t,n)}function i(e,t,r){s[e]&&d(s[e],t,r),br(s[e])&&(s[e]=n)}function o(e,t){t&&!u[e]?(h.addClass(l,e),u[e]=!0):!t&&u[e]&&(h.removeClass(l,e),u[e]=!1)}function a(e,t){e=e?"-"+ue(e,"-"):"",o(ea+e,t===!0),o(ta+e,t===!1)}var s=e.ctrl,l=e.$element,u={},c=e.set,d=e.unset,h=e.$animate;u[ta]=!(u[ea]=l.hasClass(ea)),s.$setValidity=t}function br(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function wr(e){e[0].hasAttribute("selected")&&(e[0].selected=!0)}var $r=/^\/(.+)\/([a-z]*)$/,xr="validity",kr=function(e){return k(e)?e.toLowerCase():e},Cr=Object.prototype.hasOwnProperty,_r=function(e){return k(e)?e.toUpperCase():e},Ar=function(e){return k(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},Tr=function(e){return k(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(kr=Ar,_r=Tr);var Er,Sr,Dr,Or,Pr=[].slice,Nr=[].splice,jr=[].push,Ir=Object.prototype.toString,Fr=Object.getPrototypeOf,Rr=r("ng"),Mr=e.angular||(e.angular={}),Ur=0;Er=t.documentMode,g.$inject=[],m.$inject=[];var qr,Lr=Array.isArray,Br=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,Hr=function(e){return k(e)?e.trim():e},Wr=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Vr=function(){function e(){try{return new Function(""),!1}catch(e){return!0}}if(!w(Vr.rules)){var n=t.querySelector("[ng-csp]")||t.querySelector("[data-ng-csp]");if(n){var r=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");Vr.rules={noUnsafeEval:!r||-1!==r.indexOf("no-unsafe-eval"),noInlineStyle:!r||-1!==r.indexOf("no-inline-style")}}else Vr.rules={noUnsafeEval:e(),noInlineStyle:!1}}return Vr.rules},zr=function(){if(w(zr.name_))return zr.name_;var e,n,r,i,o=Kr.length;for(n=0;o>n;++n)if(r=Kr[n],e=t.querySelector("["+r.replace(":","\\:")+"jq]")){i=e.getAttribute(r+"jq");break}return zr.name_=i},Kr=["ng-","data-ng-","ng:","x-ng-"],Gr=/[A-Z]/g,Qr=!1,Jr=1,Yr=2,Xr=3,Zr=8,ei=9,ti=11,ni={full:"1.4.8",major:1,minor:4,dot:8,codeName:"ice-manipulation"};Ee.expando="ng339";var ri=Ee.cache={},ii=1,oi=function(e,t,n){e.addEventListener(t,n,!1)},ai=function(e,t,n){e.removeEventListener(t,n,!1)};Ee._data=function(e){return this.cache[e[this.expando]]||{}};var si=/([\:\-\_]+(.))/g,li=/^moz([A-Z])/,ui={mouseleave:"mouseout",mouseenter:"mouseover"},ci=r("jqLite"),di=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,hi=/<|&#?\w+;/,pi=/<([\w:-]+)/,fi=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,gi={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};gi.optgroup=gi.option,gi.tbody=gi.tfoot=gi.colgroup=gi.caption=gi.thead,gi.th=gi.td;var mi=Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},vi=Ee.prototype={ready:function(n){function r(){i||(i=!0,n())}var i=!1;"complete"===t.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),Ee(e).on("load",r))},toString:function(){var e=[];return o(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return Sr(e>=0?this[e]:this[this.length+e])},length:0,push:jr,sort:[].sort,splice:[].splice},yi={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){yi[kr(e)]=e});var bi={};o("input,select,option,textarea,button,form,details".split(","),function(e){bi[e]=!0});var wi={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:je,removeData:Pe,hasData:_e},function(e,t){Ee[t]=e}),o({data:je,inheritedData:qe,scope:function(e){return Sr.data(e,"$scope")||qe(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Sr.data(e,"$isolateScope")||Sr.data(e,"$isolateScopeNoTemplate")},controller:Ue,injector:function(e){return qe(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Ie,css:function(e,t,n){return t=xe(t),w(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,r){var i=e.nodeType;if(i!==Xr&&i!==Yr&&i!==Zr){var o=kr(t);if(yi[o]){if(!w(r))return e[t]||(e.attributes.getNamedItem(t)||g).specified?o:n;r?(e[t]=!0,e.setAttribute(t,o)):(e[t]=!1,e.removeAttribute(o))}else if(w(r))e.setAttribute(t,r);else if(e.getAttribute){var a=e.getAttribute(t,2);return null===a?n:a}}},prop:function(e,t,n){return w(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(b(t)){var n=e.nodeType;return n===Jr||n===Xr?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(b(t)){if(e.multiple&&"select"===M(e)){var n=[];return o(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return b(t)?e.innerHTML:(De(e,!0),void(e.innerHTML=t))},empty:Le},function(e,t){Ee.prototype[t]=function(t,n){var r,i,o=this.length;if(e!==Le&&b(2==e.length&&e!==Ie&&e!==Ue?t:n)){if($(t)){for(r=0;o>r;r++)if(e===je)e(this[r],t);else for(i in t)e(this[r],i,t[i]);return this}for(var a=e.$dv,s=b(a)?Math.min(o,1):o,l=0;s>l;l++){var u=e(this[l],t,n);a=a?a+u:u}return a}for(r=0;o>r;r++)e(this[r],t,n);return this}}),o({removeData:Pe,on:function(e,t,r,i){if(w(i))throw ci("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Ce(e)){var o=Ne(e,!0),a=o.events,s=o.handle;s||(s=o.handle=ze(e,a));for(var l=t.indexOf(" ")>=0?t.split(" "):[t],u=l.length,c=function(t,n,i){var o=a[t];o||(o=a[t]=[],o.specialHandlerWrapper=n,"$destroy"===t||i||oi(e,t,s)),o.push(r)};u--;)t=l[u],ui[t]?(c(ui[t],Ge),c(t,n,!0)):c(t)}},off:Oe,one:function(e,t,n){e=Sr(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;De(e),o(new Ee(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return o(e.childNodes,function(e){e.nodeType===Jr&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===Jr||n===ti){t=new Ee(t);for(var r=0,i=t.length;i>r;r++){var o=t[r];e.appendChild(o);
}}},prepend:function(e,t){if(e.nodeType===Jr){var n=e.firstChild;o(new Ee(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=Sr(t).eq(0).clone()[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:Be,detach:function(e){Be(e,!0)},after:function(e,t){var n=e,r=e.parentNode;t=new Ee(t);for(var i=0,o=t.length;o>i;i++){var a=t[i];r.insertBefore(a,n.nextSibling),n=a}},addClass:Re,removeClass:Fe,toggleClass:function(e,t,n){t&&o(t.split(" "),function(t){var r=n;b(r)&&(r=!Ie(e,t)),(r?Re:Fe)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==ti?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:Se,triggerHandler:function(e,t,n){var r,i,a,s=t.type||t,l=Ne(e),u=l&&l.events,c=u&&u[s];c&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:g,type:s,target:e},t.type&&(r=d(r,t)),i=L(c),a=n?[r].concat(n):[r],o(i,function(t){r.isImmediatePropagationStopped()||t.apply(e,a)}))}},function(e,t){Ee.prototype[t]=function(t,n,r){for(var i,o=0,a=this.length;a>o;o++)b(i)?(i=e(this[o],t,n,r),w(i)&&(i=Sr(i))):Me(i,e(this[o],t,n,r));return w(i)?i:this},Ee.prototype.bind=Ee.prototype.on,Ee.prototype.unbind=Ee.prototype.off}),Ye.prototype={put:function(e,t){this[Je(e,this.nextUid)]=t},get:function(e){return this[Je(e,this.nextUid)]},remove:function(e){var t=this[e=Je(e,this.nextUid)];return delete this[e],t}};var $i=[function(){this.$get=[function(){return Ye}]}],xi=/^[^\(]*\(\s*([^\)]*)\)/m,ki=/,/,Ci=/^\s*(_?)(\S+?)\1\s*$/,_i=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Ai=r("$injector");et.$$annotate=Ze;var Ti=r("$animate"),Ei=1,Si="ng-animate",Di=function(){this.$get=["$q","$$rAF",function(e,t){function n(){}return n.all=g,n.chain=g,n.prototype={end:g,cancel:g,resume:g,pause:g,complete:g,then:function(n,r){return e(function(e){t(function(){e()})}).then(n,r)}},n}]},Oi=function(){var e=new Ye,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function i(e,t,n){var r=!1;return t&&(t=k(t)?t.split(" "):Lr(t)?t:[],o(t,function(t){t&&(r=!0,e[t]=n)})),r}function a(){o(t,function(t){var n=e.get(t);if(n){var r=it(t.attr("class")),i="",a="";o(n,function(e,t){var n=!!r[t];e!==n&&(e?i+=(i.length?" ":"")+t:a+=(a.length?" ":"")+t)}),o(t,function(e){i&&Re(e,i),a&&Fe(e,a)}),e.remove(t)}}),t.length=0}function s(n,o,s){var l=e.get(n)||{},u=i(l,o,!0),c=i(l,s,!1);(u||c)&&(e.put(n,l),t.push(n),1===t.length&&r.$$postDigest(a))}return{enabled:g,on:g,off:g,pin:g,push:function(e,t,r,i){return i&&i(),r=r||{},r.from&&e.css(r.from),r.to&&e.css(r.to),(r.addClass||r.removeClass)&&s(e,r.addClass,r.removeClass),new n}}}]},Pi=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw Ti("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";t.$$registeredAnimations[n.substr(1)]=i,e.factory(i,r)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null,this.$$classNameFilter)){var t=new RegExp("(\\s+|\\/)"+Si+"(\\s+|\\/)");if(t.test(this.$$classNameFilter.toString()))throw Ti("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Si)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var r=rt(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,r,i,o){return r=r&&Sr(r),i=i&&Sr(i),r=r||i.parent(),t(n,r,i),e.push(n,"enter",ot(o))},move:function(n,r,i,o){return r=r&&Sr(r),i=i&&Sr(i),r=r||i.parent(),t(n,r,i),e.push(n,"move",ot(o))},leave:function(t,n){return e.push(t,"leave",ot(n),function(){t.remove()})},addClass:function(t,n,r){return r=ot(r),r.addClass=nt(r.addclass,n),e.push(t,"addClass",r)},removeClass:function(t,n,r){return r=ot(r),r.removeClass=nt(r.removeClass,n),e.push(t,"removeClass",r)},setClass:function(t,n,r,i){return i=ot(i),i.addClass=nt(i.addClass,n),i.removeClass=nt(i.removeClass,r),e.push(t,"setClass",i)},animate:function(t,n,r,i,o){return o=ot(o),o.from=o.from?d(o.from,n):n,o.to=o.to?d(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=nt(o.tempClasses,i),e.push(t,"animate",o)}}}]}],Ni=function(){this.$get=["$$rAF","$q",function(e,t){var n=function(){};return n.prototype={done:function(e){this.defer&&this.defer[e===!0?"reject":"resolve"]()},end:function(){this.done()},cancel:function(){this.done(!0)},getPromise:function(){return this.defer||(this.defer=t.defer()),this.defer.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)}},function(t,r){function i(){return e(function(){o(),a||s.done(),a=!0}),s}function o(){r.addClass&&(t.addClass(r.addClass),r.addClass=null),r.removeClass&&(t.removeClass(r.removeClass),r.removeClass=null),r.to&&(t.css(r.to),r.to=null)}r.cleanupStyles&&(r.from=r.to=null),r.from&&(t.css(r.from),r.from=null);var a,s=new n;return{start:i,end:i}}}]},ji=r("$compile");ct.$inject=["$provide","$$sanitizeUriProvider"];var Ii=/^((?:x|data)[\:\-_])/i,Fi=r("$controller"),Ri=/^(\S+)(\s+as\s+(\w+))?$/,Mi=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof Sr&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},Ui="application/json",qi={"Content-Type":Ui+";charset=utf-8"},Li=/^\[|^\{(?!\{)/,Bi={"[":/]$/,"{":/}$/},Hi=/^\)\]\}',?\n/,Wi=r("$http"),Vi=function(e){return function(){throw Wi("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",e)}},zi=Mr.$interpolateMinErr=r("$interpolate");zi.throwNoconcat=function(e){throw zi("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},zi.interr=function(e,t){return zi("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var Ki=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Gi={http:80,https:443,ftp:21},Qi=r("$location"),Ji={$$html5:!1,$$replace:!1,absUrl:Wt("$$absUrl"),url:function(e){if(b(e))return this.$$url;var t=Ki.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:Wt("$$protocol"),host:Wt("$$host"),port:Wt("$$port"),path:Vt("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(k(e)||C(e))e=e.toString(),this.$$search=ee(e);else{if(!$(e))throw Qi("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=q(e,{}),o(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:b(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Vt("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};o([Ht,Bt,Lt],function(e){e.prototype=Object.create(Ji),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==Lt||!this.$$html5)throw Qi("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=b(t)?null:t,this}});var Yi=r("$parse"),Xi=Function.prototype.call,Zi=Function.prototype.apply,eo=Function.prototype.bind,to=me();o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){to[e]=!0});var no={n:"\n",f:"\f",r:"\r",t:"	",v:"\x0B","'":"'",'"':'"'},ro=function(e){this.options=e};ro.prototype={constructor:ro,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(t))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),i=to[t],o=to[n],a=to[r];if(i||o||a){var s=a?r:o?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return e>="0"&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||"\x0B"===e||" "===e},isIdent:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=w(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw Yi("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=kr(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){for(var e=this.index;this.index<this.text.length;){var t=this.text.charAt(this.index);if(!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=no[o];n+=s||o}i=!1}else if("\\"===o)i=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var io=function(e,t){this.lexer=e,this.options=t};io.Program="Program",io.ExpressionStatement="ExpressionStatement",io.AssignmentExpression="AssignmentExpression",io.ConditionalExpression="ConditionalExpression",io.LogicalExpression="LogicalExpression",io.BinaryExpression="BinaryExpression",io.UnaryExpression="UnaryExpression",io.CallExpression="CallExpression",io.MemberExpression="MemberExpression",io.Identifier="Identifier",io.Literal="Literal",io.ArrayExpression="ArrayExpression",io.Property="Property",io.ObjectExpression="ObjectExpression",io.ThisExpression="ThisExpression",io.NGValueParameter="NGValueParameter",io.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:io.Program,body:e}},expressionStatement:function(){return{type:io.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e,t=this.expression();e=this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:io.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:io.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:io.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:io.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:io.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:io.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:io.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:io.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:io.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.constants.hasOwnProperty(this.peek().text)?e=q(this.constants[this.consume().text]):this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:io.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:io.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:io.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:io.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.expression());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:io.Identifier,name:e.text}},constant:function(){return{type:io.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:io.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:io.Property,kind:"init"},this.peek().constant?e.key=this.constant():this.peek().identifier?e.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),e.value=this.expression(),t.push(e)}while(this.expect(","));return this.consume("}"),{type:io.ObjectExpression,properties:t}},throwError:function(e,t){throw Yi("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw Yi("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw Yi("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===n||a===r||a===i||!t&&!n&&!r&&!i)return o}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return i?(this.tokens.shift(),i):!1},constants:{"true":{type:io.Literal,value:!0},"false":{type:io.Literal,value:!1},"null":{type:io.Literal,value:null},undefined:{type:io.Literal,value:n},"this":{type:io.ThisExpression}}},un.prototype={compile:function(e,t){var r=this,i=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},nn(i,r.$filter);var a,s="";if(this.stage="assign",a=an(i)){this.state.computing="assign";var l=this.nextId();this.recurse(a,l),this.return_(l),s="fn.assign="+this.generateFunction("assign","s,v,l")}var u=rn(i.body);r.stage="inputs",o(u,function(e,t){var n="fn"+t;r.state[n]={vars:[],body:[],own:{}},r.state.computing=n;var i=r.nextId();r.recurse(e,i),r.return_(i),r.state.inputs.push(n),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(i);var c='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+s+this.watchFns()+"return fn;",d=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",c)(this.$filter,Gt,Jt,Yt,Qt,Xt,Zt,en,e);return this.state=this.stage=n,d.literal=sn(i),d.constant=ln(i),d},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return o(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return o(this.state.filters,function(n,r){e.push(n+"=$filter("+t.escape(r)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,r,i,a,s){var l,u,c,d,h=this;if(i=i||g,!s&&w(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,r,i,a,!0));switch(e.type){case io.Program:o(e.body,function(t,r){h.recurse(t.expression,n,n,function(e){u=e}),r!==e.body.length-1?h.current().body.push(u,";"):h.return_(u)});break;case io.Literal:d=this.escape(e.value),this.assign(t,d),i(d);break;case io.UnaryExpression:this.recurse(e.argument,n,n,function(e){u=e}),d=e.operator+"("+this.ifDefined(u,0)+")",this.assign(t,d),i(d);break;case io.BinaryExpression:this.recurse(e.left,n,n,function(e){l=e}),this.recurse(e.right,n,n,function(e){u=e}),d="+"===e.operator?this.plus(l,u):"-"===e.operator?this.ifDefined(l,0)+e.operator+this.ifDefined(u,0):"("+l+")"+e.operator+"("+u+")",this.assign(t,d),i(d);break;case io.LogicalExpression:t=t||this.nextId(),h.recurse(e.left,t),h.if_("&&"===e.operator?t:h.not(t),h.lazyRecurse(e.right,t)),i(t);break;case io.ConditionalExpression:t=t||this.nextId(),h.recurse(e.test,t),h.if_(t,h.lazyRecurse(e.alternate,t),h.lazyRecurse(e.consequent,t)),i(t);break;case io.Identifier:t=t||this.nextId(),r&&(r.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),r.computed=!1,r.name=e.name),Gt(e.name),h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",e.name)),function(){h.if_("inputs"===h.stage||"s",function(){a&&1!==a&&h.if_(h.not(h.nonComputedMember("s",e.name)),h.lazyAssign(h.nonComputedMember("s",e.name),"{}")),h.assign(t,h.nonComputedMember("s",e.name))})},t&&h.lazyAssign(t,h.nonComputedMember("l",e.name))),(h.state.expensiveChecks||dn(e.name))&&h.addEnsureSafeObject(t),i(t);break;case io.MemberExpression:l=r&&(r.context=this.nextId())||this.nextId(),t=t||this.nextId(),h.recurse(e.object,l,n,function(){h.if_(h.notNull(l),function(){e.computed?(u=h.nextId(),h.recurse(e.property,u),h.getStringValue(u),h.addEnsureSafeMemberName(u),a&&1!==a&&h.if_(h.not(h.computedMember(l,u)),h.lazyAssign(h.computedMember(l,u),"{}")),d=h.ensureSafeObject(h.computedMember(l,u)),h.assign(t,d),r&&(r.computed=!0,r.name=u)):(Gt(e.property.name),a&&1!==a&&h.if_(h.not(h.nonComputedMember(l,e.property.name)),h.lazyAssign(h.nonComputedMember(l,e.property.name),"{}")),d=h.nonComputedMember(l,e.property.name),(h.state.expensiveChecks||dn(e.property.name))&&(d=h.ensureSafeObject(d)),h.assign(t,d),r&&(r.computed=!1,r.name=e.property.name))},function(){h.assign(t,"undefined")}),i(t)},!!a);break;case io.CallExpression:t=t||this.nextId(),e.filter?(u=h.filter(e.callee.name),c=[],o(e.arguments,function(e){var t=h.nextId();h.recurse(e,t),c.push(t)}),d=u+"("+c.join(",")+")",h.assign(t,d),i(t)):(u=h.nextId(),l={},c=[],h.recurse(e.callee,u,l,function(){h.if_(h.notNull(u),function(){h.addEnsureSafeFunction(u),o(e.arguments,function(e){h.recurse(e,h.nextId(),n,function(e){c.push(h.ensureSafeObject(e))})}),l.name?(h.state.expensiveChecks||h.addEnsureSafeObject(l.context),d=h.member(l.context,l.name,l.computed)+"("+c.join(",")+")"):d=u+"("+c.join(",")+")",d=h.ensureSafeObject(d),h.assign(t,d)},function(){h.assign(t,"undefined")}),i(t)}));break;case io.AssignmentExpression:if(u=this.nextId(),l={},!on(e.left))throw Yi("lval","Trying to assing a value to a non l-value");this.recurse(e.left,n,l,function(){h.if_(h.notNull(l.context),function(){h.recurse(e.right,u),h.addEnsureSafeObject(h.member(l.context,l.name,l.computed)),h.addEnsureSafeAssignContext(l.context),d=h.member(l.context,l.name,l.computed)+e.operator+u,h.assign(t,d),i(t||d)})},1);break;case io.ArrayExpression:c=[],o(e.elements,function(e){h.recurse(e,h.nextId(),n,function(e){c.push(e)})}),d="["+c.join(",")+"]",this.assign(t,d),i(d);break;case io.ObjectExpression:c=[],o(e.properties,function(e){h.recurse(e.value,h.nextId(),n,function(t){c.push(h.escape(e.key.type===io.Identifier?e.key.name:""+e.key.value)+":"+t)})}),d="{"+c.join(",")+"}",this.assign(t,d),i(d);break;case io.ThisExpression:this.assign(t,"s"),i("s");break;case io.NGValueParameter:this.assign(t,"v"),i("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){return e?(this.current().body.push(e,"=",t,";"),e):void 0},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(e===!0)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return e+"."+t},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},addEnsureSafeAssignContext:function(e){this.current().body.push(this.ensureSafeAssignContext(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},getStringValue:function(e){this.assign(e,"getStringValue("+e+",text)")},ensureSafeAssignContext:function(e){return"ensureSafeAssignContext("+e+",text)"},lazyRecurse:function(e,t,n,r,i,o){var a=this;return function(){a.recurse(e,t,n,r,i,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(k(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(C(e))return e.toString();if(e===!0)return"true";if(e===!1)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw Yi("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},cn.prototype={compile:function(e,t){var n=this,r=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,nn(r,n.$filter);var i,a;(i=an(r))&&(a=this.recurse(i));var s,l=rn(r.body);l&&(s=[],o(l,function(e,t){var r=n.recurse(e);e.input=r,s.push(r),e.watchId=t}));var u=[];o(r.body,function(e){u.push(n.recurse(e.expression))});var c=0===r.body.length?function(){}:1===r.body.length?u[0]:function(e,t){var n;return o(u,function(r){n=r(e,t)}),n};return a&&(c.assign=function(e,t,n){return a(e,n,t)}),s&&(c.inputs=s),c.literal=sn(r),c.constant=ln(r),c},recurse:function(e,t,r){var i,a,s,l=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case io.Literal:return this.value(e.value,t);case io.UnaryExpression:return a=this.recurse(e.argument),this["unary"+e.operator](a,t);case io.BinaryExpression:return i=this.recurse(e.left),a=this.recurse(e.right),this["binary"+e.operator](i,a,t);case io.LogicalExpression:return i=this.recurse(e.left),a=this.recurse(e.right),this["binary"+e.operator](i,a,t);case io.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case io.Identifier:return Gt(e.name,l.expression),l.identifier(e.name,l.expensiveChecks||dn(e.name),t,r,l.expression);case io.MemberExpression:return i=this.recurse(e.object,!1,!!r),e.computed||(Gt(e.property.name,l.expression),a=e.property.name),e.computed&&(a=this.recurse(e.property)),e.computed?this.computedMember(i,a,t,r,l.expression):this.nonComputedMember(i,a,l.expensiveChecks,t,r,l.expression);case io.CallExpression:return s=[],o(e.arguments,function(e){s.push(l.recurse(e))}),e.filter&&(a=this.$filter(e.callee.name)),e.filter||(a=this.recurse(e.callee,!0)),e.filter?function(e,r,i,o){for(var l=[],u=0;u<s.length;++u)l.push(s[u](e,r,i,o));var c=a.apply(n,l,o);return t?{context:n,name:n,value:c}:c}:function(e,n,r,i){var o,u=a(e,n,r,i);if(null!=u.value){Jt(u.context,l.expression),Yt(u.value,l.expression);for(var c=[],d=0;d<s.length;++d)c.push(Jt(s[d](e,n,r,i),l.expression));o=Jt(u.value.apply(u.context,c),l.expression)}return t?{value:o}:o};case io.AssignmentExpression:return i=this.recurse(e.left,!0,1),a=this.recurse(e.right),function(e,n,r,o){var s=i(e,n,r,o),u=a(e,n,r,o);return Jt(s.value,l.expression),Xt(s.context),s.context[s.name]=u,t?{value:u}:u};case io.ArrayExpression:return s=[],o(e.elements,function(e){s.push(l.recurse(e))}),function(e,n,r,i){for(var o=[],a=0;a<s.length;++a)o.push(s[a](e,n,r,i));return t?{value:o}:o};case io.ObjectExpression:return s=[],o(e.properties,function(e){s.push({key:e.key.type===io.Identifier?e.key.name:""+e.key.value,value:l.recurse(e.value)})}),function(e,n,r,i){for(var o={},a=0;a<s.length;++a)o[s[a].key]=s[a].value(e,n,r,i);return t?{value:o}:o};case io.ThisExpression:return function(e){return t?{value:e}:e};case io.NGValueParameter:return function(e,n,r,i){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,i,o){var a=e(n,r,i,o);return a=w(a)?+a:0,t?{value:a}:a}},"unary-":function(e,t){return function(n,r,i,o){var a=e(n,r,i,o);return a=w(a)?-a:0,t?{value:a}:a}},"unary!":function(e,t){return function(n,r,i,o){var a=!e(n,r,i,o);return t?{value:a}:a}},"binary+":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a),l=t(r,i,o,a),u=en(s,l);return n?{value:u}:u}},"binary-":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a),l=t(r,i,o,a),u=(w(s)?s:0)-(w(l)?l:0);return n?{value:u}:u}},"binary*":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)*t(r,i,o,a);return n?{value:s}:s}},"binary/":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)/t(r,i,o,a);return n?{value:s}:s}},"binary%":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)%t(r,i,o,a);return n?{value:s}:s}},"binary===":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)===t(r,i,o,a);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)!==t(r,i,o,a);return n?{value:s}:s}},"binary==":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)==t(r,i,o,a);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)!=t(r,i,o,a);return n?{value:s}:s}},"binary<":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)<t(r,i,o,a);return n?{value:s}:s}},"binary>":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)>t(r,i,o,a);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)<=t(r,i,o,a);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)>=t(r,i,o,a);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)&&t(r,i,o,a);return n?{value:s}:s}},"binary||":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)||t(r,i,o,a);return n?{value:s}:s}},"ternary?:":function(e,t,n,r){return function(i,o,a,s){var l=e(i,o,a,s)?t(i,o,a,s):n(i,o,a,s);return r?{value:l}:l}},value:function(e,t){return function(){return t?{context:n,name:n,value:e}:e}},identifier:function(e,t,r,i,o){return function(a,s,l,u){var c=s&&e in s?s:a;i&&1!==i&&c&&!c[e]&&(c[e]={});var d=c?c[e]:n;return t&&Jt(d,o),r?{context:c,name:e,value:d}:d}},computedMember:function(e,t,n,r,i){return function(o,a,s,l){var u,c,d=e(o,a,s,l);return null!=d&&(u=t(o,a,s,l),u=Qt(u),Gt(u,i),r&&1!==r&&d&&!d[u]&&(d[u]={}),c=d[u],Jt(c,i)),n?{context:d,name:u,value:c}:c}},nonComputedMember:function(e,t,r,i,o,a){return function(s,l,u,c){var d=e(s,l,u,c);o&&1!==o&&d&&!d[t]&&(d[t]={});var h=null!=d?d[t]:n;return(r||dn(t))&&Jt(h,a),i?{context:d,name:t,value:h}:h}},inputs:function(e,t){return function(n,r,i,o){return o?o[t]:e(n,r,i)}}};var oo=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new io(this.lexer),this.astCompiler=n.csp?new cn(this.ast,t):new un(this.ast,t)};oo.prototype={constructor:oo,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};var ao=(me(),me(),Object.prototype.valueOf),so=r("$sce"),lo={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},ji=r("$compile"),uo=t.createElement("a"),co=En(e.location.href);On.$inject=["$document"],Nn.$inject=["$provide"],Mn.$inject=["$locale"],Un.$inject=["$locale"];var ho=".",po={yyyy:Bn("FullYear",4),yy:Bn("FullYear",2,0,!0),y:Bn("FullYear",1),MMMM:Hn("Month"),MMM:Hn("Month",!0),MM:Bn("Month",2,1),M:Bn("Month",1,1),dd:Bn("Date",2),d:Bn("Date",1),HH:Bn("Hours",2),H:Bn("Hours",1),hh:Bn("Hours",2,-12),h:Bn("Hours",1,-12),mm:Bn("Minutes",2),m:Bn("Minutes",1),ss:Bn("Seconds",2),s:Bn("Seconds",1),sss:Bn("Milliseconds",3),EEEE:Hn("Day"),EEE:Hn("Day",!0),a:Gn,Z:Wn,ww:Kn(2),w:Kn(1),G:Qn,GG:Qn,GGG:Qn,GGGG:Jn},fo=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,go=/^\-?\d+$/;Yn.$inject=["$locale"];var mo=v(kr),vo=v(_r);er.$inject=["$parse"];var yo=v({restrict:"E",compile:function(e,t){return t.href||t.xlinkHref?void 0:function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Ir.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),bo={};o(yi,function(e,t){function n(e,n,i){e.$watch(i[r],function(e){i.$set(t,!!e)})}if("multiple"!=e){var r=dt("ng-"+t),i=n;"checked"===e&&(i=function(e,t,i){i.ngModel!==i[r]&&n(e,t,i)}),bo[r]=function(){return{restrict:"A",priority:100,link:i}}}}),o(wi,function(e,t){bo[t]=function(){return{priority:100,link:function(e,n,r){if("ngPattern"===t&&"/"==r.ngPattern.charAt(0)){var i=r.ngPattern.match($r);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}e.$watch(r[t],function(e){r.$set(t,e)})}}}}),o(["src","srcset","href"],function(e){var t=dt("ng-"+e);bo[t]=function(){
return{priority:99,link:function(n,r,i){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===Ir.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(t,function(t){return t?(i.$set(a,t),void(Er&&o&&r.prop(o,i[a]))):void("href"===e&&i.$set(a,null))})}}}});var wo={$addControl:g,$$renameControl:nr,$removeControl:g,$setValidity:g,$setDirty:g,$setPristine:g,$setSubmitted:g},$o="ng-submitted";rr.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var xo=function(e){return["$timeout","$parse",function(t,r){function i(e){return""===e?r('this[""]').assign:r(e).assign||g}var o={name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:rr,compile:function(r,o){r.addClass(na).addClass(ea);var a=o.name?"name":e&&o.ngForm?"ngForm":!1;return{pre:function(e,r,o,s){var l=s[0];if(!("action"in o)){var u=function(t){e.$apply(function(){l.$commitViewValue(),l.$setSubmitted()}),t.preventDefault()};oi(r[0],"submit",u),r.on("$destroy",function(){t(function(){ai(r[0],"submit",u)},0,!1)})}var c=s[1]||l.$$parentForm;c.$addControl(l);var h=a?i(l.$name):g;a&&(h(e,l),o.$observe(a,function(t){l.$name!==t&&(h(e,n),l.$$parentForm.$$renameControl(l,t),(h=i(l.$name))(e,l))})),r.on("$destroy",function(){l.$$parentForm.$removeControl(l),h(e,n),d(l,wo)})}}}};return o}]},ko=xo(),Co=xo(!0),_o=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Ao=/^[A-Za-z][A-Za-z\d.+-]*:\/*(?:\w+(?::\w+)?@)?[^\s\/]+(?::\d+)?(?:\/[\w#!:.?+=&%@\-\/]*)?$/,To=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Eo=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,So=/^(\d{4})-(\d{2})-(\d{2})$/,Do=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Oo=/^(\d{4})-W(\d\d)$/,Po=/^(\d{4})-(\d\d)$/,No=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,jo={text:or,date:ur("date",So,lr(So,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":ur("datetimelocal",Do,lr(Do,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:ur("time",No,lr(No,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:ur("week",Oo,sr,"yyyy-Www"),month:ur("month",Po,lr(Po,["yyyy","MM"]),"yyyy-MM"),number:dr,url:hr,email:pr,radio:fr,checkbox:mr,hidden:g,button:g,submit:g,reset:g,file:g},Io=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(jo[kr(a.type)]||jo.text)(i,o,a,s[0],t,e,n,r)}}}}],Fo=/^(true|false|\d+)$/,Ro=function(){return{restrict:"A",priority:100,compile:function(e,t){return Fo.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},Mo=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,r){e.$$addBindingInfo(n,r.ngBind),n=n[0],t.$watch(r.ngBind,function(e){n.textContent=b(e)?"":e})}}}}],Uo=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,r,i){var o=e(r.attr(i.$attr.ngBindTemplate));t.$$addBindingInfo(r,o.expressions),r=r[0],i.$observe("ngBindTemplate",function(e){r.textContent=b(e)?"":e})}}}}],qo=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var o=t(i.ngBindHtml),a=t(i.ngBindHtml,function(e){return(e||"").toString()});return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(a,function(){r.html(e.getTrustedHtml(o(t))||"")})}}}}],Lo=v({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),Bo=vr("",!0),Ho=vr("Odd",0),Wo=vr("Even",1),Vo=tr({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),zo=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Ko={},Go={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=dt("ng-"+e);Ko[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[t],null,!0);return function(t,n){n.on(e,function(n){var i=function(){a(t,{$event:n})};Go[e]&&r.$$phase?t.$evalAsync(i):t.$apply(i)})}}}}]});var Qo=["$animate",function(e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,l,u;n.$watch(i.ngIf,function(n){n?l||a(function(n,o){l=o,n[n.length++]=t.createComment(" end ngIf: "+i.ngIf+" "),s={clone:n},e.enter(n,r.parent(),r)}):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),s&&(u=ge(s.clone),e.leave(u).then(function(){u=null}),s=null))})}}}],Jo=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Mr.noop,compile:function(r,i){var o=i.ngInclude||i.src,a=i.onload||"",s=i.autoscroll;return function(r,i,l,u,c){var d,h,p,f=0,g=function(){h&&(h.remove(),h=null),d&&(d.$destroy(),d=null),p&&(n.leave(p).then(function(){h=null}),h=p,p=null)};r.$watch(o,function(o){var l=function(){!w(s)||s&&!r.$eval(s)||t()},h=++f;o?(e(o,!0).then(function(e){if(h===f){var t=r.$new();u.template=e;var s=c(t,function(e){g(),n.enter(e,null,i).then(l)});d=t,p=s,d.$emit("$includeContentLoaded",o),r.$eval(a)}},function(){h===f&&(g(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):(g(),u.template=null)})}}}}],Yo=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){return/SVG/.test(r[0].toString())?(r.empty(),void e(Ae(o.template,t).childNodes)(n,function(e){r.append(e)},{futureParentElement:r})):(r.html(o.template),void e(r.contents())(n))}}}],Xo=tr({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Zo=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,r,i){var a=t.attr(r.$attr.ngList)||", ",s="false"!==r.ngTrim,l=s?Hr(a):a,u=function(e){if(!b(e)){var t=[];return e&&o(e.split(l),function(e){e&&t.push(s?Hr(e):e)}),t}};i.$parsers.push(u),i.$formatters.push(function(e){return Lr(e)?e.join(a):n}),i.$isEmpty=function(e){return!e||!e.length}}}},ea="ng-valid",ta="ng-invalid",na="ng-pristine",ra="ng-dirty",ia="ng-untouched",oa="ng-touched",aa="ng-pending",sa=r("ngModel"),la=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,r,i,a,s,l,u,c,d){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=d(r.name||"",!1)(e),this.$$parentForm=wo;var h,p=a(r.ngModel),f=p.assign,m=p,v=f,y=null,$=this;this.$$setOptions=function(e){if($.$options=e,e&&e.getterSetter){var t=a(r.ngModel+"()"),n=a(r.ngModel+"($$$p)");m=function(e){var n=p(e);return A(n)&&(n=t(e)),n},v=function(e,t){A(p(e))?n(e,{$$$p:$.$modelValue}):f(e,$.$modelValue)}}else if(!p.assign)throw sa("nonassign","Expression '{0}' is non-assignable. Element: {1}",r.ngModel,X(i))},this.$render=g,this.$isEmpty=function(e){return b(e)||""===e||null===e||e!==e};var x=0;yr({ctrl:this,$element:i,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},$animate:s}),this.$setPristine=function(){$.$dirty=!1,$.$pristine=!0,s.removeClass(i,ra),s.addClass(i,na)},this.$setDirty=function(){$.$dirty=!0,$.$pristine=!1,s.removeClass(i,na),s.addClass(i,ra),$.$$parentForm.$setDirty()},this.$setUntouched=function(){$.$touched=!1,$.$untouched=!0,s.setClass(i,ia,oa)},this.$setTouched=function(){$.$touched=!0,$.$untouched=!1,s.setClass(i,oa,ia)},this.$rollbackViewValue=function(){l.cancel(y),$.$viewValue=$.$$lastCommittedViewValue,$.$render()},this.$validate=function(){if(!C($.$modelValue)||!isNaN($.$modelValue)){var e=$.$$lastCommittedViewValue,t=$.$$rawModelValue,r=$.$valid,i=$.$modelValue,o=$.$options&&$.$options.allowInvalid;$.$$runValidators(t,e,function(e){o||r===e||($.$modelValue=e?t:n,$.$modelValue!==i&&$.$$writeModelToScope())})}},this.$$runValidators=function(e,t,r){function i(){var e=$.$$parserName||"parse";return b(h)?(l(e,null),!0):(h||(o($.$validators,function(e,t){l(t,null)}),o($.$asyncValidators,function(e,t){l(t,null)})),l(e,h),h)}function a(){var n=!0;return o($.$validators,function(r,i){var o=r(e,t);n=n&&o,l(i,o)}),n?!0:(o($.$asyncValidators,function(e,t){l(t,null)}),!1)}function s(){var r=[],i=!0;o($.$asyncValidators,function(o,a){var s=o(e,t);if(!j(s))throw sa("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",s);l(a,n),r.push(s.then(function(){l(a,!0)},function(e){i=!1,l(a,!1)}))}),r.length?c.all(r).then(function(){u(i)},g):u(!0)}function l(e,t){d===x&&$.$setValidity(e,t)}function u(e){d===x&&r(e)}x++;var d=x;return i()&&a()?void s():void u(!1)},this.$commitViewValue=function(){var e=$.$viewValue;l.cancel(y),($.$$lastCommittedViewValue!==e||""===e&&$.$$hasNativeValidators)&&($.$$lastCommittedViewValue=e,$.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function t(){$.$modelValue!==a&&$.$$writeModelToScope()}var r=$.$$lastCommittedViewValue,i=r;if(h=b(i)?n:!0)for(var o=0;o<$.$parsers.length;o++)if(i=$.$parsers[o](i),b(i)){h=!1;break}C($.$modelValue)&&isNaN($.$modelValue)&&($.$modelValue=m(e));var a=$.$modelValue,s=$.$options&&$.$options.allowInvalid;$.$$rawModelValue=i,s&&($.$modelValue=i,t()),$.$$runValidators(i,$.$$lastCommittedViewValue,function(e){s||($.$modelValue=e?i:n,t())})},this.$$writeModelToScope=function(){v(e,$.$modelValue),o($.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){$.$viewValue=e,(!$.$options||$.$options.updateOnDefault)&&$.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n,r=0,i=$.$options;i&&w(i.debounce)&&(n=i.debounce,C(n)?r=n:C(n[t])?r=n[t]:C(n["default"])&&(r=n["default"])),l.cancel(y),r?y=l(function(){$.$commitViewValue()},r):u.$$phase?$.$commitViewValue():e.$apply(function(){$.$commitViewValue()})},e.$watch(function(){var t=m(e);if(t!==$.$modelValue&&($.$modelValue===$.$modelValue||t===t)){$.$modelValue=$.$$rawModelValue=t,h=n;for(var r=$.$formatters,i=r.length,o=t;i--;)o=r[i](o);$.$viewValue!==o&&($.$viewValue=$.$$lastCommittedViewValue=o,$.$render(),$.$$runValidators(t,o,g))}return t})}],ua=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:la,priority:1,compile:function(t){return t.addClass(na).addClass(ia).addClass(ea),{pre:function(e,t,n,r){var i=r[0],o=r[1]||i.$$parentForm;i.$$setOptions(r[2]&&r[2].$options),o.$addControl(i),n.$observe("name",function(e){i.$name!==e&&i.$$parentForm.$$renameControl(i,e)}),e.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(t,n,r,i){var o=i[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(e){o.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(n){o.$touched||(e.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))})}}}}}],ca=/(\s+|^)default(\s+|$)/,da=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var n=this;this.$options=q(e.$eval(t.ngModelOptions)),w(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=Hr(this.$options.updateOn.replace(ca,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},ha=tr({terminal:!0,priority:1e3}),pa=r("ngOptions"),fa=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,ga=["$compile","$parse",function(e,n){function r(e,t,r){function o(e,t,n,r,i){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=i}function a(e){var t;if(!u&&i(e))t=e;else{t=[];for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n)}return t}var s=e.match(fa);if(!s)throw pa("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,X(t));var l=s[5]||s[7],u=s[6],c=/ as /.test(s[0])&&s[1],d=s[9],h=n(s[2]?s[1]:l),p=c&&n(c),f=p||h,g=d&&n(d),m=d?function(e,t){return g(r,t)}:function(e){return Je(e)},v=function(e,t){return m(e,k(e,t))},y=n(s[2]||s[1]),b=n(s[3]||""),w=n(s[4]||""),$=n(s[8]),x={},k=u?function(e,t){return x[u]=t,x[l]=e,x}:function(e){return x[l]=e,x};return{trackBy:d,getTrackByValue:v,getWatchables:n($,function(e){var t=[];e=e||[];for(var n=a(e),i=n.length,o=0;i>o;o++){var l=e===n?o:n[o],u=(e[l],k(e[l],l)),c=m(e[l],u);if(t.push(c),s[2]||s[1]){var d=y(r,u);t.push(d)}if(s[4]){var h=w(r,u);t.push(h)}}return t}),getOptions:function(){for(var e=[],t={},n=$(r)||[],i=a(n),s=i.length,l=0;s>l;l++){var u=n===i?l:i[l],c=n[u],h=k(c,u),p=f(r,h),g=m(p,h),x=y(r,h),C=b(r,h),_=w(r,h),A=new o(g,p,x,C,_);e.push(A),t[g]=A}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[v(e)]},getViewValueFromOption:function(e){return d?Mr.copy(e.viewValue):e.viewValue}}}}}function a(t,n,i,a){function u(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),e.value!==t.value&&(t.value=e.selectValue)}function c(e,t,n,r){var i;return t&&kr(t.nodeName)===n?i=t:(i=r.cloneNode(!1),t?e.insertBefore(i,t):e.appendChild(i)),i}function d(e){for(var t;e;)t=e.nextSibling,Be(e),e=t}function h(e){var t=g&&g[0],n=x&&x[0];if(t||n)for(;e&&(e===t||e===n||e.nodeType===Zr||""===e.value);)e=e.nextSibling;return e}function p(){var e=k&&m.readValue();k=C.getOptions();var t={},r=n[0].firstChild;if($&&n.prepend(g),r=h(r),k.items.forEach(function(e){var i,o,a;e.group?(i=t[e.group],i||(o=c(n[0],r,"optgroup",l),r=o.nextSibling,o.label=e.group,i=t[e.group]={groupElement:o,currentOptionElement:o.firstChild}),a=c(i.groupElement,i.currentOptionElement,"option",s),u(e,a),i.currentOptionElement=a.nextSibling):(a=c(n[0],r,"option",s),u(e,a),r=a.nextSibling)}),Object.keys(t).forEach(function(e){d(t[e].currentOptionElement)}),d(r),f.$render(),!f.$isEmpty(e)){var i=m.readValue();(C.trackBy?B(e,i):e===i)||(f.$setViewValue(i),f.$render())}}var f=a[1];if(f){for(var g,m=a[0],v=i.multiple,y=0,b=n.children(),w=b.length;w>y;y++)if(""===b[y].value){g=b.eq(y);break}var $=!!g,x=Sr(s.cloneNode(!1));x.val("?");var k,C=r(i.ngOptions,n,t),_=function(){$||n.prepend(g),n.val(""),g.prop("selected",!0),g.attr("selected",!0)},A=function(){$||g.remove()},T=function(){n.prepend(x),n.val("?"),x.prop("selected",!0),x.attr("selected",!0)},E=function(){x.remove()};v?(f.$isEmpty=function(e){return!e||0===e.length},m.writeValue=function(e){k.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){var t=k.getOptionFromViewValue(e);t&&!t.disabled&&(t.element.selected=!0)})},m.readValue=function(){var e=n.val()||[],t=[];return o(e,function(e){var n=k.selectValueMap[e];n&&!n.disabled&&t.push(k.getViewValueFromOption(n))}),t},C.trackBy&&t.$watchCollection(function(){return Lr(f.$viewValue)?f.$viewValue.map(function(e){return C.getTrackByValue(e)}):void 0},function(){f.$render()})):(m.writeValue=function(e){var t=k.getOptionFromViewValue(e);t&&!t.disabled?n[0].value!==t.selectValue&&(E(),A(),n[0].value=t.selectValue,t.element.selected=!0,t.element.setAttribute("selected","selected")):null===e||$?(E(),_()):(A(),T())},m.readValue=function(){var e=k.selectValueMap[n.val()];return e&&!e.disabled?(A(),E(),k.getViewValueFromOption(e)):null},C.trackBy&&t.$watch(function(){return C.getTrackByValue(f.$viewValue)},function(){f.$render()})),$?(g.remove(),e(g)(t),g.removeClass("ng-scope")):g=Sr(s.cloneNode(!1)),p(),t.$watchCollection(C.getWatchables,p)}}var s=t.createElement("option"),l=t.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:{pre:function(e,t,n,r){r[0].registerOption=g},post:a}}}],ma=["$locale","$interpolate","$log",function(e,t,n){var r=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(a,s,l){function u(e){s.text(e||"")}var c,d=l.count,h=l.$attr.when&&s.attr(l.$attr.when),p=l.offset||0,f=a.$eval(h)||{},m={},v=t.startSymbol(),y=t.endSymbol(),w=v+d+"-"+p+y,$=Mr.noop;o(l,function(e,t){var n=i.exec(t);if(n){var r=(n[1]?"-":"")+kr(n[2]);f[r]=s.attr(l.$attr[t])}}),o(f,function(e,n){m[n]=t(e.replace(r,w))}),a.$watch(d,function(t){var r=parseFloat(t),i=isNaN(r);if(i||r in f||(r=e.pluralCat(r-p)),r!==c&&!(i&&C(c)&&isNaN(c))){$();var o=m[r];b(o)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+h),$=g,u()):$=a.$watch(o,u),c=r}})}}}],va=["$parse","$animate",function(e,a){var s="$$NG_REMOVED",l=r("ngRepeat"),u=function(e,t,n,r,i,o,a){e[n]=r,i&&(e[i]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},c=function(e){return e.clone[0]},d=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,h){var p=h.ngRepeat,f=t.createComment(" end ngRepeat: "+p+" "),g=p.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!g)throw l("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",p);var m=g[1],v=g[2],y=g[3],b=g[4];if(g=m.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!g)throw l("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",m);var w=g[3]||g[1],$=g[2];if(y&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(y)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(y)))throw l("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",y);var x,k,C,_,A={$id:Je};return b?x=e(b):(C=function(e,t){return Je(t)},_=function(e){return e}),function(e,t,r,h,g){x&&(k=function(t,n,r){return $&&(A[$]=t),A[w]=n,A.$index=r,x(e,A)});var m=me();e.$watchCollection(v,function(r){var h,v,b,x,A,T,E,S,D,O,P,N,j=t[0],I=me();if(y&&(e[y]=r),i(r))D=r,S=k||C;else{S=k||_,D=[];for(var F in r)Cr.call(r,F)&&"$"!==F.charAt(0)&&D.push(F)}for(x=D.length,P=new Array(x),h=0;x>h;h++)if(A=r===D?h:D[h],T=r[A],E=S(A,T,h),m[E])O=m[E],delete m[E],I[E]=O,P[h]=O;else{if(I[E])throw o(P,function(e){e&&e.scope&&(m[e.id]=e)}),l("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",p,E,T);P[h]={id:E,scope:n,clone:n},I[E]=!0}for(var R in m){if(O=m[R],N=ge(O.clone),a.leave(N),N[0].parentNode)for(h=0,v=N.length;v>h;h++)N[h][s]=!0;O.scope.$destroy()}for(h=0;x>h;h++)if(A=r===D?h:D[h],T=r[A],O=P[h],O.scope){b=j;do b=b.nextSibling;while(b&&b[s]);c(O)!=b&&a.move(ge(O.clone),null,Sr(j)),j=d(O),u(O.scope,h,w,T,$,A,x)}else g(function(e,t){O.scope=t;var n=f.cloneNode(!1);e[e.length++]=n,a.enter(e,null,Sr(j)),j=n,O.clone=e,I[O.id]=O,u(O.scope,h,w,T,$,A,x)});m=I})}}}}],ya="ng-hide",ba="ng-hide-animate",wa=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,ya,{tempClasses:ba})})}}}],$a=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,ya,{tempClasses:ba})})}}}],xa=tr(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&o(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),ka=["$animate",function(e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,a){var s=i.ngSwitch||i.on,l=[],u=[],c=[],d=[],h=function(e,t){return function(){e.splice(t,1)}};n.$watch(s,function(n){var r,i;for(r=0,i=c.length;i>r;++r)e.cancel(c[r]);for(c.length=0,r=0,i=d.length;i>r;++r){var s=ge(u[r].clone);d[r].$destroy();var p=c[r]=e.leave(s);p.then(h(c,r))}u.length=0,d.length=0,(l=a.cases["!"+n]||a.cases["?"])&&o(l,function(n){n.transclude(function(r,i){d.push(i);var o=n.element;r[r.length++]=t.createComment(" end ngSwitchWhen: ");var a={clone:r};u.push(a),e.enter(r,o.parent(),o)})})})}}}],Ca=tr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),_a=tr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),Aa=tr({restrict:"EAC",link:function(e,t,n,i,o){if(!o)throw r("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",X(t));o(function(e){t.empty(),t.append(e)})}}),Ta=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var r=n.id,i=t[0].text;e.put(r,i)}}}}],Ea={$setViewValue:g,$render:g},Sa=["$element","$scope","$attrs",function(e,r,i){var o=this,a=new Ye;o.ngModelCtrl=Ea,o.unknownOption=Sr(t.createElement("option")),o.renderUnknownOption=function(t){var n="? "+Je(t)+" ?";o.unknownOption.val(n),e.prepend(o.unknownOption),e.val(n)},r.$on("$destroy",function(){o.renderUnknownOption=g}),o.removeUnknownOption=function(){o.unknownOption.parent()&&o.unknownOption.remove()},o.readValue=function(){return o.removeUnknownOption(),e.val()},o.writeValue=function(t){o.hasOption(t)?(o.removeUnknownOption(),e.val(t),""===t&&o.emptyOption.prop("selected",!0)):null==t&&o.emptyOption?(o.removeUnknownOption(),e.val("")):o.renderUnknownOption(t)},o.addOption=function(e,t){pe(e,'"option value"'),""===e&&(o.emptyOption=t);var n=a.get(e)||0;a.put(e,n+1),o.ngModelCtrl.$render(),wr(t)},o.removeOption=function(e){var t=a.get(e);t&&(1===t?(a.remove(e),""===e&&(o.emptyOption=n)):a.put(e,t-1))},o.hasOption=function(e){return!!a.get(e)},o.registerOption=function(e,t,n,r,i){if(r){var a;n.$observe("value",function(e){w(a)&&o.removeOption(a),a=e,o.addOption(e,t)})}else i?e.$watch(i,function(e,r){n.$set("value",e),r!==e&&o.removeOption(r),o.addOption(e,t)}):o.addOption(n.value,t);t.on("$destroy",function(){o.removeOption(n.value),o.ngModelCtrl.$render()})}}],Da=function(){function e(e,t,n,r){var i=r[1];if(i){var a=r[0];if(a.ngModelCtrl=i,i.$render=function(){a.writeValue(i.$viewValue)},t.on("change",function(){e.$apply(function(){i.$setViewValue(a.readValue())})}),n.multiple){a.readValue=function(){var e=[];return o(t.find("option"),function(t){t.selected&&e.push(t.value)}),e},a.writeValue=function(e){var n=new Ye(e);o(t.find("option"),function(e){e.selected=w(n.get(e.value))})};var s,l=NaN;e.$watch(function(){l!==i.$viewValue||B(s,i.$viewValue)||(s=L(i.$viewValue),i.$render()),l=i.$viewValue}),i.$isEmpty=function(e){return!e||0===e.length}}}}return{restrict:"E",require:["select","?ngModel"],controller:Sa,priority:1,link:{pre:e}}},Oa=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){if(w(n.value))var r=e(n.value,!0);else{var i=e(t.text(),!0);i||n.$set("value",t.text())}return function(e,t,n){var o="$selectController",a=t.parent(),s=a.data(o)||a.parent().data(o);s&&s.registerOption(e,t,n,r,i)}}}}],Pa=v({restrict:"E",terminal:!1}),Na=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},ja=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,i,o){if(o){var a,s=i.ngPattern||i.pattern;i.$observe("pattern",function(e){if(k(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,e,X(t));a=e||n,o.$validate()}),o.$validators.pattern=function(e,t){return o.$isEmpty(t)||b(a)||a.test(t)}}}}},Ia=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=-1;n.$observe("maxlength",function(e){var t=p(e);i=isNaN(t)?-1:t,r.$validate()}),r.$validators.maxlength=function(e,t){return 0>i||r.$isEmpty(t)||t.length<=i}}}}},Fa=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=0;n.$observe("minlength",function(e){i=p(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i}}}}};return e.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(ce(),we(Mr),Mr.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return-1==t?0:e.length-t-1}function r(e,r){var i=r;n===i&&(i=Math.min(t(e),3));var o=Math.pow(10,i),a=(e*o|0)%o;return{v:i,f:a}}var i={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",pluralCat:function(e,t){var n=0|e,o=r(e,t);return 1==n&&0==o.v?i.ONE:i.OTHER}})}]),void Sr(t).ready(function(){oe(t,ae)}))}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(){function e(e){function t(t,n,r,i,o,a){for(;o>=0&&a>o;o+=e){var s=i?i[o]:o;r=n(r,t[s],s,t)}return r}return function(n,r,i,o){r=b(r,o,4);var a=!A(n)&&y.keys(n),s=(a||n).length,l=e>0?0:s-1;return arguments.length<3&&(i=n[a?a[l]:l],l+=e),t(n,r,i,a,l,s)}}function t(e){return function(t,n,r){n=w(n,r);for(var i=_(t),o=e>0?0:i-1;o>=0&&i>o;o+=e)if(n(t[o],o,t))return o;return-1}}function n(e,t,n){return function(r,i,o){var a=0,s=_(r);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=t(c.call(r,a,s),y.isNaN),o>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&s>o;o+=e)if(r[o]===i)return o;return-1}}function r(e,t){var n=O.length,r=e.constructor,i=y.isFunction(r)&&r.prototype||s,o="constructor";for(y.has(e,o)&&!y.contains(t,o)&&t.push(o);n--;)o=O[n],o in e&&e[o]!==i[o]&&!y.contains(t,o)&&t.push(o)}var i=this,o=i._,a=Array.prototype,s=Object.prototype,l=Function.prototype,u=a.push,c=a.slice,d=s.toString,h=s.hasOwnProperty,p=Array.isArray,f=Object.keys,g=l.bind,m=Object.create,v=function(){},y=function(e){return e instanceof y?e:this instanceof y?void(this._wrapped=e):new y(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):i._=y,y.VERSION="1.8.3";var b=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},w=function(e,t,n){return null==e?y.identity:y.isFunction(e)?b(e,t,n):y.isObject(e)?y.matcher(e):y.property(e)};y.iteratee=function(e,t){return w(e,t,1/0)};var $=function(e,t){return function(n){var r=arguments.length;if(2>r||null==n)return n;for(var i=1;r>i;i++)for(var o=arguments[i],a=e(o),s=a.length,l=0;s>l;l++){var u=a[l];t&&void 0!==n[u]||(n[u]=o[u])}return n}},x=function(e){if(!y.isObject(e))return{};if(m)return m(e);v.prototype=e;var t=new v;return v.prototype=null,t},k=function(e){return function(t){return null==t?void 0:t[e]}},C=Math.pow(2,53)-1,_=k("length"),A=function(e){var t=_(e);return"number"==typeof t&&t>=0&&C>=t};y.each=y.forEach=function(e,t,n){t=b(t,n);var r,i;if(A(e))for(r=0,i=e.length;i>r;r++)t(e[r],r,e);else{var o=y.keys(e);for(r=0,i=o.length;i>r;r++)t(e[o[r]],o[r],e)}return e},y.map=y.collect=function(e,t,n){t=w(t,n);for(var r=!A(e)&&y.keys(e),i=(r||e).length,o=Array(i),a=0;i>a;a++){var s=r?r[a]:a;o[a]=t(e[s],s,e)}return o},y.reduce=y.foldl=y.inject=e(1),y.reduceRight=y.foldr=e(-1),y.find=y.detect=function(e,t,n){var r;return r=A(e)?y.findIndex(e,t,n):y.findKey(e,t,n),void 0!==r&&-1!==r?e[r]:void 0},y.filter=y.select=function(e,t,n){var r=[];return t=w(t,n),y.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},y.reject=function(e,t,n){return y.filter(e,y.negate(w(t)),n)},y.every=y.all=function(e,t,n){t=w(t,n);for(var r=!A(e)&&y.keys(e),i=(r||e).length,o=0;i>o;o++){var a=r?r[o]:o;if(!t(e[a],a,e))return!1}return!0},y.some=y.any=function(e,t,n){t=w(t,n);for(var r=!A(e)&&y.keys(e),i=(r||e).length,o=0;i>o;o++){var a=r?r[o]:o;if(t(e[a],a,e))return!0}return!1},y.contains=y.includes=y.include=function(e,t,n,r){return A(e)||(e=y.values(e)),("number"!=typeof n||r)&&(n=0),y.indexOf(e,t,n)>=0},y.invoke=function(e,t){var n=c.call(arguments,2),r=y.isFunction(t);return y.map(e,function(e){var i=r?t:e[t];return null==i?i:i.apply(e,n)})},y.pluck=function(e,t){return y.map(e,y.property(t))},y.where=function(e,t){return y.filter(e,y.matcher(t))},y.findWhere=function(e,t){return y.find(e,y.matcher(t))},y.max=function(e,t,n){var r,i,o=-(1/0),a=-(1/0);if(null==t&&null!=e){e=A(e)?e:y.values(e);for(var s=0,l=e.length;l>s;s++)r=e[s],r>o&&(o=r)}else t=w(t,n),y.each(e,function(e,n,r){i=t(e,n,r),(i>a||i===-(1/0)&&o===-(1/0))&&(o=e,a=i)});return o},y.min=function(e,t,n){var r,i,o=1/0,a=1/0;if(null==t&&null!=e){e=A(e)?e:y.values(e);for(var s=0,l=e.length;l>s;s++)r=e[s],o>r&&(o=r)}else t=w(t,n),y.each(e,function(e,n,r){i=t(e,n,r),(a>i||i===1/0&&o===1/0)&&(o=e,a=i)});return o},y.shuffle=function(e){for(var t,n=A(e)?e:y.values(e),r=n.length,i=Array(r),o=0;r>o;o++)t=y.random(0,o),t!==o&&(i[o]=i[t]),i[t]=n[o];return i},y.sample=function(e,t,n){return null==t||n?(A(e)||(e=y.values(e)),e[y.random(e.length-1)]):y.shuffle(e).slice(0,Math.max(0,t))},y.sortBy=function(e,t,n){return t=w(t,n),y.pluck(y.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index-t.index}),"value")};var T=function(e){return function(t,n,r){var i={};return n=w(n,r),y.each(t,function(r,o){var a=n(r,o,t);e(i,r,a)}),i}};y.groupBy=T(function(e,t,n){y.has(e,n)?e[n].push(t):e[n]=[t]}),y.indexBy=T(function(e,t,n){e[n]=t}),y.countBy=T(function(e,t,n){y.has(e,n)?e[n]++:e[n]=1}),y.toArray=function(e){return e?y.isArray(e)?c.call(e):A(e)?y.map(e,y.identity):y.values(e):[]},y.size=function(e){return null==e?0:A(e)?e.length:y.keys(e).length},y.partition=function(e,t,n){t=w(t,n);var r=[],i=[];return y.each(e,function(e,n,o){(t(e,n,o)?r:i).push(e)}),[r,i]},y.first=y.head=y.take=function(e,t,n){return null!=e?null==t||n?e[0]:y.initial(e,e.length-t):void 0},y.initial=function(e,t,n){return c.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},y.last=function(e,t,n){return null!=e?null==t||n?e[e.length-1]:y.rest(e,Math.max(0,e.length-t)):void 0},y.rest=y.tail=y.drop=function(e,t,n){return c.call(e,null==t||n?1:t)},y.compact=function(e){return y.filter(e,y.identity)};var E=function(e,t,n,r){
for(var i=[],o=0,a=r||0,s=_(e);s>a;a++){var l=e[a];if(A(l)&&(y.isArray(l)||y.isArguments(l))){t||(l=E(l,t,n));var u=0,c=l.length;for(i.length+=c;c>u;)i[o++]=l[u++]}else n||(i[o++]=l)}return i};y.flatten=function(e,t){return E(e,t,!1)},y.without=function(e){return y.difference(e,c.call(arguments,1))},y.uniq=y.unique=function(e,t,n,r){y.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=w(n,r));for(var i=[],o=[],a=0,s=_(e);s>a;a++){var l=e[a],u=n?n(l,a,e):l;t?(a&&o===u||i.push(l),o=u):n?y.contains(o,u)||(o.push(u),i.push(l)):y.contains(i,l)||i.push(l)}return i},y.union=function(){return y.uniq(E(arguments,!0,!0))},y.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=_(e);i>r;r++){var o=e[r];if(!y.contains(t,o)){for(var a=1;n>a&&y.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},y.difference=function(e){var t=E(arguments,!0,!0,1);return y.filter(e,function(e){return!y.contains(t,e)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(e){for(var t=e&&y.max(e,_).length||0,n=Array(t),r=0;t>r;r++)n[r]=y.pluck(e,r);return n},y.object=function(e,t){for(var n={},r=0,i=_(e);i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},y.findIndex=t(1),y.findLastIndex=t(-1),y.sortedIndex=function(e,t,n,r){n=w(n,r,1);for(var i=n(t),o=0,a=_(e);a>o;){var s=Math.floor((o+a)/2);n(e[s])<i?o=s+1:a=s}return o},y.indexOf=n(1,y.findIndex,y.sortedIndex),y.lastIndexOf=n(-1,y.findLastIndex),y.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;r>o;o++,e+=n)i[o]=e;return i};var S=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=x(e.prototype),a=e.apply(o,i);return y.isObject(a)?a:o};y.bind=function(e,t){if(g&&e.bind===g)return g.apply(e,c.call(arguments,1));if(!y.isFunction(e))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2),r=function(){return S(e,r,t,this,n.concat(c.call(arguments)))};return r},y.partial=function(e){var t=c.call(arguments,1),n=function(){for(var r=0,i=t.length,o=Array(i),a=0;i>a;a++)o[a]=t[a]===y?arguments[r++]:t[a];for(;r<arguments.length;)o.push(arguments[r++]);return S(e,n,this,this,o)};return n},y.bindAll=function(e){var t,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(t=1;r>t;t++)n=arguments[t],e[n]=y.bind(e[n],e);return e},y.memoize=function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return y.has(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},y.delay=function(e,t){var n=c.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},y.defer=y.partial(y.delay,y,1),y.throttle=function(e,t,n){var r,i,o,a=null,s=0;n||(n={});var l=function(){s=n.leading===!1?0:y.now(),a=null,o=e.apply(r,i),a||(r=i=null)};return function(){var u=y.now();s||n.leading!==!1||(s=u);var c=t-(u-s);return r=this,i=arguments,0>=c||c>t?(a&&(clearTimeout(a),a=null),s=u,o=e.apply(r,i),a||(r=i=null)):a||n.trailing===!1||(a=setTimeout(l,c)),o}},y.debounce=function(e,t,n){var r,i,o,a,s,l=function(){var u=y.now()-a;t>u&&u>=0?r=setTimeout(l,t-u):(r=null,n||(s=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=y.now();var u=n&&!r;return r||(r=setTimeout(l,t)),u&&(s=e.apply(o,i),o=i=null),s}},y.wrap=function(e,t){return y.partial(t,e)},y.negate=function(e){return function(){return!e.apply(this,arguments)}},y.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},y.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},y.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},y.once=y.partial(y.before,2);var D=!{toString:null}.propertyIsEnumerable("toString"),O=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(e){if(!y.isObject(e))return[];if(f)return f(e);var t=[];for(var n in e)y.has(e,n)&&t.push(n);return D&&r(e,t),t},y.allKeys=function(e){if(!y.isObject(e))return[];var t=[];for(var n in e)t.push(n);return D&&r(e,t),t},y.values=function(e){for(var t=y.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=e[t[i]];return r},y.mapObject=function(e,t,n){t=w(t,n);for(var r,i=y.keys(e),o=i.length,a={},s=0;o>s;s++)r=i[s],a[r]=t(e[r],r,e);return a},y.pairs=function(e){for(var t=y.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=[t[i],e[t[i]]];return r},y.invert=function(e){for(var t={},n=y.keys(e),r=0,i=n.length;i>r;r++)t[e[n[r]]]=n[r];return t},y.functions=y.methods=function(e){var t=[];for(var n in e)y.isFunction(e[n])&&t.push(n);return t.sort()},y.extend=$(y.allKeys),y.extendOwn=y.assign=$(y.keys),y.findKey=function(e,t,n){t=w(t,n);for(var r,i=y.keys(e),o=0,a=i.length;a>o;o++)if(r=i[o],t(e[r],r,e))return r},y.pick=function(e,t,n){var r,i,o={},a=e;if(null==a)return o;y.isFunction(t)?(i=y.allKeys(a),r=b(t,n)):(i=E(arguments,!1,!1,1),r=function(e,t,n){return t in n},a=Object(a));for(var s=0,l=i.length;l>s;s++){var u=i[s],c=a[u];r(c,u,a)&&(o[u]=c)}return o},y.omit=function(e,t,n){if(y.isFunction(t))t=y.negate(t);else{var r=y.map(E(arguments,!1,!1,1),String);t=function(e,t){return!y.contains(r,t)}}return y.pick(e,t,n)},y.defaults=$(y.allKeys,!0),y.create=function(e,t){var n=x(e);return t&&y.extendOwn(n,t),n},y.clone=function(e){return y.isObject(e)?y.isArray(e)?e.slice():y.extend({},e):e},y.tap=function(e,t){return t(e),e},y.isMatch=function(e,t){var n=y.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;r>o;o++){var a=n[o];if(t[a]!==i[a]||!(a in i))return!1}return!0};var P=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof y&&(e=e._wrapped),t instanceof y&&(t=t._wrapped);var i=d.call(e);if(i!==d.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(y.isFunction(a)&&a instanceof a&&y.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var l=n.length;l--;)if(n[l]===e)return r[l]===t;if(n.push(e),r.push(t),o){if(l=e.length,l!==t.length)return!1;for(;l--;)if(!P(e[l],t[l],n,r))return!1}else{var u,c=y.keys(e);if(l=c.length,y.keys(t).length!==l)return!1;for(;l--;)if(u=c[l],!y.has(t,u)||!P(e[u],t[u],n,r))return!1}return n.pop(),r.pop(),!0};y.isEqual=function(e,t){return P(e,t)},y.isEmpty=function(e){return null==e?!0:A(e)&&(y.isArray(e)||y.isString(e)||y.isArguments(e))?0===e.length:0===y.keys(e).length},y.isElement=function(e){return!(!e||1!==e.nodeType)},y.isArray=p||function(e){return"[object Array]"===d.call(e)},y.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){y["is"+e]=function(t){return d.call(t)==="[object "+e+"]"}}),y.isArguments(arguments)||(y.isArguments=function(e){return y.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(e){return"function"==typeof e||!1}),y.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},y.isNaN=function(e){return y.isNumber(e)&&e!==+e},y.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===d.call(e)},y.isNull=function(e){return null===e},y.isUndefined=function(e){return void 0===e},y.has=function(e,t){return null!=e&&h.call(e,t)},y.noConflict=function(){return i._=o,this},y.identity=function(e){return e},y.constant=function(e){return function(){return e}},y.noop=function(){},y.property=k,y.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},y.matcher=y.matches=function(e){return e=y.extendOwn({},e),function(t){return y.isMatch(t,e)}},y.times=function(e,t,n){var r=Array(Math.max(0,e));t=b(t,n,1);for(var i=0;e>i;i++)r[i]=t(i);return r},y.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},y.now=Date.now||function(){return(new Date).getTime()};var N={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=y.invert(N),I=function(e){var t=function(t){return e[t]},n="(?:"+y.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};y.escape=I(N),y.unescape=I(j),y.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),y.isFunction(r)?r.call(e):r};var F=0;y.uniqueId=function(e){var t=++F+"";return e?e+t:t},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var R=/(.)^/,M={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},U=/\\|'|\r|\n|\u2028|\u2029/g,q=function(e){return"\\"+M[e]};y.template=function(e,t,n){!t&&n&&(t=n),t=y.defaults({},t,y.templateSettings);var r=RegExp([(t.escape||R).source,(t.interpolate||R).source,(t.evaluate||R).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(t,n,r,a,s){return o+=e.slice(i,s).replace(U,q),i=s+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(t.variable||"obj","_",o)}catch(s){throw s.source=o,s}var l=function(e){return a.call(this,e,y)},u=t.variable||"obj";return l.source="function("+u+"){\n"+o+"}",l},y.chain=function(e){var t=y(e);return t._chain=!0,t};var L=function(e,t){return e._chain?y(t).chain():t};y.mixin=function(e){y.each(y.functions(e),function(t){var n=y[t]=e[t];y.prototype[t]=function(){var e=[this._wrapped];return u.apply(e,arguments),L(this,n.apply(y,e))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=a[e];y.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],L(this,n)}}),y.each(["concat","join","slice"],function(e){var t=a[e];y.prototype[e]=function(){return L(this,t.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}.call(this),function(e,t){"use strict";function n(e){return function(t){return t[e]}}var r=e.module("angular-underscore",[]),i=e.module("angular-underscore/utils",[]),o=e.module("angular-underscore/filters",[]);t._=t,t.each(["min","max","sortedIndex"],function(e){t[e]=t.wrap(t[e],function(e){var r=t.toArray(arguments).slice(1);return t.isString(r[2])?r[2]=n(r[2]):t.isString(r[1])&&(r[1]=n(r[1])),e.apply(t,r)})}),e.injector(["ng"]).invoke(["$filter",function(e){t.filter=t.select=t.wrap(e("filter"),function(e,n,r,i){return t.isArray(n)||(n=t.toArray(n)),e(n,r,i)}),t.reject=function(e,n){if(t.isString(n))return t.filter(e,"!"+n);var r=t.bind(t.difference,t,e);return r(t.filter(e,n))}}]),t.each(t.methods(t),function(n){function o(e){e[n]=t.bind(t[n],t)}t.each([r,i,e.module("angular-underscore/utils/"+n,[])],function(e){e.run(["$rootScope",o])})});var a=[["map","collect"],["reduce","inject","foldl"],["reduceRight","foldr"],["find","detect"],["filter","select"],"where","findWhere","reject","invoke","pluck","max","min","sortBy","groupBy","indexBy","countBy","shuffle","sample","toArray","size",["first","head","take"],"initial","last",["rest","tail","drop"],"compact","flatten","without","partition","union","intersection","difference",["uniq","unique"],"zip","object","indexOf","lastIndexOf","sortedIndex","keys","values","pairs","invert",["functions","methods"],"pick","omit","tap","identity","uniqueId","escape","unescape","result","template"];t.each(a,function(n){t.isArray(n)||(n=[n]);var i=t.bind(t[n[0]],t),a=function(){return i};t.each(n,function(n){t.each([r,o,e.module("angular-underscore/filters/"+n,[])],function(e){e.filter(n,a)})})})}(angular,_),!function(e){var t;"undefined"!=typeof window?t=window:"undefined"!=typeof self&&(t=self),t.ALGOLIA_MIGRATION_LAYER=e()}(function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){function r(e,t){for(var n in t)e.setAttribute(n,t[n])}function i(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function o(e,t){e.onreadystatechange=function(){("complete"==this.readyState||"loaded"==this.readyState)&&(this.onreadystatechange=null,t(null,e))}}t.exports=function(e,t,n){var a=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");"function"==typeof t&&(n=t,t={}),t=t||{},n=n||function(){},s.type=t.type||"text/javascript",s.charset=t.charset||"utf8",s.async="async"in t?!!t.async:!0,s.src=e,t.attrs&&r(s,t.attrs),t.text&&(s.text=""+t.text);var l="onload"in s?i:o;l(s,n),s.onload||i(s,n),a.appendChild(s)}},{}],2:[function(e,t,n){"use strict";function r(e){for(var t=new RegExp("cdn\\.jsdelivr\\.net/algoliasearch/latest/"+e.replace(".","\\.")+"(?:\\.min)?\\.js$"),n=document.getElementsByTagName("script"),r=!1,i=0,o=n.length;o>i;i++)if(n[i].src&&t.test(n[i].src)){r=!0;break}return r}t.exports=r},{}],3:[function(e,t,n){"use strict";function r(t){var n=e(1),r="//cdn.jsdelivr.net/algoliasearch/2/"+t+".min.js",o="-- AlgoliaSearch `latest` warning --\nWarning, you are using the `latest` version string from jsDelivr to load the AlgoliaSearch library.\nUsing `latest` is no more recommended, you should load //cdn.jsdelivr.net/algoliasearch/2/algoliasearch.min.js\n\nAlso, we updated the AlgoliaSearch JavaScript client to V3. If you want to upgrade,\nplease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n-- /AlgoliaSearch  `latest` warning --";window.console&&(window.console.warn?window.console.warn(o):window.console.log&&window.console.log(o));try{document.write("<script>window.ALGOLIA_SUPPORTS_DOCWRITE = true</script>"),window.ALGOLIA_SUPPORTS_DOCWRITE===!0?(document.write('<script src="'+r+'"></script>'),i("document.write")()):n(r,i("DOMElement"))}catch(a){n(r,i("DOMElement"))}}function i(e){return function(){var t="AlgoliaSearch: loaded V2 script using "+e;window.console&&window.console.log&&window.console.log(t)}}t.exports=r},{1:1}],4:[function(e,t,n){"use strict";function r(){var e="-- AlgoliaSearch V2 => V3 error --\nYou are trying to use a new version of the AlgoliaSearch JavaScript client with an old notation.\nPlease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n-- /AlgoliaSearch V2 => V3 error --";window.AlgoliaSearch=function(){throw new Error(e)},window.AlgoliaSearchHelper=function(){throw new Error(e)},window.AlgoliaExplainResults=function(){throw new Error(e)}}t.exports=r},{}],5:[function(e,t,n){"use strict";function r(t){var n=e(2),r=e(3),i=e(4);n(t)?r(t):i()}r("algoliasearch.angular")},{2:2,3:3,4:4}]},{},[5])(5)}),function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"number"==typeof e}function a(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!o(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,o,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],s(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,o=new Array(r-1),l=1;r>l;l++)o[l-1]=arguments[l];n.apply(this,o)}else if(a(n)){for(r=arguments.length,o=new Array(r-1),l=1;r>l;l++)o[l-1]=arguments[l];for(u=n.slice(),r=u.length,l=0;r>l;l++)u[l].apply(this,o)}return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned){var n;n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,o,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(s=o;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?i(e._events[t])?1:e._events[t].length:0}},{}],2:[function(e,t,n){function r(){c=!1,s.length?u=s.concat(u):d=-1,u.length&&i()}function i(){if(!c){var e=setTimeout(r);c=!0;for(var t=u.length;t;){for(s=u,u=[];++d<t;)s&&s[d].run();d=-1,t=u.length}s=null,c=!1,clearTimeout(e)}}function o(e,t){this.fun=e,this.array=t}function a(){}var s,l=t.exports={},u=[],c=!1,d=-1;l.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new o(e,t)),1!==u.length||c||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=a,l.addListener=a,l.once=a,l.off=a,l.removeListener=a,l.removeAllListeners=a,l.emit=a,l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],3:[function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,o){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var l=1e3;o&&"number"==typeof o.maxKeys&&(l=o.maxKeys);var u=e.length;l>0&&u>l&&(u=l);for(var c=0;u>c;++c){var d,h,p,f,g=e[c].replace(s,"%20"),m=g.indexOf(n);m>=0?(d=g.substr(0,m),h=g.substr(m+1)):(d=g,h=""),p=decodeURIComponent(d),f=decodeURIComponent(h),r(a,p)?i(a[p])?a[p].push(f):a[p]=[a[p],f]:a[p]=f}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],4:[function(e,t,n){"use strict";function r(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?r(a(e),function(a){var s=encodeURIComponent(i(a))+n;return o(e[a])?r(e[a],function(e){return s+encodeURIComponent(i(e))}).join(t):s+encodeURIComponent(i(e[a]))}).join(t):s?encodeURIComponent(i(s))+n+encodeURIComponent(i(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],5:[function(e,t,n){"use strict";n.decode=n.parse=e(3),n.encode=n.stringify=e(4)},{3:3,4:4}],6:[function(e,t,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,o=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,r),e}function o(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(t){}}function s(){var e;try{e=n.storage.debug}catch(t){}return e}function l(){try{return window.localStorage}catch(e){}}n=t.exports=e(7),n.log=o,n.formatArgs=i,n.save=a,n.load=s,n.useColors=r,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:l(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(s())},{7:7}],7:[function(e,t,n){function r(){return n.colors[c++%n.colors.length]}function i(e){function t(){}function i(){var e=i,t=+new Date,o=t-(u||t);e.diff=o,e.prev=u,e.curr=t,u=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=r());var a=Array.prototype.slice.call(arguments);a[0]=n.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var s=0;a[0]=a[0].replace(/%([a-z%])/g,function(t,r){if("%%"===t)return t;s++;var i=n.formatters[r];if("function"==typeof i){var o=a[s];t=i.call(e,o),a.splice(s,1),s--}return t}),"function"==typeof n.formatArgs&&(a=n.formatArgs.apply(e,a));var l=i.log||n.log||console.log.bind(console);l.apply(e,a)}t.enabled=!1,i.enabled=!0;var o=n.enabled(e)?i:t;return o.namespace=e,o}function o(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),r=t.length,i=0;r>i;i++)t[i]&&(e=t[i].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function a(){n.enable("")}function s(e){var t,r;for(t=0,r=n.skips.length;r>t;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;r>t;t++)if(n.names[t].test(e))return!0;return!1}function l(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=i,n.coerce=l,n.disable=a,n.enable=o,n.enabled=s,n.humanize=e(8),n.names=[],n.skips=[],n.formatters={};var u,c=0},{8:8}],8:[function(e,t,n){function r(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*d;case"days":case"day":case"d":return n*c;case"hours":case"hour":case"hrs":case"hr":case"h":return n*u;case"minutes":case"minute":case"mins":case"min":case"m":return n*l;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function i(e){return e>=c?Math.round(e/c)+"d":e>=u?Math.round(e/u)+"h":e>=l?Math.round(e/l)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function o(e){return a(e,c,"day")||a(e,u,"hour")||a(e,l,"minute")||a(e,s,"second")||e+" ms"}function a(e,t,n){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var s=1e3,l=60*s,u=60*l,c=24*u,d=365.25*c;t.exports=function(e,t){return t=t||{},"string"==typeof e?r(e):t["long"]?o(e):i(e)}},{}],9:[function(e,t,n){(function(n,r){(function(){"use strict";function i(e){return"function"==typeof e||"object"==typeof e&&null!==e}function o(e){return"function"==typeof e}function a(e){return"object"==typeof e&&null!==e}function s(e){V=e}function l(e){Q=e}function u(){return function(){n.nextTick(f)}}function c(){return function(){W(f)}}function d(){var e=0,t=new X(f),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function h(){var e=new MessageChannel;return e.port1.onmessage=f,function(){e.port2.postMessage(0)}}function p(){return function(){setTimeout(f,1)}}function f(){for(var e=0;G>e;e+=2){var t=te[e],n=te[e+1];t(n),te[e]=void 0,te[e+1]=void 0}G=0}function g(){try{var t=e,n=t("vertx");return W=n.runOnLoop||n.runOnContext,c()}catch(r){return p()}}function m(){}function v(){return new TypeError("You cannot resolve a promise with itself")}function y(){return new TypeError("A promises callback cannot return that same promise.")}function b(e){try{return e.then}catch(t){return oe.error=t,oe}}function w(e,t,n,r){try{e.call(t,n,r)}catch(i){return i}}function $(e,t,n){Q(function(e){var r=!1,i=w(n,t,function(n){r||(r=!0,t!==n?C(e,n):A(e,n))},function(t){r||(r=!0,T(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,T(e,i))},e)}function x(e,t){t._state===re?A(e,t._result):t._state===ie?T(e,t._result):E(t,void 0,function(t){C(e,t)},function(t){T(e,t)})}function k(e,t){if(t.constructor===e.constructor)x(e,t);else{var n=b(t);n===oe?T(e,oe.error):void 0===n?A(e,t):o(n)?$(e,t,n):A(e,t)}}function C(e,t){e===t?T(e,v()):i(t)?k(e,t):A(e,t)}function _(e){e._onerror&&e._onerror(e._result),S(e)}function A(e,t){e._state===ne&&(e._result=t,e._state=re,0!==e._subscribers.length&&Q(S,e))}function T(e,t){e._state===ne&&(e._state=ie,e._result=t,Q(_,e))}function E(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+re]=n,i[o+ie]=r,0===o&&e._state&&Q(S,e)}function S(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r,i,o=e._result,a=0;a<t.length;a+=3)r=t[a],i=t[a+n],r?P(n,r,i,o):i(o);e._subscribers.length=0}}function D(){this.error=null}function O(e,t){try{return e(t)}catch(n){return ae.error=n,ae}}function P(e,t,n,r){var i,a,s,l,u=o(n);if(u){if(i=O(n,r),i===ae?(l=!0,a=i.error,i=null):s=!0,t===i)return void T(t,y())}else i=r,s=!0;t._state!==ne||(u&&s?C(t,i):l?T(t,a):e===re?A(t,i):e===ie&&T(t,i))}function N(e,t){try{t(function(t){C(e,t)},function(t){T(e,t)})}catch(n){T(e,n)}}function j(e,t){var n=this;n._instanceConstructor=e,n.promise=new e(m),n._validateInput(t)?(n._input=t,n.length=t.length,n._remaining=t.length,n._init(),0===n.length?A(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&A(n.promise,n._result))):T(n.promise,n._validationError())}function I(e){return new se(this,e).promise}function F(e){function t(e){C(i,e)}function n(e){T(i,e)}var r=this,i=new r(m);if(!K(e))return T(i,new TypeError("You must pass an array to race.")),i;for(var o=e.length,a=0;i._state===ne&&o>a;a++)E(r.resolve(e[a]),void 0,t,n);return i}function R(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(m);return C(n,e),n}function M(e){var t=this,n=new t(m);return T(n,e),n}function U(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function q(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function L(e){this._id=he++,this._state=void 0,this._result=void 0,this._subscribers=[],m!==e&&(o(e)||U(),this instanceof L||q(),N(this,e))}function B(){var e;if("undefined"!=typeof r)e=r;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;(!n||"[object Promise]"!==Object.prototype.toString.call(n.resolve())||n.cast)&&(e.Promise=pe)}var H;H=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var W,V,z,K=H,G=0,Q=({}.toString,function(e,t){te[G]=e,te[G+1]=t,G+=2,2===G&&(V?V(f):z())}),J="undefined"!=typeof window?window:void 0,Y=J||{},X=Y.MutationObserver||Y.WebKitMutationObserver,Z="undefined"!=typeof n&&"[object process]"==={}.toString.call(n),ee="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,te=new Array(1e3);z=Z?u():X?d():ee?h():void 0===J&&"function"==typeof e?g():p();var ne=void 0,re=1,ie=2,oe=new D,ae=new D;j.prototype._validateInput=function(e){return K(e)},j.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},j.prototype._init=function(){this._result=new Array(this.length)};var se=j;j.prototype._enumerate=function(){for(var e=this,t=e.length,n=e.promise,r=e._input,i=0;n._state===ne&&t>i;i++)e._eachEntry(r[i],i)},j.prototype._eachEntry=function(e,t){var n=this,r=n._instanceConstructor;a(e)?e.constructor===r&&e._state!==ne?(e._onerror=null,n._settledAt(e._state,t,e._result)):n._willSettleAt(r.resolve(e),t):(n._remaining--,n._result[t]=e)},j.prototype._settledAt=function(e,t,n){var r=this,i=r.promise;i._state===ne&&(r._remaining--,e===ie?T(i,n):r._result[t]=n),0===r._remaining&&A(i,r._result)},j.prototype._willSettleAt=function(e,t){var n=this;E(e,void 0,function(e){n._settledAt(re,t,e)},function(e){n._settledAt(ie,t,e)})};var le=I,ue=F,ce=R,de=M,he=0,pe=L;L.all=le,L.race=ue,L.resolve=ce,L.reject=de,L._setScheduler=s,L._setAsap=l,L._asap=Q,L.prototype={constructor:L,then:function(e,t){var n=this,r=n._state;if(r===re&&!e||r===ie&&!t)return this;var i=new this.constructor(m),o=n._result;if(r){var a=arguments[r-1];Q(function(){P(r,i,a,o)})}else E(n,i,e,t);return i},"catch":function(e){return this.then(null,e)}};var fe=B,ge={Promise:pe,polyfill:fe};"function"==typeof define&&define.amd?define(function(){return ge}):"undefined"!=typeof t&&t.exports?t.exports=ge:"undefined"!=typeof this&&(this.ES6Promise=ge),fe()}).call(this)}).call(this,e(2),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],10:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){
e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],11:[function(e,t,n){var r=e(14),i=e(18),o=e(30),a=o(r,i);t.exports=a},{14:14,18:18,30:30}],12:[function(e,t,n){function r(e,t){if("function"!=typeof e)throw new TypeError(i);return t=o(void 0===t?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,i=o(n.length-t,0),a=Array(i);++r<i;)a[r]=n[t+r];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,n[0],a);case 2:return e.call(this,n[0],n[1],a)}var s=Array(t+1);for(r=-1;++r<t;)s[r]=n[r];return s[t]=a,e.apply(this,s)}}var i="Expected a function",o=Math.max;t.exports=r},{}],13:[function(e,t,n){function r(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}t.exports=r},{}],14:[function(e,t,n){function r(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}t.exports=r},{}],15:[function(e,t,n){function r(e,t){return null==t?e:i(t,o(t),e)}var i=e(17),o=e(53);t.exports=r},{17:17,53:53}],16:[function(e,t,n){function r(e,t,n,f,g,m,v){var b;if(n&&(b=g?n(e,f,g):n(e)),void 0!==b)return b;if(!h(e))return e;var w=d(e);if(w){if(b=l(e),!t)return i(e,b)}else{var x=M.call(e),k=x==y;if(x!=$&&x!=p&&(!k||g))return F[x]?u(e,x,t):g?e:{};if(b=c(k?{}:e),!t)return a(b,e)}m||(m=[]),v||(v=[]);for(var C=m.length;C--;)if(m[C]==e)return v[C];return m.push(e),v.push(b),(w?o:s)(e,function(i,o){b[o]=r(i,t,n,o,e,m,v)}),b}var i=e(13),o=e(14),a=e(15),s=e(21),l=e(33),u=e(34),c=e(35),d=e(46),h=e(49),p="[object Arguments]",f="[object Array]",g="[object Boolean]",m="[object Date]",v="[object Error]",y="[object Function]",b="[object Map]",w="[object Number]",$="[object Object]",x="[object RegExp]",k="[object Set]",C="[object String]",_="[object WeakMap]",A="[object ArrayBuffer]",T="[object Float32Array]",E="[object Float64Array]",S="[object Int8Array]",D="[object Int16Array]",O="[object Int32Array]",P="[object Uint8Array]",N="[object Uint8ClampedArray]",j="[object Uint16Array]",I="[object Uint32Array]",F={};F[p]=F[f]=F[A]=F[g]=F[m]=F[T]=F[E]=F[S]=F[D]=F[O]=F[w]=F[$]=F[x]=F[C]=F[P]=F[N]=F[j]=F[I]=!0,F[v]=F[y]=F[b]=F[k]=F[_]=!1;var R=Object.prototype,M=R.toString;t.exports=r},{13:13,14:14,15:15,21:21,33:33,34:34,35:35,46:46,49:49}],17:[function(e,t,n){function r(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var o=t[r];n[o]=e[o]}return n}t.exports=r},{}],18:[function(e,t,n){var r=e(21),i=e(28),o=i(r);t.exports=o},{21:21,28:28}],19:[function(e,t,n){var r=e(29),i=r();t.exports=i},{29:29}],20:[function(e,t,n){function r(e,t){return i(e,t,o)}var i=e(19),o=e(54);t.exports=r},{19:19,54:54}],21:[function(e,t,n){function r(e,t){return i(e,t,o)}var i=e(19),o=e(53);t.exports=r},{19:19,53:53}],22:[function(e,t,n){function r(e,t,n,h,p){if(!l(e))return e;var f=s(t)&&(a(t)||c(t)),g=f?void 0:d(t);return i(g||t,function(i,a){if(g&&(a=i,i=t[a]),u(i))h||(h=[]),p||(p=[]),o(e,t,a,r,n,h,p);else{var s=e[a],l=n?n(s,i,a,e,t):void 0,c=void 0===l;c&&(l=i),void 0===l&&(!f||a in e)||!c&&(l===l?l===s:s!==s)||(e[a]=l)}}),e}var i=e(14),o=e(23),a=e(46),s=e(36),l=e(49),u=e(40),c=e(51),d=e(53);t.exports=r},{14:14,23:23,36:36,40:40,46:46,49:49,51:51,53:53}],23:[function(e,t,n){function r(e,t,n,r,d,h,p){for(var f=h.length,g=t[n];f--;)if(h[f]==g)return void(e[n]=p[f]);var m=e[n],v=d?d(m,g,n,e,t):void 0,y=void 0===v;y&&(v=g,s(g)&&(a(g)||u(g))?v=a(m)?m:s(m)?i(m):[]:l(g)||o(g)?v=o(m)?c(m):l(m)?m:{}:y=!1),h.push(g),p.push(v),y?e[n]=r(v,g,d,h,p):(v===v?v!==m:m===m)&&(e[n]=v)}var i=e(13),o=e(45),a=e(46),s=e(36),l=e(50),u=e(51),c=e(52);t.exports=r},{13:13,36:36,45:45,46:46,50:50,51:51,52:52}],24:[function(e,t,n){function r(e){return function(t){return null==t?void 0:t[e]}}t.exports=r},{}],25:[function(e,t,n){function r(e,t,n){if("function"!=typeof e)return i;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)};case 5:return function(n,r,i,o,a){return e.call(t,n,r,i,o,a)}}return function(){return e.apply(t,arguments)}}var i=e(56);t.exports=r},{56:56}],26:[function(e,t,n){(function(e){function n(e){var t=new r(e.byteLength),n=new i(t);return n.set(new i(e)),t}var r=e.ArrayBuffer,i=e.Uint8Array;t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],27:[function(e,t,n){function r(e){return a(function(t,n){var r=-1,a=null==t?0:n.length,s=a>2?n[a-2]:void 0,l=a>2?n[2]:void 0,u=a>1?n[a-1]:void 0;for("function"==typeof s?(s=i(s,u,5),a-=2):(s="function"==typeof u?u:void 0,a-=s?1:0),l&&o(n[0],n[1],l)&&(s=3>a?void 0:s,a=1);++r<a;){var c=n[r];c&&e(t,c,s)}return t})}var i=e(25),o=e(38),a=e(12);t.exports=r},{12:12,25:25,38:38}],28:[function(e,t,n){function r(e,t){return function(n,r){var s=n?i(n):0;if(!o(s))return e(n,r);for(var l=t?s:-1,u=a(n);(t?l--:++l<s)&&r(u[l],l,u)!==!1;);return n}}var i=e(31),o=e(39),a=e(42);t.exports=r},{31:31,39:39,42:42}],29:[function(e,t,n){function r(e){return function(t,n,r){for(var o=i(t),a=r(t),s=a.length,l=e?s:-1;e?l--:++l<s;){var u=a[l];if(n(o[u],u,o)===!1)break}return t}}var i=e(42);t.exports=r},{42:42}],30:[function(e,t,n){function r(e,t){return function(n,r,a){return"function"==typeof r&&void 0===a&&o(n)?e(n,r):t(n,i(r,a,3))}}var i=e(25),o=e(46);t.exports=r},{25:25,46:46}],31:[function(e,t,n){var r=e(24),i=r("length");t.exports=i},{24:24}],32:[function(e,t,n){function r(e,t){var n=null==e?void 0:e[t];return i(n)?n:void 0}var i=e(48);t.exports=r},{48:48}],33:[function(e,t,n){function r(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&o.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var i=Object.prototype,o=i.hasOwnProperty;t.exports=r},{}],34:[function(e,t,n){function r(e,t,n){var r=e.constructor;switch(t){case c:return i(e);case o:case a:return new r(+e);case d:case h:case p:case f:case g:case m:case v:case y:case b:var $=e.buffer;return new r(n?i($):$,e.byteOffset,e.length);case s:case u:return new r(e);case l:var x=new r(e.source,w.exec(e));x.lastIndex=e.lastIndex}return x}var i=e(26),o="[object Boolean]",a="[object Date]",s="[object Number]",l="[object RegExp]",u="[object String]",c="[object ArrayBuffer]",d="[object Float32Array]",h="[object Float64Array]",p="[object Int8Array]",f="[object Int16Array]",g="[object Int32Array]",m="[object Uint8Array]",v="[object Uint8ClampedArray]",y="[object Uint16Array]",b="[object Uint32Array]",w=/\w*$/;t.exports=r},{26:26}],35:[function(e,t,n){function r(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=Object),new t}t.exports=r},{}],36:[function(e,t,n){function r(e){return null!=e&&o(i(e))}var i=e(31),o=e(39);t.exports=r},{31:31,39:39}],37:[function(e,t,n){function r(e,t){return e="number"==typeof e||i.test(e)?+e:-1,t=null==t?o:t,e>-1&&e%1==0&&t>e}var i=/^\d+$/,o=9007199254740991;t.exports=r},{}],38:[function(e,t,n){function r(e,t,n){if(!a(n))return!1;var r=typeof t;if("number"==r?i(n)&&o(t,n.length):"string"==r&&t in n){var s=n[t];return e===e?e===s:s!==s}return!1}var i=e(36),o=e(37),a=e(49);t.exports=r},{36:36,37:37,49:49}],39:[function(e,t,n){function r(e){return"number"==typeof e&&e>-1&&e%1==0&&i>=e}var i=9007199254740991;t.exports=r},{}],40:[function(e,t,n){function r(e){return!!e&&"object"==typeof e}t.exports=r},{}],41:[function(e,t,n){function r(e){for(var t=l(e),n=t.length,r=n&&e.length,u=!!r&&s(r)&&(o(e)||i(e)),d=-1,h=[];++d<n;){var p=t[d];(u&&a(p,r)||c.call(e,p))&&h.push(p)}return h}var i=e(45),o=e(46),a=e(37),s=e(39),l=e(54),u=Object.prototype,c=u.hasOwnProperty;t.exports=r},{37:37,39:39,45:45,46:46,54:54}],42:[function(e,t,n){function r(e){return i(e)?e:Object(e)}var i=e(49);t.exports=r},{49:49}],43:[function(e,t,n){function r(e,t,n,r){return t&&"boolean"!=typeof t&&a(e,t,n)?t=!1:"function"==typeof t&&(r=n,n=t,t=!1),"function"==typeof n?i(e,t,o(n,r,3)):i(e,t)}var i=e(16),o=e(25),a=e(38);t.exports=r},{16:16,25:25,38:38}],44:[function(e,t,n){function r(e,t,n){return"function"==typeof t?i(e,!0,o(t,n,3)):i(e,!0)}var i=e(16),o=e(25);t.exports=r},{16:16,25:25}],45:[function(e,t,n){function r(e){return o(e)&&i(e)&&s.call(e,"callee")&&!l.call(e,"callee")}var i=e(36),o=e(40),a=Object.prototype,s=a.hasOwnProperty,l=a.propertyIsEnumerable;t.exports=r},{36:36,40:40}],46:[function(e,t,n){var r=e(32),i=e(39),o=e(40),a="[object Array]",s=Object.prototype,l=s.toString,u=r(Array,"isArray"),c=u||function(e){return o(e)&&i(e.length)&&l.call(e)==a};t.exports=c},{32:32,39:39,40:40}],47:[function(e,t,n){function r(e){return i(e)&&s.call(e)==o}var i=e(49),o="[object Function]",a=Object.prototype,s=a.toString;t.exports=r},{49:49}],48:[function(e,t,n){function r(e){return null==e?!1:i(e)?c.test(l.call(e)):o(e)&&a.test(e)}var i=e(47),o=e(40),a=/^\[object .+?Constructor\]$/,s=Object.prototype,l=Function.prototype.toString,u=s.hasOwnProperty,c=RegExp("^"+l.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},{40:40,47:47}],49:[function(e,t,n){function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}t.exports=r},{}],50:[function(e,t,n){function r(e){var t;if(!a(e)||c.call(e)!=s||o(e)||!u.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var n;return i(e,function(e,t){n=t}),void 0===n||u.call(e,n)}var i=e(20),o=e(45),a=e(40),s="[object Object]",l=Object.prototype,u=l.hasOwnProperty,c=l.toString;t.exports=r},{20:20,40:40,45:45}],51:[function(e,t,n){function r(e){return o(e)&&i(e.length)&&!!S[O.call(e)]}var i=e(39),o=e(40),a="[object Arguments]",s="[object Array]",l="[object Boolean]",u="[object Date]",c="[object Error]",d="[object Function]",h="[object Map]",p="[object Number]",f="[object Object]",g="[object RegExp]",m="[object Set]",v="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",w="[object Float32Array]",$="[object Float64Array]",x="[object Int8Array]",k="[object Int16Array]",C="[object Int32Array]",_="[object Uint8Array]",A="[object Uint8ClampedArray]",T="[object Uint16Array]",E="[object Uint32Array]",S={};S[w]=S[$]=S[x]=S[k]=S[C]=S[_]=S[A]=S[T]=S[E]=!0,S[a]=S[s]=S[b]=S[l]=S[u]=S[c]=S[d]=S[h]=S[p]=S[f]=S[g]=S[m]=S[v]=S[y]=!1;var D=Object.prototype,O=D.toString;t.exports=r},{39:39,40:40}],52:[function(e,t,n){function r(e){return i(e,o(e))}var i=e(17),o=e(54);t.exports=r},{17:17,54:54}],53:[function(e,t,n){var r=e(32),i=e(36),o=e(49),a=e(41),s=r(Object,"keys"),l=s?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&i(e)?a(e):o(e)?s(e):[]}:a;t.exports=l},{32:32,36:36,41:41,49:49}],54:[function(e,t,n){function r(e){if(null==e)return[];l(e)||(e=Object(e));var t=e.length;t=t&&s(t)&&(o(e)||i(e))&&t||0;for(var n=e.constructor,r=-1,u="function"==typeof n&&n.prototype===e,d=Array(t),h=t>0;++r<t;)d[r]=r+"";for(var p in e)h&&a(p,t)||"constructor"==p&&(u||!c.call(e,p))||d.push(p);return d}var i=e(45),o=e(46),a=e(37),s=e(39),l=e(49),u=Object.prototype,c=u.hasOwnProperty;t.exports=r},{37:37,39:39,45:45,46:46,49:49}],55:[function(e,t,n){var r=e(22),i=e(27),o=i(r);t.exports=o},{22:22,27:27}],56:[function(e,t,n){function r(e){return e}t.exports=r},{}],57:[function(e,t,n){"use strict";function r(t,n,r){var a=e(6)("algoliasearch"),s=e(43),l=e(46),u="Usage: algoliasearch(applicationID, apiKey, opts)";if(!t)throw new h.AlgoliaSearchError("Please provide an application ID. "+u);if(!n)throw new h.AlgoliaSearchError("Please provide an API key. "+u);this.applicationID=t,this.apiKey=n;var c=[this.applicationID+"-1.algolianet.com",this.applicationID+"-2.algolianet.com",this.applicationID+"-3.algolianet.com"];this.hosts={read:[],write:[]},this.hostIndex={read:0,write:0},r=r||{};var d=r.protocol||"https:",p=void 0===r.timeout?2e3:r.timeout;if(/:$/.test(d)||(d+=":"),"http:"!==r.protocol&&"https:"!==r.protocol)throw new h.AlgoliaSearchError("protocol must be `http:` or `https:` (was `"+r.protocol+"`)");r.hosts?l(r.hosts)?(this.hosts.read=s(r.hosts),this.hosts.write=s(r.hosts)):(this.hosts.read=s(r.hosts.read),this.hosts.write=s(r.hosts.write)):(this.hosts.read=[this.applicationID+"-dsn.algolia.net"].concat(c),this.hosts.write=[this.applicationID+".algolia.net"].concat(c)),this.hosts.read=i(this.hosts.read,o(d)),this.hosts.write=i(this.hosts.write,o(d)),this.requestTimeout=p,this.extraHeaders=[],this.cache={},this._ua=r._ua,this._useCache=void 0===r._useCache?!0:r._useCache,this._setTimeout=r._setTimeout,a("init done, %j",this)}function i(e,t){for(var n=[],r=0;r<e.length;++r)n.push(t(e[r],r));return n}function o(e){return function(t){return e+"//"+t.toLowerCase()}}function a(){var e="Not implemented in this environment.\nIf you feel this is a mistake, write to support@algolia.com";throw new h.AlgoliaSearchError(e)}function s(e,t){var n=e.toLowerCase().replace(".","").replace("()","");return"algoliasearch: `"+e+"` was replaced by `"+t+"`. Please see https://github.com/algolia/algoliasearch-client-js/wiki/Deprecated#"+n}function l(e,t){t(e,0)}function u(e,t){function n(){return r||(console.log(t),r=!0),e.apply(this,arguments)}var r=!1;return n}function c(e){if(void 0===Array.prototype.toJSON)return JSON.stringify(e);var t=Array.prototype.toJSON;delete Array.prototype.toJSON;var n=JSON.stringify(e);return Array.prototype.toJSON=t,n}function d(e){return function(t,n,r){if("function"==typeof t&&"object"==typeof n||"object"==typeof r)throw new h.AlgoliaSearchError("index.search usage is index.search(query, params, cb)");0===arguments.length||"function"==typeof t?(r=t,t=""):(1===arguments.length||"function"==typeof n)&&(r=n,n=void 0),"object"==typeof t&&null!==t?(n=t,t=void 0):(void 0===t||null===t)&&(t="");var i="";return void 0!==t&&(i+=e+"="+encodeURIComponent(t)),void 0!==n&&(i=this.as._getSearchParams(n,i)),this._search(i,r)}}t.exports=r;var h=e(64);r.prototype={deleteIndex:function(e,t){return this._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(e),hostType:"write",callback:t})},moveIndex:function(e,t,n){var r={operation:"move",destination:t};return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(e)+"/operation",body:r,hostType:"write",callback:n})},copyIndex:function(e,t,n){var r={operation:"copy",destination:t};return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(e)+"/operation",body:r,hostType:"write",callback:n})},getLogs:function(e,t,n){return 0===arguments.length||"function"==typeof e?(n=e,e=0,t=10):(1===arguments.length||"function"==typeof t)&&(n=t,t=10),this._jsonRequest({method:"GET",url:"/1/logs?offset="+e+"&length="+t,hostType:"read",callback:n})},listIndexes:function(e,t){var n="";return void 0===e||"function"==typeof e?t=e:n="?page="+e,this._jsonRequest({method:"GET",url:"/1/indexes"+n,hostType:"read",callback:t})},initIndex:function(e){return new this.Index(this,e)},listUserKeys:function(e){return this._jsonRequest({method:"GET",url:"/1/keys",hostType:"read",callback:e})},getUserKeyACL:function(e,t){return this._jsonRequest({method:"GET",url:"/1/keys/"+e,hostType:"read",callback:t})},deleteUserKey:function(e,t){return this._jsonRequest({method:"DELETE",url:"/1/keys/"+e,hostType:"write",callback:t})},addUserKey:function(t,n,r){var i=e(46),o="Usage: client.addUserKey(arrayOfAcls[, params, callback])";if(!i(t))throw new Error(o);(1===arguments.length||"function"==typeof n)&&(r=n,n=null);var a={acl:t};return n&&(a.validity=n.validity,a.maxQueriesPerIPPerHour=n.maxQueriesPerIPPerHour,a.maxHitsPerQuery=n.maxHitsPerQuery,a.indexes=n.indexes,a.description=n.description,n.queryParameters&&(a.queryParameters=this._getSearchParams(n.queryParameters,"")),a.referers=n.referers),this._jsonRequest({method:"POST",url:"/1/keys",body:a,hostType:"write",callback:r})},addUserKeyWithValidity:u(function(e,t,n){return this.addUserKey(e,t,n)},s("client.addUserKeyWithValidity()","client.addUserKey()")),updateUserKey:function(t,n,r,i){var o=e(46),a="Usage: client.updateUserKey(key, arrayOfAcls[, params, callback])";if(!o(n))throw new Error(a);(2===arguments.length||"function"==typeof r)&&(i=r,r=null);var s={acl:n};return r&&(s.validity=r.validity,s.maxQueriesPerIPPerHour=r.maxQueriesPerIPPerHour,s.maxHitsPerQuery=r.maxHitsPerQuery,s.indexes=r.indexes,s.description=r.description,r.queryParameters&&(s.queryParameters=this._getSearchParams(r.queryParameters,"")),s.referers=r.referers),this._jsonRequest({method:"PUT",url:"/1/keys/"+t,body:s,hostType:"write",callback:i})},setSecurityTags:function(e){if("[object Array]"===Object.prototype.toString.call(e)){for(var t=[],n=0;n<e.length;++n)if("[object Array]"===Object.prototype.toString.call(e[n])){for(var r=[],i=0;i<e[n].length;++i)r.push(e[n][i]);t.push("("+r.join(",")+")")}else t.push(e[n]);e=t.join(",")}this.securityTags=e},setUserToken:function(e){this.userToken=e},startQueriesBatch:u(function(){this._batch=[]},s("client.startQueriesBatch()","client.search()")),addQueryInBatch:u(function(e,t,n){this._batch.push({indexName:e,query:t,params:n})},s("client.addQueryInBatch()","client.search()")),clearCache:function(){this.cache={}},sendQueriesBatch:u(function(e){return this.search(this._batch,e)},s("client.sendQueriesBatch()","client.search()")),setRequestTimeout:function(e){e&&(this.requestTimeout=parseInt(e,10))},search:function(t,n){var r=e(46),o="Usage: client.search(arrayOfQueries[, callback])";if(!r(t))throw new Error(o);var a=this,s={requests:i(t,function(e){var t="";return void 0!==e.query&&(t+="query="+encodeURIComponent(e.query)),{indexName:e.indexName,params:a._getSearchParams(e.params,t)}})};return this._jsonRequest({cache:this.cache,method:"POST",url:"/1/indexes/*/queries",body:s,hostType:"read",callback:n})},batch:function(t,n){var r=e(46),i="Usage: client.batch(operations[, callback])";if(!r(t))throw new Error(i);return this._jsonRequest({method:"POST",url:"/1/indexes/*/batch",body:{requests:t},hostType:"write",callback:n})},destroy:a,enableRateLimitForward:a,disableRateLimitForward:a,useSecuredAPIKey:a,disableSecuredAPIKey:a,generateSecuredApiKey:a,Index:function(e,t){this.indexName=t,this.as=e,this.typeAheadArgs=null,this.typeAheadValueOption=null,this.cache={}},setExtraHeader:function(e,t){this.extraHeaders.push({name:e.toLowerCase(),value:t})},addAlgoliaAgent:function(e){this._ua+=";"+e},_sendQueriesBatch:function(e,t){function n(){for(var t="",n=0;n<e.requests.length;++n){var r="/1/indexes/"+encodeURIComponent(e.requests[n].indexName)+"?"+e.requests[n].params;t+=n+"="+encodeURIComponent(r)+"&"}return t}return this._jsonRequest({cache:this.cache,method:"POST",url:"/1/indexes/*/queries",body:e,hostType:"read",fallback:{method:"GET",url:"/1/indexes/*",body:{params:n()}},callback:t})},_jsonRequest:function(t){function n(e,l){function d(e){var t=e&&e.body&&e.body.message&&e.body.status||e.statusCode||e&&e.body&&200;i("received response: statusCode: %s, computed statusCode: %d, headers: %j",e.statusCode,t,e.headers);var n=200===t||201===t,r=!n&&4!==Math.floor(t/100)&&1!==Math.floor(t/100);if(a._useCache&&n&&o&&(o[g]=e.responseText),n)return e.body;if(r)return s+=1,f();var l=new h.AlgoliaSearchError(e.body&&e.body.message);return a._promise.reject(l)}function p(r){return i("error: %s, stack: %s",r.message,r.stack),r instanceof h.AlgoliaSearchError||(r=new h.Unknown(r&&r.message,r)),s+=1,r instanceof h.Unknown||r instanceof h.UnparsableJSON||s>=a.hosts[t.hostType].length&&(u||!t.fallback||!a._request.fallback)?a._promise.reject(r):(a.hostIndex[t.hostType]=++a.hostIndex[t.hostType]%a.hosts[t.hostType].length,r instanceof h.RequestTimeout?f():(a._request.fallback&&!a.useFallback&&(a.useFallback=!0),n(e,l)))}function f(){return a.hostIndex[t.hostType]=++a.hostIndex[t.hostType]%a.hosts[t.hostType].length,l.timeout=a.requestTimeout*(s+1),n(e,l)}var g;if(a._useCache&&(g=t.url),a._useCache&&r&&(g+="_body_"+l.body),a._useCache&&o&&void 0!==o[g])return i("serving response from cache"),a._promise.resolve(JSON.parse(o[g]));if(s>=a.hosts[t.hostType].length||a.useFallback&&!u)return t.fallback&&a._request.fallback&&!u?(i("switching to fallback"),s=0,l.method=t.fallback.method,l.url=t.fallback.url,l.jsonBody=t.fallback.body,l.jsonBody&&(l.body=c(l.jsonBody)),l.timeout=a.requestTimeout*(s+1),a.hostIndex[t.hostType]=0,u=!0,n(a._request.fallback,l)):(i("could not get any response"),a._promise.reject(new h.AlgoliaSearchError("Cannot connect to the AlgoliaSearch API. Send an email to support@algolia.com to report and resolve the issue. Application id was: "+a.applicationID)));var m=a.hosts[t.hostType][a.hostIndex[t.hostType]]+l.url,v={body:r,jsonBody:t.body,method:l.method,headers:a._computeRequestHeaders(),timeout:l.timeout,debug:i};return i("method: %s, url: %s, headers: %j, timeout: %d",v.method,m,v.headers,v.timeout),e===a._request.fallback&&i("using fallback"),e.call(a,m,v).then(d,p)}var r,i=e(6)("algoliasearch:"+t.url),o=t.cache,a=this,s=0,u=!1;void 0!==t.body&&(r=c(t.body)),i("request start");var d=a.useFallback&&t.fallback,p=d?t.fallback:t,f=n(d?a._request.fallback:a._request,{url:p.url,method:p.method,body:r,jsonBody:t.body,timeout:a.requestTimeout*(s+1)});return t.callback?void f.then(function(e){l(function(){t.callback(null,e)},a._setTimeout||setTimeout)},function(e){l(function(){t.callback(e)},a._setTimeout||setTimeout)}):f},_getSearchParams:function(e,t){if(this._isUndefined(e)||null===e)return t;for(var n in e)null!==n&&void 0!==e[n]&&e.hasOwnProperty(n)&&(t+=""===t?"":"&",t+=n+"="+encodeURIComponent("[object Array]"===Object.prototype.toString.call(e[n])?c(e[n]):e[n]));return t},_isUndefined:function(e){return void 0===e},_computeRequestHeaders:function(){var t=e(11),n={"x-algolia-api-key":this.apiKey,"x-algolia-application-id":this.applicationID,"x-algolia-agent":this._ua};return this.userToken&&(n["x-algolia-usertoken"]=this.userToken),this.securityTags&&(n["x-algolia-tagfilters"]=this.securityTags),this.extraHeaders&&t(this.extraHeaders,function(e){n[e.name]=e.value}),n}},r.prototype.Index.prototype={clearCache:function(){this.cache={}},addObject:function(e,t,n){var r=this;return(1===arguments.length||"function"==typeof t)&&(n=t,t=void 0),this.as._jsonRequest({method:void 0!==t?"PUT":"POST",url:"/1/indexes/"+encodeURIComponent(r.indexName)+(void 0!==t?"/"+encodeURIComponent(t):""),body:e,hostType:"write",callback:n})},addObjects:function(t,n){var r=e(46),i="Usage: index.addObjects(arrayOfObjects[, callback])";if(!r(t))throw new Error(i);for(var o=this,a={requests:[]},s=0;s<t.length;++s){var l={action:"addObject",body:t[s]};a.requests.push(l)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(o.indexName)+"/batch",body:a,hostType:"write",callback:n})},getObject:function(e,t,n){var r=this;(1===arguments.length||"function"==typeof t)&&(n=t,t=void 0);var i="";if(void 0!==t){i="?attributes=";for(var o=0;o<t.length;++o)0!==o&&(i+=","),i+=t[o]}return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/"+encodeURIComponent(e)+i,hostType:"read",callback:n})},getObjects:function(t,n,r){var o=e(46),a="Usage: index.getObjects(arrayOfObjectIDs[, callback])";if(!o(t))throw new Error(a);var s=this;(1===arguments.length||"function"==typeof n)&&(r=n,n=void 0);var l={requests:i(t,function(e){var t={indexName:s.indexName,objectID:e};return n&&(t.attributesToRetrieve=n.join(",")),t})};return this.as._jsonRequest({method:"POST",url:"/1/indexes/*/objects",hostType:"read",body:l,callback:r})},partialUpdateObject:function(e,t){var n=this;return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/"+encodeURIComponent(e.objectID)+"/partial",body:e,hostType:"write",callback:t})},partialUpdateObjects:function(t,n){var r=e(46),i="Usage: index.partialUpdateObjects(arrayOfObjects[, callback])";if(!r(t))throw new Error(i);for(var o=this,a={requests:[]},s=0;s<t.length;++s){var l={action:"partialUpdateObject",objectID:t[s].objectID,body:t[s]};a.requests.push(l)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(o.indexName)+"/batch",body:a,hostType:"write",callback:n})},saveObject:function(e,t){var n=this;return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/"+encodeURIComponent(e.objectID),body:e,hostType:"write",callback:t})},saveObjects:function(t,n){var r=e(46),i="Usage: index.saveObjects(arrayOfObjects[, callback])";if(!r(t))throw new Error(i);for(var o=this,a={requests:[]},s=0;s<t.length;++s){var l={action:"updateObject",objectID:t[s].objectID,body:t[s]};a.requests.push(l)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(o.indexName)+"/batch",body:a,hostType:"write",callback:n})},deleteObject:function(e,t){if("function"==typeof e||"string"!=typeof e&&"number"!=typeof e){var n=new h.AlgoliaSearchError("Cannot delete an object without an objectID");return t=e,"function"==typeof t?t(n):this.as._promise.reject(n)}var r=this;return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/"+encodeURIComponent(e),hostType:"write",callback:t})},deleteObjects:function(t,n){var r=e(46),o="Usage: index.deleteObjects(arrayOfObjectIDs[, callback])";if(!r(t))throw new Error(o);var a=this,s={requests:i(t,function(e){return{action:"deleteObject",objectID:e,body:{objectID:e}}})};return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(a.indexName)+"/batch",body:s,hostType:"write",callback:n})},deleteByQuery:function(t,n,r){function o(e){if(0===e.nbHits)return e;var t=i(e.hits,function(e){return e.objectID});return h.deleteObjects(t).then(a).then(s)}function a(e){return h.waitTask(e.taskID)}function s(){return h.deleteByQuery(t,n)}function u(){l(function(){r(null)},p._setTimeout||setTimeout)}function c(e){l(function(){r(e)},p._setTimeout||setTimeout)}var d=e(43),h=this,p=h.as;1===arguments.length||"function"==typeof n?(r=n,n={}):n=d(n),n.attributesToRetrieve="objectID",n.hitsPerPage=1e3,n.distinct=!1,this.clearCache();var f=this.search(t,n).then(o);return r?void f.then(u,c):f},search:d("query"),similarSearch:d("similarQuery"),browse:function(t,n,r){var i,o,a=e(55),s=this;0===arguments.length||1===arguments.length&&"function"==typeof arguments[0]?(i=0,r=arguments[0],t=void 0):"number"==typeof arguments[0]?(i=arguments[0],"number"==typeof arguments[1]?o=arguments[1]:"function"==typeof arguments[1]&&(r=arguments[1],o=void 0),t=void 0,n=void 0):"object"==typeof arguments[0]?("function"==typeof arguments[1]&&(r=arguments[1]),n=arguments[0],t=void 0):"string"==typeof arguments[0]&&"function"==typeof arguments[1]&&(r=arguments[1],n=void 0),n=a({},n||{},{page:i,hitsPerPage:o,query:t});var l=this.as._getSearchParams(n,"");return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(s.indexName)+"/browse?"+l,hostType:"read",callback:r})},browseFrom:function(e,t){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/browse?cursor="+encodeURIComponent(e),hostType:"read",callback:t})},browseAll:function(t,n){function r(e){if(!s._stopped){var t;t=void 0!==e?"cursor="+encodeURIComponent(e):c,l._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(u.indexName)+"/browse?"+t,hostType:"read",callback:i})}}function i(e,t){return s._stopped?void 0:e?void s._error(e):(s._result(t),void 0===t.cursor?void s._end():void r(t.cursor))}"object"==typeof t&&(n=t,t=void 0);var o=e(55),a=e(58),s=new a,l=this.as,u=this,c=l._getSearchParams(o({},n||{},{query:t}),"");return r(),s},ttAdapter:function(e){var t=this;return function(n,r,i){var o;o="function"==typeof i?i:r,t.search(n,e,function(e,t){return e?void o(e):void o(t.hits)})}},waitTask:function(e,t){function n(){return c._jsonRequest({method:"GET",hostType:"read",url:"/1/indexes/"+encodeURIComponent(u.indexName)+"/task/"+e}).then(function(e){s++;var t=o*s*s;return t>a&&(t=a),"published"!==e.status?c._promise.delay(t).then(n):e})}function r(e){l(function(){t(null,e)},c._setTimeout||setTimeout)}function i(e){l(function(){t(e)},c._setTimeout||setTimeout)}var o=100,a=5e3,s=0,u=this,c=u.as,d=n();return t?void d.then(r,i):d},clearIndex:function(e){var t=this;return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/clear",hostType:"write",callback:e})},getSettings:function(e){var t=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/settings",hostType:"read",callback:e})},setSettings:function(e,t){var n=this;return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/settings",hostType:"write",body:e,callback:t})},listUserKeys:function(e){var t=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/keys",hostType:"read",callback:e})},getUserKeyACL:function(e,t){var n=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/keys/"+e,hostType:"read",callback:t})},deleteUserKey:function(e,t){var n=this;return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/keys/"+e,hostType:"write",callback:t})},addUserKey:function(t,n,r){var i=e(46),o="Usage: index.addUserKey(arrayOfAcls[, params, callback])";if(!i(t))throw new Error(o);(1===arguments.length||"function"==typeof n)&&(r=n,n=null);var a={acl:t};return n&&(a.validity=n.validity,a.maxQueriesPerIPPerHour=n.maxQueriesPerIPPerHour,a.maxHitsPerQuery=n.maxHitsPerQuery,a.description=n.description,n.queryParameters&&(a.queryParameters=this.as._getSearchParams(n.queryParameters,"")),a.referers=n.referers),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys",body:a,hostType:"write",callback:r})},addUserKeyWithValidity:u(function(e,t,n){return this.addUserKey(e,t,n)},s("index.addUserKeyWithValidity()","index.addUserKey()")),updateUserKey:function(t,n,r,i){var o=e(46),a="Usage: index.updateUserKey(key, arrayOfAcls[, params, callback])";if(!o(n))throw new Error(a);(2===arguments.length||"function"==typeof r)&&(i=r,r=null);var s={acl:n};return r&&(s.validity=r.validity,s.maxQueriesPerIPPerHour=r.maxQueriesPerIPPerHour,s.maxHitsPerQuery=r.maxHitsPerQuery,s.description=r.description,r.queryParameters&&(s.queryParameters=this.as._getSearchParams(r.queryParameters,"")),s.referers=r.referers),this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys/"+t,body:s,hostType:"write",callback:i})},_search:function(e,t){return this.as._jsonRequest({cache:this.cache,method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/query",body:{params:e},hostType:"read",fallback:{method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName),body:{params:e}},callback:t})},as:null,indexName:null,typeAheadArgs:null,typeAheadValueOption:null}},{11:11,43:43,46:46,55:55,58:58,6:6,64:64}],58:[function(e,t,n){"use strict";function r(){}t.exports=r;var i=e(10),o=e(1).EventEmitter;i(r,o),r.prototype.stop=function(){this._stopped=!0,this._clean()},r.prototype._end=function(){this.emit("end"),this._clean()},r.prototype._error=function(e){this.emit("error",e),this._clean()},r.prototype._result=function(e){this.emit("result",e)},r.prototype._clean=function(){this.removeAllListeners("stop"),this.removeAllListeners("end"),this.removeAllListeners("error"),this.removeAllListeners("result")}},{1:1,10:10}],59:[function(e,t,n){"use strict";var r=e(10),i=e(11),o=e(57),a=e(64),s=e(62),l=e(63);window.algoliasearch=e(60),window.angular.module("algoliasearch",[]).service("algolia",["$http","$q","$timeout",function(t,n,u){function c(t,n,r){var i=e(44),o=e(61);return r=i(r||{}),void 0===r.protocol&&(r.protocol=o()),r._ua=r._ua||c.ua,new d(t,n,r)}function d(){o.apply(this,arguments)}return c.version=e(65),c.ua="Algolia for AngularJS "+c.version,window.__algolia={debug:e(6),algoliasearch:c},r(d,o),d.prototype._request=function(e,r){function o(e){
p({statusCode:e.status,headers:e.headers,body:JSON.parse(e.data),responseText:e.data})}function l(e){return e}function c(e){return d?void 0:0===e.status?void f(new a.Network({more:e})):void p({body:JSON.parse(e.data),statusCode:e.status})}var d,h=n.defer(),p=h.resolve,f=h.reject,g=r.body;e=s(e,r.headers);var m=n.defer(),v=m.promise;u(function(){d=!0,m.resolve("test"),f(new a.RequestTimeout)},r.timeout);var y={};return i(t.defaults.headers.common,function(e,t){y[t]=void 0}),y.accept="application/json",g&&("POST"===r.method?y["content-type"]="application/x-www-form-urlencoded":y["content-type"]="application/json"),t({url:e,method:r.method,data:g,cache:!1,timeout:v,headers:y,transformResponse:l,withCredentials:!1}).then(o,c),h.promise},d.prototype._request.fallback=function(e,t){e=s(e,t.headers);var r=n.defer(),i=r.resolve,o=r.reject;return l(e,t,function(e,t){return e?void o(e):void i(t)}),r.promise},d.prototype._promise={reject:function(e){return n.reject(e)},resolve:function(e){return n.when(e)},delay:function(e){var t=n.defer(),r=t.resolve;return u(r,e),t.promise}},{Client:function(e,t,n){return c(e,t,n)},ua:c.ua,version:c.version}}])},{10:10,11:11,44:44,57:57,6:6,60:60,61:61,62:62,63:63,64:64,65:65}],60:[function(e,t,n){"use strict";function r(t,n,o){var a=e(44),s=e(61);return o=a(o||{}),void 0===o.protocol&&(o.protocol=s()),o._ua=o._ua||r.ua,new i(t,n,o)}function i(){s.apply(this,arguments)}t.exports=r;var o=e(10),a=window.Promise||e(9).Promise,s=e(57),l=e(64),u=e(62),c=e(63);r.version=e(65),r.ua="Algolia for vanilla JavaScript "+r.version,window.__algolia={debug:e(6),algoliasearch:r};var d={hasXMLHttpRequest:"XMLHttpRequest"in window,hasXDomainRequest:"XDomainRequest"in window,cors:"withCredentials"in new XMLHttpRequest,timeout:"timeout"in new XMLHttpRequest};o(i,s),i.prototype._request=function(e,t){return new a(function(n,r){function i(){if(!c){d.timeout||clearTimeout(s);var e;try{e={body:JSON.parse(p.responseText),responseText:p.responseText,statusCode:p.status,headers:p.getAllResponseHeaders&&p.getAllResponseHeaders()||{}}}catch(t){e=new l.UnparsableJSON({more:p.responseText})}e instanceof l.UnparsableJSON?r(e):n(e)}}function o(e){c||(d.timeout||clearTimeout(s),r(new l.Network({more:e})))}function a(){d.timeout||(c=!0,p.abort()),r(new l.RequestTimeout)}if(!d.cors&&!d.hasXDomainRequest)return void r(new l.Network("CORS not supported"));e=u(e,t.headers);var s,c,h=t.body,p=d.cors?new XMLHttpRequest:new XDomainRequest;p instanceof XMLHttpRequest?p.open(t.method,e,!0):p.open(t.method,e),d.cors&&(h&&("POST"===t.method?p.setRequestHeader("content-type","application/x-www-form-urlencoded"):p.setRequestHeader("content-type","application/json")),p.setRequestHeader("accept","application/json")),p.onprogress=function(){},p.onload=i,p.onerror=o,d.timeout?(p.timeout=t.timeout,p.ontimeout=a):s=setTimeout(a,t.timeout),p.send(h)})},i.prototype._request.fallback=function(e,t){return e=u(e,t.headers),new a(function(n,r){c(e,t,function(e,t){return e?void r(e):void n(t)})})},i.prototype._promise={reject:function(e){return a.reject(e)},resolve:function(e){return a.resolve(e)},delay:function(e){return new a(function(t){setTimeout(t,e)})}}},{10:10,44:44,57:57,6:6,61:61,62:62,63:63,64:64,65:65,9:9}],61:[function(e,t,n){"use strict";function r(){var e=window.document.location.protocol;return"http:"!==e&&"https:"!==e&&(e="http:"),e}t.exports=r},{}],62:[function(e,t,n){"use strict";function r(e,t){return e+=/\?/.test(e)?"&":"?",e+i.encode(t)}t.exports=r;var i=e(5)},{5:5}],63:[function(e,t,n){"use strict";function r(e,t,n){function r(){t.debug("JSONP: success"),g||d||(g=!0,c||(t.debug("JSONP: Fail. Script loaded but did not call the callback"),s(),n(new i.JSONPScriptFail)))}function a(){("loaded"===this.readyState||"complete"===this.readyState)&&r()}function s(){clearTimeout(m),p.onload=null,p.onreadystatechange=null,p.onerror=null,h.removeChild(p);try{delete window[f],delete window[f+"_loaded"]}catch(e){window[f]=null,window[f+"_loaded"]=null}}function l(){t.debug("JSONP: Script timeout"),d=!0,s(),n(new i.RequestTimeout)}function u(){t.debug("JSONP: Script error"),g||d||(s(),n(new i.JSONPScriptError))}if("GET"!==t.method)return void n(new Error("Method "+t.method+" "+e+" is not supported by JSONP."));t.debug("JSONP: start");var c=!1,d=!1;o+=1;var h=document.getElementsByTagName("head")[0],p=document.createElement("script"),f="algoliaJSONP_"+o,g=!1;window[f]=function(e){try{delete window[f]}catch(t){window[f]=void 0}d||(c=!0,s(),n(null,{body:e}))},e+="&callback="+f,t.jsonBody&&t.jsonBody.params&&(e+="&"+t.jsonBody.params);var m=setTimeout(l,t.timeout);p.onreadystatechange=a,p.onload=r,p.onerror=u,p.async=!0,p.defer=!0,p.src=e,h.appendChild(p)}t.exports=r;var i=e(64),o=0},{64:64}],64:[function(e,t,n){"use strict";function r(t,n){var r=e(11),i=this;"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):i.stack=(new Error).stack||"Cannot get a stacktrace, browser is too old",this.name=this.constructor.name,this.message=t||"Unknown error",n&&r(n,function(e,t){i[t]=e})}function i(e,t){function n(){var n=Array.prototype.slice.call(arguments,0);"string"!=typeof n[0]&&n.unshift(t),r.apply(this,n),this.name="AlgoliaSearch"+e+"Error"}return o(n,r),n}var o=e(10);o(r,Error),t.exports={AlgoliaSearchError:r,UnparsableJSON:i("UnparsableJSON","Could not parse the incoming response as JSON, see err.more for details"),RequestTimeout:i("RequestTimeout","Request timedout before getting a response"),Network:i("Network","Network issue, see err.more for details"),JSONPScriptFail:i("JSONPScriptFail","<script> was loaded but did not call our provided callback"),JSONPScriptError:i("JSONPScriptError","<script> unable to load due to an `error` event on it"),Unknown:i("Unknown","Unknown error occured")}},{10:10,11:11}],65:[function(e,t,n){"use strict";t.exports="3.10.1"},{}]},{},[59]),function(e,t,n){"use strict";function r(e,t,n){if(!e)throw ngMinErr("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function i(e,t){return e||t?e?t?(B(e)&&(e=e.join(" ")),B(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function o(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}function a(e,t,n){var r="";return e=B(e)?e:e&&H(e)&&e.length?e.split(/\s+/):[],L(e,function(e,i){e&&e.length>0&&(r+=i>0?" ":"",r+=n?t+e:e+t)}),r}function s(e,t){var n=e.indexOf(t);t>=0&&e.splice(n,1)}function l(e){if(e instanceof q)switch(e.length){case 0:return[];case 1:if(e[0].nodeType===Q)return e;break;default:return q(u(e))}return e.nodeType===Q?q(e):void 0}function u(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType==Q)return n}}function c(e,t,n){L(t,function(t){e.addClass(t,n)})}function d(e,t,n){L(t,function(t){e.removeClass(t,n)})}function h(e){return function(t,n){n.addClass&&(c(e,t,n.addClass),n.addClass=null),n.removeClass&&(d(e,t,n.removeClass),n.removeClass=null)}}function p(e){if(e=e||{},!e.$$prepared){var t=e.domOperation||M;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=M},e.$$prepared=!0}return e}function f(e,t){g(e,t),m(e,t)}function g(e,t){t.from&&(e.css(t.from),t.from=null)}function m(e,t){t.to&&(e.css(t.to),t.to=null)}function v(e,t,n){var r=(t.addClass||"")+" "+(n.addClass||""),i=(t.removeClass||"")+" "+(n.removeClass||""),o=y(e.attr("class"),r,i);n.preparationClasses&&(t.preparationClasses=_(n.preparationClasses,t.preparationClasses),delete n.preparationClasses);var a=t.domOperation!==M?t.domOperation:null;return U(t,n),a&&(t.domOperation=a),o.addClass?t.addClass=o.addClass:t.addClass=null,o.removeClass?t.removeClass=o.removeClass:t.removeClass=null,t}function y(e,t,n){function r(e){H(e)&&(e=e.split(" "));var t={};return L(e,function(e){e.length&&(t[e]=!0)}),t}var i=1,o=-1,a={};e=r(e),t=r(t),L(t,function(e,t){a[t]=i}),n=r(n),L(n,function(e,t){a[t]=a[t]===i?null:o});var s={addClass:"",removeClass:""};return L(a,function(t,n){var r,a;t===i?(r="addClass",a=!e[n]):t===o&&(r="removeClass",a=e[n]),a&&(s[r].length&&(s[r]+=" "),s[r]+=n)}),s}function b(e){return e instanceof t.element?e[0]:e}function w(e,t,n){var r="";t&&(r=a(t,X,!0)),n.addClass&&(r=_(r,a(n.addClass,J))),n.removeClass&&(r=_(r,a(n.removeClass,Y))),r.length&&(n.preparationClasses=r,e.addClass(r))}function $(e,t){t.preparationClasses&&(e.removeClass(t.preparationClasses),t.preparationClasses=null),t.activeClasses&&(e.removeClass(t.activeClasses),t.activeClasses=null)}function x(e,t){var n=t?"-"+t+"s":"";return C(e,[he,n]),[he,n]}function k(e,t){var n=t?"paused":"",r=F+le;return C(e,[r,n]),[r,n]}function C(e,t){var n=t[0],r=t[1];e.style[n]=r}function _(e,t){return e?t?e+" "+t:e:t}function A(e){return[de,e+"s"]}function T(e,t){var n=t?ce:he;return[n,e+"s"]}function E(e,t,n){var r=Object.create(null),i=e.getComputedStyle(t)||{};return L(n,function(e,t){var n=i[e];if(n){var o=n.charAt(0);("-"===o||"+"===o||o>=0)&&(n=S(n)),0===n&&(n=null),r[t]=n}}),r}function S(e){var t=0,n=e.split(/\s*,\s*/);return L(n,function(e){"s"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function D(e){return 0===e||null!=e}function O(e,t){var n=j,r=e+"s";return t?n+=re:r+=" linear all",[n,r]}function P(){var e=Object.create(null);return{flush:function(){e=Object.create(null)},count:function(t){var n=e[t];return n?n.total:0},get:function(t){var n=e[t];return n&&n.value},put:function(t,n){e[t]?e[t].total++:e[t]={total:1,value:n}}}}function N(e,t,n){L(n,function(n){e[n]=z(e[n])?e[n]:t.style.getPropertyValue(n)})}var j,I,F,R,M=t.noop,U=t.extend,q=t.element,L=t.forEach,B=t.isArray,H=t.isString,W=t.isObject,V=t.isUndefined,z=t.isDefined,K=t.isFunction,G=t.isElement,Q=1,J="-add",Y="-remove",X="ng-",Z="-active",ee="ng-animate",te="$$ngAnimateChildren",ne="";V(e.ontransitionend)&&z(e.onwebkittransitionend)?(ne="-webkit-",j="WebkitTransition",I="webkitTransitionEnd transitionend"):(j="transition",I="transitionend"),V(e.onanimationend)&&z(e.onwebkitanimationend)?(ne="-webkit-",F="WebkitAnimation",R="webkitAnimationEnd animationend"):(F="animation",R="animationend");var re="Duration",ie="Property",oe="Delay",ae="TimingFunction",se="IterationCount",le="PlayState",ue=9999,ce=F+oe,de=F+re,he=j+oe,pe=j+re,fe=["$$rAF",function(e){function t(e){r=r.concat(e),n()}function n(){if(r.length){for(var t=r.shift(),o=0;o<t.length;o++)t[o]();i||e(function(){i||n()})}}var r,i;return r=t.queue=[],t.waitUntilQuiet=function(t){i&&i(),i=e(function(){i=null,t(),n()})},t}],ge=[function(){return function(e,n,r){var i=r.ngAnimateChildren;t.isString(i)&&0===i.length?n.data(te,!0):r.$observe("ngAnimateChildren",function(e){e="on"===e||"true"===e,n.data(te,e)})}}],me="$$animateCss",ve=1e3,ye=3,be=1.5,we={transitionDuration:pe,transitionDelay:he,transitionProperty:j+ie,animationDuration:de,animationDelay:ce,animationIterationCount:F+se},$e={transitionDuration:pe,transitionDelay:he,animationDuration:de,animationDelay:ce},xe=["$animateProvider",function(e){var t=P(),n=P();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$animate",function(e,r,i,l,u,c,d,v){function y(e,t){var n="$$ngAnimateParentKey",r=e.parentNode,i=r[n]||(r[n]=++U);return i+"-"+e.getAttribute("class")+"-"+t}function w(n,r,i,o){var a=t.get(i);return a||(a=E(e,n,o),"infinite"===a.animationIterationCount&&(a.animationIterationCount=1)),t.put(i,a),a}function $(i,o,s,l){var u;if(t.count(s)>0&&(u=n.get(s),!u)){var c=a(o,"-stagger");r.addClass(i,c),u=E(e,i,l),u.animationDuration=Math.max(u.animationDuration,0),u.transitionDuration=Math.max(u.transitionDuration,0),r.removeClass(i,c),n.put(s,u)}return u||{}}function _(e){q.push(e),d.waitUntilQuiet(function(){t.flush(),n.flush();for(var e=u(),r=0;r<q.length;r++)q[r](e);q.length=0})}function S(e,t,n){var r=w(e,t,n,we),i=r.animationDelay,o=r.transitionDelay;return r.maxDelay=i&&o?Math.max(i,o):i||o,r.maxDuration=Math.max(r.animationDuration*r.animationIterationCount,r.transitionDuration),r}var P=h(r),U=0,q=[];return function(e,n){function u(){h()}function d(){h(!0)}function h(t){W||z&&V||(W=!0,V=!1,n.$$skipPreparationClasses||r.removeClass(e,pe),r.removeClass(e,ge),k(H,!1),x(H,!1),L(re,function(e){H.style[e[0]]=""}),P(e,n),f(e,n),Object.keys(q).length&&L(q,function(e,t){e?H.style.setProperty(t,e):H.style.removeProperty(t)}),n.onDone&&n.onDone(),K&&K.complete(!t))}function w(e){je.blockTransition&&x(H,e),je.blockKeyframeAnimation&&k(H,!!e)}function E(){return K=new i({end:u,cancel:d}),_(M),h(),{$$willAnimate:!1,start:function(){return K},end:u}}function U(){function t(){if(!W){if(w(!1),L(re,function(e){var t=e[0],n=e[1];H.style[t]=n}),P(e,n),r.addClass(e,ge),je.recalculateTimingStyles){if(fe=H.className+" "+pe,ke=y(H,fe),Pe=S(H,fe,ke),Ne=Pe.maxDelay,Q=Math.max(Ne,0),te=Pe.maxDuration,0===te)return void h();je.hasTransitions=Pe.transitionDuration>0,je.hasAnimations=Pe.animationDuration>0}if(je.applyAnimationDelay&&(Ne="boolean"!=typeof n.delay&&D(n.delay)?parseFloat(n.delay):Ne,Q=Math.max(Ne,0),Pe.animationDelay=Ne,Ie=T(Ne,!0),re.push(Ie),H.style[Ie[0]]=Ie[1]),ee=Q*ve,ne=te*ve,n.easing){var t,s=n.easing;je.hasTransitions&&(t=j+ae,re.push([t,s]),H.style[t]=s),je.hasAnimations&&(t=F+ae,re.push([t,s]),H.style[t]=s)}Pe.transitionDuration&&u.push(I),Pe.animationDuration&&u.push(R),a=Date.now();var c=ee+be*ne,d=a+c,p=e.data(me)||[],f=!0;if(p.length){var g=p[0];f=d>g.expectedEndTime,f?l.cancel(g.timer):p.push(h)}if(f){var v=l(i,c,!1);p[0]={timer:v,expectedEndTime:d},p.push(h),e.data(me,p)}e.on(u.join(" "),o),n.to&&(n.cleanupStyles&&N(q,H,Object.keys(n.to)),m(e,n))}}function i(){var t=e.data(me);if(t){for(var n=1;n<t.length;n++)t[n]();e.removeData(me)}}function o(e){e.stopPropagation();var t=e.originalEvent||e,n=t.$manualTimeStamp||t.timeStamp||Date.now(),r=parseFloat(t.elapsedTime.toFixed(ye));Math.max(n-a,0)>=ee&&r>=te&&(z=!0,h())}if(!W){if(!H.parentNode)return void h();var a,u=[],c=function(e){if(z)V&&e&&(V=!1,h());else if(V=!e,Pe.animationDuration){var t=k(H,V);V?re.push(t):s(re,t)}},d=De>0&&(Pe.transitionDuration&&0===Ce.transitionDuration||Pe.animationDuration&&0===Ce.animationDuration)&&Math.max(Ce.animationDelay,Ce.transitionDelay);d?l(t,Math.floor(d*De*ve),!1):t(),G.resume=function(){c(!0)},G.pause=function(){c(!1)}}}var q={},H=b(e);if(!H||!H.parentNode||!v.enabled())return E();n=p(n);var W,V,z,K,G,Q,ee,te,ne,re=[],oe=e.attr("class"),se=o(n);if(0===n.duration||!c.animations&&!c.transitions)return E();var le=n.event&&B(n.event)?n.event.join(" "):n.event,ce=le&&n.structural,de="",he="";ce?de=a(le,X,!0):le&&(de=le),n.addClass&&(he+=a(n.addClass,J)),n.removeClass&&(he.length&&(he+=" "),he+=a(n.removeClass,Y)),n.applyClassesEarly&&he.length&&P(e,n);var pe=[de,he].join(" ").trim(),fe=oe+" "+pe,ge=a(pe,Z),we=se.to&&Object.keys(se.to).length>0,xe=(n.keyframeStyle||"").length>0;if(!xe&&!we&&!pe)return E();var ke,Ce;if(n.stagger>0){var _e=parseFloat(n.stagger);Ce={transitionDelay:_e,animationDelay:_e,transitionDuration:0,animationDuration:0}}else ke=y(H,fe),Ce=$(H,pe,ke,$e);n.$$skipPreparationClasses||r.addClass(e,pe);var Ae;if(n.transitionStyle){var Te=[j,n.transitionStyle];C(H,Te),re.push(Te)}if(n.duration>=0){Ae=H.style[j].length>0;var Ee=O(n.duration,Ae);C(H,Ee),re.push(Ee)}if(n.keyframeStyle){var Se=[F,n.keyframeStyle];C(H,Se),re.push(Se)}var De=Ce?n.staggerIndex>=0?n.staggerIndex:t.count(ke):0,Oe=0===De;Oe&&!n.skipBlocking&&x(H,ue);var Pe=S(H,fe,ke),Ne=Pe.maxDelay;Q=Math.max(Ne,0),te=Pe.maxDuration;var je={};if(je.hasTransitions=Pe.transitionDuration>0,je.hasAnimations=Pe.animationDuration>0,je.hasTransitionAll=je.hasTransitions&&"all"==Pe.transitionProperty,je.applyTransitionDuration=we&&(je.hasTransitions&&!je.hasTransitionAll||je.hasAnimations&&!je.hasTransitions),je.applyAnimationDuration=n.duration&&je.hasAnimations,je.applyTransitionDelay=D(n.delay)&&(je.applyTransitionDuration||je.hasTransitions),je.applyAnimationDelay=D(n.delay)&&je.hasAnimations,je.recalculateTimingStyles=he.length>0,(je.applyTransitionDuration||je.applyAnimationDuration)&&(te=n.duration?parseFloat(n.duration):te,je.applyTransitionDuration&&(je.hasTransitions=!0,Pe.transitionDuration=te,Ae=H.style[j+ie].length>0,re.push(O(te,Ae))),je.applyAnimationDuration&&(je.hasAnimations=!0,Pe.animationDuration=te,re.push(A(te)))),0===te&&!je.recalculateTimingStyles)return E();if(null!=n.delay){var Ie=parseFloat(n.delay);je.applyTransitionDelay&&re.push(T(Ie)),je.applyAnimationDelay&&re.push(T(Ie,!0))}return null==n.duration&&Pe.transitionDuration>0&&(je.recalculateTimingStyles=je.recalculateTimingStyles||Oe),ee=Q*ve,ne=te*ve,n.skipBlocking||(je.blockTransition=Pe.transitionDuration>0,je.blockKeyframeAnimation=Pe.animationDuration>0&&Ce.animationDelay>0&&0===Ce.animationDuration),n.from&&(n.cleanupStyles&&N(q,H,Object.keys(n.from)),g(e,n)),je.blockTransition||je.blockKeyframeAnimation?w(te):n.skipBlocking||x(H,!1),{$$willAnimate:!0,end:u,start:function(){return W?void 0:(G={end:u,cancel:d,resume:null,pause:null},K=new i(G),_(U),K)}}}}]}],ke=["$$animationProvider",function(e){function t(e){return e.parentNode&&11===e.parentNode.nodeType}e.drivers.push("$$animateCssDriver");var n="ng-animate-shim",r="ng-anchor",i="ng-anchor-out",o="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(e,a,s,l,u,c,d){function p(e){return e.replace(/\bng-\S+\b/g,"")}function f(e,t){return H(e)&&(e=e.split(" ")),H(t)&&(t=t.split(" ")),e.filter(function(e){return-1===t.indexOf(e)}).join(" ")}function g(t,a,l){function u(e){var t={},n=b(e).getBoundingClientRect();return L(["width","height","top","left"],function(e){var r=n[e];switch(e){case"top":r+=y.scrollTop;break;case"left":r+=y.scrollLeft}t[e]=Math.floor(r)+"px"}),t}function c(){var t=e(m,{addClass:i,delay:!0,from:u(a)});return t.$$willAnimate?t:null}function d(e){return e.attr("class")||""}function h(){var t=p(d(l)),n=f(t,v),r=f(v,t),a=e(m,{to:u(l),addClass:o+" "+n,removeClass:i+" "+r,delay:!0});return a.$$willAnimate?a:null}function g(){m.remove(),a.removeClass(n),l.removeClass(n)}var m=q(b(a).cloneNode(!0)),v=p(d(m));a.addClass(n),l.addClass(n),m.addClass(r),$.append(m);var w,x=c();if(!x&&(w=h(),!w))return g();var k=x||w;return{start:function(){function e(){n&&n.end()}var t,n=k.start();return n.done(function(){return n=null,!w&&(w=h())?(n=w.start(),n.done(function(){n=null,g(),t.complete()}),n):(g(),void t.complete())}),t=new s({end:e,cancel:e})}}}function m(e,t,n,r){var i=v(e,M),o=v(t,M),a=[];return L(r,function(e){var t=e.out,r=e["in"],i=g(n,t,r);i&&a.push(i)}),i||o||0!==a.length?{start:function(){function e(){L(t,function(e){e.end()})}var t=[];i&&t.push(i.start()),o&&t.push(o.start()),L(a,function(e){t.push(e.start())});var n=new s({end:e,cancel:e});return s.all(t,function(e){n.complete(e)}),n}}:void 0}function v(t){var n=t.element,r=t.options||{};t.structural&&(r.event=t.event,r.structural=!0,r.applyClassesEarly=!0,"leave"===t.event&&(r.onDone=r.domOperation)),r.preparationClasses&&(r.event=_(r.event,r.preparationClasses));var i=e(n,r);return i.$$willAnimate?i:null}if(!u.animations&&!u.transitions)return M;var y=d[0].body,w=b(l),$=q(t(w)||y.contains(w)?w:y);h(c);return function(e){return e.from&&e.to?m(e.from,e.to,e.classes,e.anchors):v(e)}}]}],Ce=["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,n,r){function i(n){n=B(n)?n:n.split(" ");for(var r=[],i={},o=0;o<n.length;o++){var a=n[o],s=e.$$registeredAnimations[a];s&&!i[a]&&(r.push(t.get(s)),i[a]=!0)}return r}var o=h(r);return function(e,t,r,a){function s(){a.domOperation(),o(e,a)}function l(e,t,r,i,o){var a;switch(r){case"animate":a=[t,i.from,i.to,o];break;case"setClass":a=[t,g,m,o];break;case"addClass":a=[t,g,o];break;case"removeClass":a=[t,m,o];break;default:a=[t,o]}a.push(i);var s=e.apply(e,a);if(s)if(K(s.start)&&(s=s.start()),s instanceof n)s.done(o);else if(K(s))return s;return M}function u(e,t,r,i,o){var a=[];return L(i,function(i){var s=i[o];s&&a.push(function(){var i,o,a=!1,u=function(e){a||(a=!0,(o||M)(e),i.complete(!e))};return i=new n({end:function(){u()},cancel:function(){u(!0)}}),o=l(s,e,t,r,function(e){var t=e===!1;u(t)}),i})}),a}function c(e,t,r,i,o){var a=u(e,t,r,i,o);if(0===a.length){var s,l;"beforeSetClass"===o?(s=u(e,"removeClass",r,i,"beforeRemoveClass"),l=u(e,"addClass",r,i,"beforeAddClass")):"setClass"===o&&(s=u(e,"removeClass",r,i,"removeClass"),l=u(e,"addClass",r,i,"addClass")),s&&(a=a.concat(s)),l&&(a=a.concat(l))}if(0!==a.length)return function(e){var t=[];return a.length&&L(a,function(e){t.push(e())}),t.length?n.all(t,e):e(),function(e){L(t,function(t){e?t.cancel():t.end()})}}}3===arguments.length&&W(r)&&(a=r,r=null),a=p(a),r||(r=e.attr("class")||"",a.addClass&&(r+=" "+a.addClass),a.removeClass&&(r+=" "+a.removeClass));var d,h,g=a.addClass,m=a.removeClass,v=i(r);if(v.length){var y,b;"leave"==t?(b="leave",y="afterLeave"):(b="before"+t.charAt(0).toUpperCase()+t.substr(1),y=t),"enter"!==t&&"move"!==t&&(d=c(e,t,a,v,b)),h=c(e,t,a,v,y)}return d||h?{start:function(){function t(t){l=!0,s(),f(e,a),u.complete(t)}function r(e){l||((i||M)(e),t(e))}var i,o=[];d&&o.push(function(e){i=d(e)}),o.length?o.push(function(e){s(),e(!0)}):s(),h&&o.push(function(e){i=h(e)});var l=!1,u=new n({end:function(){r()},cancel:function(){r(!0)}});return n.chain(o,t),u}}:void 0}}]}],_e=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){function n(t){var n=t.element,r=t.event,i=t.options,o=t.classes;return e(n,r,o,i)}return function(e){if(e.from&&e.to){var r=n(e.from),i=n(e.to);if(!r&&!i)return;return{start:function(){function e(){return function(){L(o,function(e){e.end()})}}function n(e){a.complete(e)}var o=[];r&&o.push(r.start()),i&&o.push(i.start()),t.all(o,n);var a=new t({end:e(),cancel:e()});return a}}}return n(e)}}]}],Ae="data-ng-animate",Te="$ngAnimatePin",Ee=["$animateProvider",function(e){function t(e,t,n,r){return a[e].some(function(e){return e(t,n,r)})}function n(e,t){e=e||{};var n=(e.addClass||"").length>0,r=(e.removeClass||"").length>0;return t?n&&r:n||r}var i=1,o=2,a=this.rules={skip:[],cancel:[],join:[]};a.join.push(function(e,t,r){return!t.structural&&n(t.options)}),a.skip.push(function(e,t,r){return!t.structural&&!n(t.options)}),a.skip.push(function(e,t,n){return"leave"==n.event&&t.structural}),a.skip.push(function(e,t,n){return n.structural&&n.state===o&&!t.structural}),a.cancel.push(function(e,t,n){return n.structural&&t.structural}),a.cancel.push(function(e,t,n){return n.state===o&&t.structural}),a.cancel.push(function(e,t,n){var r=t.options,i=n.options;return r.addClass&&r.addClass===i.removeClass||r.removeClass&&r.removeClass===i.addClass}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(a,s,c,d,g,m,y,x,k,C){function _(){var e=!1;return function(t){e?t():s.$$postDigest(function(){e=!0,t()})}}function A(e,t){return v(e,t,{})}function T(e,t,n){var r=b(t),i=b(e),o=[],a=M[n];return a&&L(a,function(e){e.node.contains(r)?o.push(e.callback):"leave"===n&&e.node.contains(i)&&o.push(e.callback)}),o}function E(e,r,u){function c(t,n,r,i){k(function(){var t=T(g,e,n);t.length&&a(function(){L(t,function(t){t(e,r,i)})})}),t.progress(n,r,i)}function d(t){$(e,u),Y(e,u),f(e,u),u.domOperation(),x.complete(!t)}var h,g;e=l(e),e&&(h=b(e),g=e.parent()),u=p(u);var x=new y,k=_();if(B(u.addClass)&&(u.addClass=u.addClass.join(" ")),u.addClass&&!H(u.addClass)&&(u.addClass=null),B(u.removeClass)&&(u.removeClass=u.removeClass.join(" ")),u.removeClass&&!H(u.removeClass)&&(u.removeClass=null),u.from&&!W(u.from)&&(u.from=null),u.to&&!W(u.to)&&(u.to=null),!h)return d(),x;var C=[h.className,u.addClass,u.removeClass].join(" ");if(!J(C))return d(),x;var E=["enter","move","leave"].indexOf(r)>=0,O=!F||I.get(h),R=!O&&j.get(h)||{},M=!!R.state;if(O||M&&R.state==i||(O=!P(e,g,r)),O)return d(),x;E&&S(e);var U={structural:E,element:e,event:r,close:d,options:u,runner:x};if(M){var q=t("skip",e,U,R);if(q)return R.state===o?(d(),x):(v(e,R.options,u),R.runner);var V=t("cancel",e,U,R);if(V)if(R.state===o)R.runner.end();else{if(!R.structural)return v(e,R.options,U.options),R.runner;R.close()}else{var z=t("join",e,U,R);if(z){if(R.state!==o)return w(e,E?r:null,u),r=U.event=R.event,u=v(e,R.options,U.options),R.runner;A(e,u)}}}else A(e,u);var K=U.structural;if(K||(K="animate"===U.event&&Object.keys(U.options.to||{}).length>0||n(U.options)),!K)return d(),D(e),x;var G=(R.counter||0)+1;return U.counter=G,N(e,i,U),s.$$postDigest(function(){var t=j.get(h),i=!t;t=t||{};var a=e.parent()||[],s=a.length>0&&("animate"===t.event||t.structural||n(t.options));if(i||t.counter!==G||!s)return i&&(Y(e,u),f(e,u)),(i||E&&t.event!==r)&&(u.domOperation(),x.end()),void(s||D(e));r=!t.structural&&n(t.options,!0)?"setClass":t.event,N(e,o);var l=m(e,r,t.options);l.done(function(t){d(!t);var n=j.get(h);n&&n.counter===G&&D(b(e)),c(x,r,"close",{})}),x.setHost(l),c(x,r,"start",{})}),x}function S(e){var t=b(e),n=t.querySelectorAll("["+Ae+"]");L(n,function(e){var t=parseInt(e.getAttribute(Ae)),n=j.get(e);switch(t){case o:n.runner.end();case i:n&&j.remove(e)}})}function D(e){var t=b(e);t.removeAttribute(Ae),j.remove(t)}function O(e,t){return b(e)===b(t)}function P(e,t,n){var r,i=q(d[0].body),o=O(e,i)||"HTML"===e[0].nodeName,a=O(e,c),s=!1,l=e.data(Te);for(l&&(t=l);t&&t.length;){a||(a=O(t,c));var u=t[0];if(u.nodeType!==Q)break;var h=j.get(u)||{};if(s||(s=h.structural||I.get(u)),V(r)||r===!0){var p=t.data(te);z(p)&&(r=p)}if(s&&r===!1)break;a||(a=O(t,c),a||(l=t.data(Te),l&&(t=l))),o||(o=O(t,i)),t=t.parent()}var f=!s||r;return f&&a&&o}function N(e,t,n){n=n||{},n.state=t;var r=b(e);r.setAttribute(Ae,t);var i=j.get(r),o=i?U(i,n):n;j.put(r,o)}var j=new g,I=new g,F=null,R=s.$watch(function(){return 0===x.totalPendingRequests},function(e){e&&(R(),s.$$postDigest(function(){s.$$postDigest(function(){null===F&&(F=!0)})}))}),M={},K=e.classNameFilter(),J=K?function(e){return K.test(e)}:function(){return!0},Y=h(k);return{on:function(e,t,n){var r=u(t);M[e]=M[e]||[],M[e].push({node:r,callback:n})},off:function(e,t,n){function r(e,t,n){var r=u(t);return e.filter(function(e){var t=e.node===r&&(!n||e.callback===n);return!t})}var i=M[e];i&&(M[e]=1===arguments.length?null:r(i,t,n))},pin:function(e,t){r(G(e),"element","not an element"),r(G(t),"parentElement","not an element"),e.data(Te,t)},push:function(e,t,n,r){return n=n||{},n.domOperation=r,E(e,t,n)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!F;else{var r=G(e);if(r){var i=b(e),o=I.get(i);1===n?t=!o:(t=!!t,t?o&&I.remove(i):I.put(i,!0))}else t=F=!!e}return t}}}]}],Se=["$$rAF",function(e){function t(t){n.push(t),n.length>1||e(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}var n=[];return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}],De=["$q","$sniffer","$$animateAsyncRun",function(e,t,n){function r(e){this.setHost(e),this._doneCallbacks=[],this._runInAnimationFrame=n(),this._state=0}var i=0,o=1,a=2;return r.chain=function(e,t){function n(){return r===e.length?void t(!0):void e[r](function(e){return e===!1?void t(!1):(r++,void n())})}var r=0;n()},r.all=function(e,t){function n(n){i=i&&n,++r===e.length&&t(i)}var r=0,i=!0;L(e,function(e){e.done(n)})},r.prototype={setHost:function(e){this.host=e||{}},done:function(e){this._state===a?e():this._doneCallbacks.push(e)},progress:M,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){t===!1?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;t._state===i&&(t._state=o,t._runInAnimationFrame(function(){t._resolve(e)}))},_resolve:function(e){this._state!==a&&(L(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=a)}},r}],Oe=["$animateProvider",function(e){function t(e,t){e.data(s,t)}function n(e){e.removeData(s)}function r(e){return e.data(s)}var o="ng-animate-ref",a=this.drivers=[],s="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(e,s,l,u,c,d){function g(e){function t(e){if(e.processed)return e;e.processed=!0;var n=e.domNode,r=n.parentNode;o.put(n,e);for(var a;r;){if(a=o.get(r)){a.processed||(a=t(a));break}r=r.parentNode}return(a||i).children.push(e),e}function n(e){var t,n=[],r=[];for(t=0;t<e.children.length;t++)r.push(e.children[t]);var i=r.length,o=0,a=[];for(t=0;t<r.length;t++){var s=r[t];0>=i&&(i=o,o=0,n.push(a),a=[]),a.push(s.fn),s.children.forEach(function(e){o++,r.push(e)}),i--}return a.length&&n.push(a),n}var r,i={children:[]},o=new c;for(r=0;r<e.length;r++){var a=e[r];o.put(a.domNode,e[r]={domNode:a.domNode,fn:a.fn,children:[]})}for(r=0;r<e.length;r++)t(e[r]);return n(i)}var m=[],v=h(e);return function(c,h,y){function w(e){var t="["+o+"]",n=e.hasAttribute(o)?[e]:e.querySelectorAll(t),r=[];return L(n,function(e){var t=e.getAttribute(o);t&&t.length&&r.push(e)}),r}function $(e){var t=[],n={};L(e,function(e,r){var i=e.element,a=b(i),s=e.event,l=["enter","move"].indexOf(s)>=0,u=e.structural?w(a):[];if(u.length){var c=l?"to":"from";L(u,function(e){var t=e.getAttribute(o);n[t]=n[t]||{},n[t][c]={animationID:r,element:q(e)}})}else t.push(e)});var r={},i={};return L(n,function(n,o){var a=n.from,s=n.to;if(!a||!s){var l=a?a.animationID:s.animationID,u=l.toString();return void(r[u]||(r[u]=!0,t.push(e[l])))}var c=e[a.animationID],d=e[s.animationID],h=a.animationID.toString();if(!i[h]){var p=i[h]={structural:!0,beforeStart:function(){c.beforeStart(),d.beforeStart()},close:function(){c.close(),d.close()},classes:x(c.classes,d.classes),from:c,to:d,anchors:[]};p.classes.length?t.push(p):(t.push(c),t.push(d))}i[h].anchors.push({out:a.element,"in":s.element})}),t}function x(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],r=0;r<e.length;r++){var i=e[r];if("ng-"!==i.substring(0,3))for(var o=0;o<t.length;o++)if(i===t[o]){n.push(i);break}}return n.join(" ")}function k(e){for(var t=a.length-1;t>=0;t--){var n=a[t];if(l.has(n)){var r=l.get(n),i=r(e);if(i)return i}}}function C(){c.addClass(ee),O&&e.addClass(c,O)}function _(e,t){function n(e){r(e).setHost(t)}e.from&&e.to?(n(e.from.element),n(e.to.element)):n(e.element)}function A(){var e=r(c);!e||"leave"===h&&y.$$domOperationFired||e.end()}function T(t){c.off("$destroy",A),n(c),v(c,y),f(c,y),y.domOperation(),O&&e.removeClass(c,O),c.removeClass(ee),S.complete(!t)}y=p(y);var E=["enter","move","leave"].indexOf(h)>=0,S=new u({end:function(){T()},cancel:function(){T(!0)}});if(!a.length)return T(),S;t(c,S);var D=i(c.attr("class"),i(y.addClass,y.removeClass)),O=y.tempClasses;return O&&(D+=" "+O,y.tempClasses=null),m.push({element:c,classes:D,event:h,structural:E,options:y,beforeStart:C,close:T}),c.on("$destroy",A),m.length>1?S:(s.$$postDigest(function(){var e=[];L(m,function(t){r(t.element)?e.push(t):t.close()}),m.length=0;var t=$(e),n=[];L(t,function(e){n.push({domNode:b(e.from?e.from.element:e.element),fn:function(){e.beforeStart();var t,n=e.close,i=e.anchors?e.from.element||e.to.element:e.element;if(r(i)){var o=k(e);o&&(t=o.start)}if(t){var a=t();a.done(function(e){n(!e)}),_(e,a)}else n()}})}),d(g(n))}),S)}}]}];t.module("ngAnimate",[]).directive("ngAnimateChildren",ge).factory("$$rAFScheduler",fe).factory("$$AnimateRunner",De).factory("$$animateAsyncRun",Se).provider("$$animateQueue",Ee).provider("$$animation",Oe).provider("$animateCss",xe).provider("$$animateCssDriver",ke).provider("$$animateJs",Ce).provider("$$animateJsDriver",_e)}(window,window.angular),function(e){var t;"undefined"!=typeof window?t=window:"undefined"!=typeof self&&(t=self),t.ALGOLIA_MIGRATION_LAYER=e()}(function(){
return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){function r(e,t){for(var n in t)e.setAttribute(n,t[n])}function i(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function o(e,t){e.onreadystatechange=function(){("complete"==this.readyState||"loaded"==this.readyState)&&(this.onreadystatechange=null,t(null,e))}}t.exports=function(e,t,n){var a=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");"function"==typeof t&&(n=t,t={}),t=t||{},n=n||function(){},s.type=t.type||"text/javascript",s.charset=t.charset||"utf8",s.async="async"in t?!!t.async:!0,s.src=e,t.attrs&&r(s,t.attrs),t.text&&(s.text=""+t.text);var l="onload"in s?i:o;l(s,n),s.onload||i(s,n),a.appendChild(s)}},{}],2:[function(e,t,n){"use strict";function r(e){for(var t=new RegExp("cdn\\.jsdelivr\\.net/algoliasearch/latest/"+e.replace(".","\\.")+"(?:\\.min)?\\.js$"),n=document.getElementsByTagName("script"),r=!1,i=0,o=n.length;o>i;i++)if(n[i].src&&t.test(n[i].src)){r=!0;break}return r}t.exports=r},{}],3:[function(e,t,n){"use strict";function r(t){var n=e(1),r="//cdn.jsdelivr.net/algoliasearch/2/"+t+".min.js",o="-- AlgoliaSearch `latest` warning --\nWarning, you are using the `latest` version string from jsDelivr to load the AlgoliaSearch library.\nUsing `latest` is no more recommended, you should load //cdn.jsdelivr.net/algoliasearch/2/algoliasearch.min.js\n\nAlso, we updated the AlgoliaSearch JavaScript client to V3. If you want to upgrade,\nplease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n-- /AlgoliaSearch  `latest` warning --";window.console&&(window.console.warn?window.console.warn(o):window.console.log&&window.console.log(o));try{document.write("<script>window.ALGOLIA_SUPPORTS_DOCWRITE = true</script>"),window.ALGOLIA_SUPPORTS_DOCWRITE===!0?(document.write('<script src="'+r+'"></script>'),i("document.write")()):n(r,i("DOMElement"))}catch(a){n(r,i("DOMElement"))}}function i(e){return function(){var t="AlgoliaSearch: loaded V2 script using "+e;window.console&&window.console.log&&window.console.log(t)}}t.exports=r},{1:1}],4:[function(e,t,n){"use strict";function r(){var e="-- AlgoliaSearch V2 => V3 error --\nYou are trying to use a new version of the AlgoliaSearch JavaScript client with an old notation.\nPlease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n-- /AlgoliaSearch V2 => V3 error --";window.AlgoliaSearch=function(){throw new Error(e)},window.AlgoliaSearchHelper=function(){throw new Error(e)},window.AlgoliaExplainResults=function(){throw new Error(e)}}t.exports=r},{}],5:[function(e,t,n){"use strict";function r(t){var n=e(2),r=e(3),i=e(4);n(t)?r(t):i()}r("algoliasearch.angular")},{2:2,3:3,4:4}]},{},[5])(5)}),function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return i(n?n:t)},c,c.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"number"==typeof e}function a(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!o(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,o,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],s(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,o=new Array(r-1),l=1;r>l;l++)o[l-1]=arguments[l];n.apply(this,o)}else if(a(n)){for(r=arguments.length,o=new Array(r-1),l=1;r>l;l++)o[l-1]=arguments[l];for(u=n.slice(),r=u.length,l=0;r>l;l++)u[l].apply(this,o)}return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned){var n;n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,o,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(s=o;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?i(e._events[t])?1:e._events[t].length:0}},{}],2:[function(e,t,n){function r(){c=!1,s.length?u=s.concat(u):d=-1,u.length&&i()}function i(){if(!c){var e=setTimeout(r);c=!0;for(var t=u.length;t;){for(s=u,u=[];++d<t;)s&&s[d].run();d=-1,t=u.length}s=null,c=!1,clearTimeout(e)}}function o(e,t){this.fun=e,this.array=t}function a(){}var s,l=t.exports={},u=[],c=!1,d=-1;l.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new o(e,t)),1!==u.length||c||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=a,l.addListener=a,l.once=a,l.off=a,l.removeListener=a,l.removeAllListeners=a,l.emit=a,l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],3:[function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,o){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var l=1e3;o&&"number"==typeof o.maxKeys&&(l=o.maxKeys);var u=e.length;l>0&&u>l&&(u=l);for(var c=0;u>c;++c){var d,h,p,f,g=e[c].replace(s,"%20"),m=g.indexOf(n);m>=0?(d=g.substr(0,m),h=g.substr(m+1)):(d=g,h=""),p=decodeURIComponent(d),f=decodeURIComponent(h),r(a,p)?i(a[p])?a[p].push(f):a[p]=[a[p],f]:a[p]=f}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],4:[function(e,t,n){"use strict";function r(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?r(a(e),function(a){var s=encodeURIComponent(i(a))+n;return o(e[a])?r(e[a],function(e){return s+encodeURIComponent(i(e))}).join(t):s+encodeURIComponent(i(e[a]))}).join(t):s?encodeURIComponent(i(s))+n+encodeURIComponent(i(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],5:[function(e,t,n){"use strict";n.decode=n.parse=e(3),n.encode=n.stringify=e(4)},{3:3,4:4}],6:[function(e,t,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,o=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,r),e}function o(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(t){}}function s(){var e;try{e=n.storage.debug}catch(t){}return e}function l(){try{return window.localStorage}catch(e){}}n=t.exports=e(7),n.log=o,n.formatArgs=i,n.save=a,n.load=s,n.useColors=r,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:l(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(s())},{7:7}],7:[function(e,t,n){function r(){return n.colors[c++%n.colors.length]}function i(e){function t(){}function i(){var e=i,t=+new Date,o=t-(u||t);e.diff=o,e.prev=u,e.curr=t,u=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=r());var a=Array.prototype.slice.call(arguments);a[0]=n.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var s=0;a[0]=a[0].replace(/%([a-z%])/g,function(t,r){if("%%"===t)return t;s++;var i=n.formatters[r];if("function"==typeof i){var o=a[s];t=i.call(e,o),a.splice(s,1),s--}return t}),"function"==typeof n.formatArgs&&(a=n.formatArgs.apply(e,a));var l=i.log||n.log||console.log.bind(console);l.apply(e,a)}t.enabled=!1,i.enabled=!0;var o=n.enabled(e)?i:t;return o.namespace=e,o}function o(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),r=t.length,i=0;r>i;i++)t[i]&&(e=t[i].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function a(){n.enable("")}function s(e){var t,r;for(t=0,r=n.skips.length;r>t;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;r>t;t++)if(n.names[t].test(e))return!0;return!1}function l(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=i,n.coerce=l,n.disable=a,n.enable=o,n.enabled=s,n.humanize=e(8),n.names=[],n.skips=[],n.formatters={};var u,c=0},{8:8}],8:[function(e,t,n){function r(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*d;case"days":case"day":case"d":return n*c;case"hours":case"hour":case"hrs":case"hr":case"h":return n*u;case"minutes":case"minute":case"mins":case"min":case"m":return n*l;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function i(e){return e>=c?Math.round(e/c)+"d":e>=u?Math.round(e/u)+"h":e>=l?Math.round(e/l)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function o(e){return a(e,c,"day")||a(e,u,"hour")||a(e,l,"minute")||a(e,s,"second")||e+" ms"}function a(e,t,n){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var s=1e3,l=60*s,u=60*l,c=24*u,d=365.25*c;t.exports=function(e,t){return t=t||{},"string"==typeof e?r(e):t["long"]?o(e):i(e)}},{}],9:[function(e,t,n){(function(n,r){(function(){"use strict";function i(e){return"function"==typeof e||"object"==typeof e&&null!==e}function o(e){return"function"==typeof e}function a(e){return"object"==typeof e&&null!==e}function s(e){V=e}function l(e){Q=e}function u(){return function(){n.nextTick(f)}}function c(){return function(){W(f)}}function d(){var e=0,t=new X(f),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function h(){var e=new MessageChannel;return e.port1.onmessage=f,function(){e.port2.postMessage(0)}}function p(){return function(){setTimeout(f,1)}}function f(){for(var e=0;G>e;e+=2){var t=te[e],n=te[e+1];t(n),te[e]=void 0,te[e+1]=void 0}G=0}function g(){try{var t=e,n=t("vertx");return W=n.runOnLoop||n.runOnContext,c()}catch(r){return p()}}function m(){}function v(){return new TypeError("You cannot resolve a promise with itself")}function y(){return new TypeError("A promises callback cannot return that same promise.")}function b(e){try{return e.then}catch(t){return oe.error=t,oe}}function w(e,t,n,r){try{e.call(t,n,r)}catch(i){return i}}function $(e,t,n){Q(function(e){var r=!1,i=w(n,t,function(n){r||(r=!0,t!==n?C(e,n):A(e,n))},function(t){r||(r=!0,T(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,T(e,i))},e)}function x(e,t){t._state===re?A(e,t._result):t._state===ie?T(e,t._result):E(t,void 0,function(t){C(e,t)},function(t){T(e,t)})}function k(e,t){if(t.constructor===e.constructor)x(e,t);else{var n=b(t);n===oe?T(e,oe.error):void 0===n?A(e,t):o(n)?$(e,t,n):A(e,t)}}function C(e,t){e===t?T(e,v()):i(t)?k(e,t):A(e,t)}function _(e){e._onerror&&e._onerror(e._result),S(e)}function A(e,t){e._state===ne&&(e._result=t,e._state=re,0!==e._subscribers.length&&Q(S,e))}function T(e,t){e._state===ne&&(e._state=ie,e._result=t,Q(_,e))}function E(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+re]=n,i[o+ie]=r,0===o&&e._state&&Q(S,e)}function S(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r,i,o=e._result,a=0;a<t.length;a+=3)r=t[a],i=t[a+n],r?P(n,r,i,o):i(o);e._subscribers.length=0}}function D(){this.error=null}function O(e,t){try{return e(t)}catch(n){return ae.error=n,ae}}function P(e,t,n,r){var i,a,s,l,u=o(n);if(u){if(i=O(n,r),i===ae?(l=!0,a=i.error,i=null):s=!0,t===i)return void T(t,y())}else i=r,s=!0;t._state!==ne||(u&&s?C(t,i):l?T(t,a):e===re?A(t,i):e===ie&&T(t,i))}function N(e,t){try{t(function(t){C(e,t)},function(t){T(e,t)})}catch(n){T(e,n)}}function j(e,t){var n=this;n._instanceConstructor=e,n.promise=new e(m),n._validateInput(t)?(n._input=t,n.length=t.length,n._remaining=t.length,n._init(),0===n.length?A(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&A(n.promise,n._result))):T(n.promise,n._validationError())}function I(e){return new se(this,e).promise}function F(e){function t(e){C(i,e)}function n(e){T(i,e)}var r=this,i=new r(m);if(!K(e))return T(i,new TypeError("You must pass an array to race.")),i;for(var o=e.length,a=0;i._state===ne&&o>a;a++)E(r.resolve(e[a]),void 0,t,n);return i}function R(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(m);return C(n,e),n}function M(e){var t=this,n=new t(m);return T(n,e),n}function U(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function q(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function L(e){this._id=he++,this._state=void 0,this._result=void 0,this._subscribers=[],m!==e&&(o(e)||U(),this instanceof L||q(),N(this,e))}function B(){var e;if("undefined"!=typeof r)e=r;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;(!n||"[object Promise]"!==Object.prototype.toString.call(n.resolve())||n.cast)&&(e.Promise=pe)}var H;H=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var W,V,z,K=H,G=0,Q=({}.toString,function(e,t){te[G]=e,te[G+1]=t,G+=2,2===G&&(V?V(f):z())}),J="undefined"!=typeof window?window:void 0,Y=J||{},X=Y.MutationObserver||Y.WebKitMutationObserver,Z="undefined"!=typeof n&&"[object process]"==={}.toString.call(n),ee="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,te=new Array(1e3);z=Z?u():X?d():ee?h():void 0===J&&"function"==typeof e?g():p();var ne=void 0,re=1,ie=2,oe=new D,ae=new D;j.prototype._validateInput=function(e){return K(e)},j.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},j.prototype._init=function(){this._result=new Array(this.length)};var se=j;j.prototype._enumerate=function(){for(var e=this,t=e.length,n=e.promise,r=e._input,i=0;n._state===ne&&t>i;i++)e._eachEntry(r[i],i)},j.prototype._eachEntry=function(e,t){var n=this,r=n._instanceConstructor;a(e)?e.constructor===r&&e._state!==ne?(e._onerror=null,n._settledAt(e._state,t,e._result)):n._willSettleAt(r.resolve(e),t):(n._remaining--,n._result[t]=e)},j.prototype._settledAt=function(e,t,n){var r=this,i=r.promise;i._state===ne&&(r._remaining--,e===ie?T(i,n):r._result[t]=n),0===r._remaining&&A(i,r._result)},j.prototype._willSettleAt=function(e,t){var n=this;E(e,void 0,function(e){n._settledAt(re,t,e)},function(e){n._settledAt(ie,t,e)})};var le=I,ue=F,ce=R,de=M,he=0,pe=L;L.all=le,L.race=ue,L.resolve=ce,L.reject=de,L._setScheduler=s,L._setAsap=l,L._asap=Q,L.prototype={constructor:L,then:function(e,t){var n=this,r=n._state;if(r===re&&!e||r===ie&&!t)return this;var i=new this.constructor(m),o=n._result;if(r){var a=arguments[r-1];Q(function(){P(r,i,a,o)})}else E(n,i,e,t);return i},"catch":function(e){return this.then(null,e)}};var fe=B,ge={Promise:pe,polyfill:fe};"function"==typeof define&&define.amd?define(function(){return ge}):"undefined"!=typeof t&&t.exports?t.exports=ge:"undefined"!=typeof this&&(this.ES6Promise=ge),fe()}).call(this)}).call(this,e(2),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],10:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],11:[function(e,t,n){var r=e(14),i=e(18),o=e(30),a=o(r,i);t.exports=a},{14:14,18:18,30:30}],12:[function(e,t,n){function r(e,t){if("function"!=typeof e)throw new TypeError(i);return t=o(void 0===t?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,i=o(n.length-t,0),a=Array(i);++r<i;)a[r]=n[t+r];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,n[0],a);case 2:return e.call(this,n[0],n[1],a)}var s=Array(t+1);for(r=-1;++r<t;)s[r]=n[r];return s[t]=a,e.apply(this,s)}}var i="Expected a function",o=Math.max;t.exports=r},{}],13:[function(e,t,n){function r(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}t.exports=r},{}],14:[function(e,t,n){function r(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}t.exports=r},{}],15:[function(e,t,n){function r(e,t){return null==t?e:i(t,o(t),e)}var i=e(17),o=e(53);t.exports=r},{17:17,53:53}],16:[function(e,t,n){function r(e,t,n,f,g,m,v){var b;if(n&&(b=g?n(e,f,g):n(e)),void 0!==b)return b;if(!h(e))return e;var w=d(e);if(w){if(b=l(e),!t)return i(e,b)}else{var x=M.call(e),k=x==y;if(x!=$&&x!=p&&(!k||g))return F[x]?u(e,x,t):g?e:{};if(b=c(k?{}:e),!t)return a(b,e)}m||(m=[]),v||(v=[]);for(var C=m.length;C--;)if(m[C]==e)return v[C];return m.push(e),v.push(b),(w?o:s)(e,function(i,o){b[o]=r(i,t,n,o,e,m,v)}),b}var i=e(13),o=e(14),a=e(15),s=e(21),l=e(33),u=e(34),c=e(35),d=e(46),h=e(49),p="[object Arguments]",f="[object Array]",g="[object Boolean]",m="[object Date]",v="[object Error]",y="[object Function]",b="[object Map]",w="[object Number]",$="[object Object]",x="[object RegExp]",k="[object Set]",C="[object String]",_="[object WeakMap]",A="[object ArrayBuffer]",T="[object Float32Array]",E="[object Float64Array]",S="[object Int8Array]",D="[object Int16Array]",O="[object Int32Array]",P="[object Uint8Array]",N="[object Uint8ClampedArray]",j="[object Uint16Array]",I="[object Uint32Array]",F={};F[p]=F[f]=F[A]=F[g]=F[m]=F[T]=F[E]=F[S]=F[D]=F[O]=F[w]=F[$]=F[x]=F[C]=F[P]=F[N]=F[j]=F[I]=!0,F[v]=F[y]=F[b]=F[k]=F[_]=!1;var R=Object.prototype,M=R.toString;t.exports=r},{13:13,14:14,15:15,21:21,33:33,34:34,35:35,46:46,49:49}],17:[function(e,t,n){function r(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var o=t[r];n[o]=e[o]}return n}t.exports=r},{}],18:[function(e,t,n){var r=e(21),i=e(28),o=i(r);t.exports=o},{21:21,28:28}],19:[function(e,t,n){var r=e(29),i=r();t.exports=i},{29:29}],20:[function(e,t,n){function r(e,t){return i(e,t,o)}var i=e(19),o=e(54);t.exports=r},{19:19,54:54}],21:[function(e,t,n){function r(e,t){return i(e,t,o)}var i=e(19),o=e(53);t.exports=r},{19:19,53:53}],22:[function(e,t,n){function r(e,t,n,h,p){if(!l(e))return e;var f=s(t)&&(a(t)||c(t)),g=f?void 0:d(t);return i(g||t,function(i,a){if(g&&(a=i,i=t[a]),u(i))h||(h=[]),p||(p=[]),o(e,t,a,r,n,h,p);else{var s=e[a],l=n?n(s,i,a,e,t):void 0,c=void 0===l;c&&(l=i),void 0===l&&(!f||a in e)||!c&&(l===l?l===s:s!==s)||(e[a]=l)}}),e}var i=e(14),o=e(23),a=e(46),s=e(36),l=e(49),u=e(40),c=e(51),d=e(53);t.exports=r},{14:14,23:23,36:36,40:40,46:46,49:49,51:51,53:53}],23:[function(e,t,n){function r(e,t,n,r,d,h,p){for(var f=h.length,g=t[n];f--;)if(h[f]==g)return void(e[n]=p[f]);var m=e[n],v=d?d(m,g,n,e,t):void 0,y=void 0===v;y&&(v=g,s(g)&&(a(g)||u(g))?v=a(m)?m:s(m)?i(m):[]:l(g)||o(g)?v=o(m)?c(m):l(m)?m:{}:y=!1),h.push(g),p.push(v),y?e[n]=r(v,g,d,h,p):(v===v?v!==m:m===m)&&(e[n]=v)}var i=e(13),o=e(45),a=e(46),s=e(36),l=e(50),u=e(51),c=e(52);t.exports=r},{13:13,36:36,45:45,46:46,50:50,51:51,52:52}],24:[function(e,t,n){function r(e){return function(t){return null==t?void 0:t[e]}}t.exports=r},{}],25:[function(e,t,n){function r(e,t,n){if("function"!=typeof e)return i;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)};case 5:return function(n,r,i,o,a){return e.call(t,n,r,i,o,a)}}return function(){return e.apply(t,arguments)}}var i=e(56);t.exports=r},{56:56}],26:[function(e,t,n){(function(e){function n(e){var t=new r(e.byteLength),n=new i(t);return n.set(new i(e)),t}var r=e.ArrayBuffer,i=e.Uint8Array;t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],27:[function(e,t,n){function r(e){return a(function(t,n){var r=-1,a=null==t?0:n.length,s=a>2?n[a-2]:void 0,l=a>2?n[2]:void 0,u=a>1?n[a-1]:void 0;for("function"==typeof s?(s=i(s,u,5),a-=2):(s="function"==typeof u?u:void 0,a-=s?1:0),l&&o(n[0],n[1],l)&&(s=3>a?void 0:s,a=1);++r<a;){var c=n[r];c&&e(t,c,s)}return t})}var i=e(25),o=e(38),a=e(12);t.exports=r},{12:12,25:25,38:38}],28:[function(e,t,n){function r(e,t){return function(n,r){var s=n?i(n):0;if(!o(s))return e(n,r);for(var l=t?s:-1,u=a(n);(t?l--:++l<s)&&r(u[l],l,u)!==!1;);return n}}var i=e(31),o=e(39),a=e(42);t.exports=r},{31:31,39:39,42:42}],29:[function(e,t,n){function r(e){return function(t,n,r){for(var o=i(t),a=r(t),s=a.length,l=e?s:-1;e?l--:++l<s;){var u=a[l];if(n(o[u],u,o)===!1)break}return t}}var i=e(42);t.exports=r},{42:42}],30:[function(e,t,n){function r(e,t){return function(n,r,a){return"function"==typeof r&&void 0===a&&o(n)?e(n,r):t(n,i(r,a,3))}}var i=e(25),o=e(46);t.exports=r},{25:25,46:46}],31:[function(e,t,n){var r=e(24),i=r("length");t.exports=i},{24:24}],32:[function(e,t,n){function r(e,t){var n=null==e?void 0:e[t];return i(n)?n:void 0}var i=e(48);t.exports=r},{48:48}],33:[function(e,t,n){function r(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&o.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var i=Object.prototype,o=i.hasOwnProperty;t.exports=r},{}],34:[function(e,t,n){function r(e,t,n){var r=e.constructor;switch(t){case c:return i(e);case o:case a:return new r(+e);case d:case h:case p:case f:case g:case m:case v:case y:case b:var $=e.buffer;return new r(n?i($):$,e.byteOffset,e.length);case s:case u:return new r(e);case l:var x=new r(e.source,w.exec(e));x.lastIndex=e.lastIndex}return x}var i=e(26),o="[object Boolean]",a="[object Date]",s="[object Number]",l="[object RegExp]",u="[object String]",c="[object ArrayBuffer]",d="[object Float32Array]",h="[object Float64Array]",p="[object Int8Array]",f="[object Int16Array]",g="[object Int32Array]",m="[object Uint8Array]",v="[object Uint8ClampedArray]",y="[object Uint16Array]",b="[object Uint32Array]",w=/\w*$/;t.exports=r},{26:26}],35:[function(e,t,n){function r(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=Object),new t}t.exports=r},{}],36:[function(e,t,n){function r(e){return null!=e&&o(i(e))}var i=e(31),o=e(39);t.exports=r},{31:31,39:39}],37:[function(e,t,n){function r(e,t){return e="number"==typeof e||i.test(e)?+e:-1,t=null==t?o:t,e>-1&&e%1==0&&t>e}var i=/^\d+$/,o=9007199254740991;t.exports=r},{}],38:[function(e,t,n){function r(e,t,n){if(!a(n))return!1;var r=typeof t;if("number"==r?i(n)&&o(t,n.length):"string"==r&&t in n){var s=n[t];return e===e?e===s:s!==s}return!1}var i=e(36),o=e(37),a=e(49);t.exports=r},{36:36,37:37,49:49}],39:[function(e,t,n){function r(e){return"number"==typeof e&&e>-1&&e%1==0&&i>=e}var i=9007199254740991;t.exports=r},{}],40:[function(e,t,n){function r(e){return!!e&&"object"==typeof e}t.exports=r},{}],41:[function(e,t,n){function r(e){for(var t=l(e),n=t.length,r=n&&e.length,u=!!r&&s(r)&&(o(e)||i(e)),d=-1,h=[];++d<n;){var p=t[d];(u&&a(p,r)||c.call(e,p))&&h.push(p)}return h}var i=e(45),o=e(46),a=e(37),s=e(39),l=e(54),u=Object.prototype,c=u.hasOwnProperty;t.exports=r},{37:37,39:39,45:45,46:46,54:54}],42:[function(e,t,n){function r(e){return i(e)?e:Object(e)}var i=e(49);t.exports=r},{49:49}],43:[function(e,t,n){function r(e,t,n,r){return t&&"boolean"!=typeof t&&a(e,t,n)?t=!1:"function"==typeof t&&(r=n,n=t,t=!1),"function"==typeof n?i(e,t,o(n,r,3)):i(e,t)}var i=e(16),o=e(25),a=e(38);t.exports=r},{16:16,25:25,38:38}],44:[function(e,t,n){function r(e,t,n){return"function"==typeof t?i(e,!0,o(t,n,3)):i(e,!0)}var i=e(16),o=e(25);t.exports=r},{16:16,25:25}],45:[function(e,t,n){function r(e){return o(e)&&i(e)&&s.call(e,"callee")&&!l.call(e,"callee")}var i=e(36),o=e(40),a=Object.prototype,s=a.hasOwnProperty,l=a.propertyIsEnumerable;t.exports=r},{36:36,40:40}],46:[function(e,t,n){var r=e(32),i=e(39),o=e(40),a="[object Array]",s=Object.prototype,l=s.toString,u=r(Array,"isArray"),c=u||function(e){return o(e)&&i(e.length)&&l.call(e)==a};t.exports=c},{32:32,39:39,40:40}],47:[function(e,t,n){function r(e){return i(e)&&s.call(e)==o}var i=e(49),o="[object Function]",a=Object.prototype,s=a.toString;t.exports=r},{49:49}],48:[function(e,t,n){function r(e){return null==e?!1:i(e)?c.test(l.call(e)):o(e)&&a.test(e)}var i=e(47),o=e(40),a=/^\[object .+?Constructor\]$/,s=Object.prototype,l=Function.prototype.toString,u=s.hasOwnProperty,c=RegExp("^"+l.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},{40:40,47:47}],49:[function(e,t,n){function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}t.exports=r},{}],50:[function(e,t,n){function r(e){var t;if(!a(e)||c.call(e)!=s||o(e)||!u.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var n;return i(e,function(e,t){n=t}),void 0===n||u.call(e,n)}var i=e(20),o=e(45),a=e(40),s="[object Object]",l=Object.prototype,u=l.hasOwnProperty,c=l.toString;t.exports=r},{20:20,40:40,45:45}],51:[function(e,t,n){function r(e){return o(e)&&i(e.length)&&!!S[O.call(e)]}var i=e(39),o=e(40),a="[object Arguments]",s="[object Array]",l="[object Boolean]",u="[object Date]",c="[object Error]",d="[object Function]",h="[object Map]",p="[object Number]",f="[object Object]",g="[object RegExp]",m="[object Set]",v="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",w="[object Float32Array]",$="[object Float64Array]",x="[object Int8Array]",k="[object Int16Array]",C="[object Int32Array]",_="[object Uint8Array]",A="[object Uint8ClampedArray]",T="[object Uint16Array]",E="[object Uint32Array]",S={};S[w]=S[$]=S[x]=S[k]=S[C]=S[_]=S[A]=S[T]=S[E]=!0,S[a]=S[s]=S[b]=S[l]=S[u]=S[c]=S[d]=S[h]=S[p]=S[f]=S[g]=S[m]=S[v]=S[y]=!1;var D=Object.prototype,O=D.toString;t.exports=r},{39:39,40:40}],52:[function(e,t,n){function r(e){return i(e,o(e))}var i=e(17),o=e(54);t.exports=r},{17:17,54:54}],53:[function(e,t,n){var r=e(32),i=e(36),o=e(49),a=e(41),s=r(Object,"keys"),l=s?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&i(e)?a(e):o(e)?s(e):[]}:a;t.exports=l},{32:32,36:36,41:41,49:49}],54:[function(e,t,n){function r(e){if(null==e)return[];l(e)||(e=Object(e));var t=e.length;t=t&&s(t)&&(o(e)||i(e))&&t||0;for(var n=e.constructor,r=-1,u="function"==typeof n&&n.prototype===e,d=Array(t),h=t>0;++r<t;)d[r]=r+"";for(var p in e)h&&a(p,t)||"constructor"==p&&(u||!c.call(e,p))||d.push(p);return d}var i=e(45),o=e(46),a=e(37),s=e(39),l=e(49),u=Object.prototype,c=u.hasOwnProperty;t.exports=r},{37:37,39:39,45:45,46:46,49:49}],55:[function(e,t,n){var r=e(22),i=e(27),o=i(r);t.exports=o},{22:22,27:27}],56:[function(e,t,n){function r(e){return e}t.exports=r},{}],57:[function(e,t,n){"use strict";function r(t,n,r){var a=e(6)("algoliasearch"),s=e(43),l=e(46),u="Usage: algoliasearch(applicationID, apiKey, opts)";if(!t)throw new h.AlgoliaSearchError("Please provide an application ID. "+u);if(!n)throw new h.AlgoliaSearchError("Please provide an API key. "+u);this.applicationID=t,this.apiKey=n;var c=[this.applicationID+"-1.algolianet.com",this.applicationID+"-2.algolianet.com",this.applicationID+"-3.algolianet.com"];this.hosts={read:[],write:[]},this.hostIndex={read:0,write:0},r=r||{};var d=r.protocol||"https:",p=void 0===r.timeout?2e3:r.timeout;if(/:$/.test(d)||(d+=":"),"http:"!==r.protocol&&"https:"!==r.protocol)throw new h.AlgoliaSearchError("protocol must be `http:` or `https:` (was `"+r.protocol+"`)");r.hosts?l(r.hosts)?(this.hosts.read=s(r.hosts),this.hosts.write=s(r.hosts)):(this.hosts.read=s(r.hosts.read),this.hosts.write=s(r.hosts.write)):(this.hosts.read=[this.applicationID+"-dsn.algolia.net"].concat(c),this.hosts.write=[this.applicationID+".algolia.net"].concat(c)),
this.hosts.read=i(this.hosts.read,o(d)),this.hosts.write=i(this.hosts.write,o(d)),this.requestTimeout=p,this.extraHeaders=[],this.cache={},this._ua=r._ua,this._useCache=void 0===r._useCache?!0:r._useCache,this._setTimeout=r._setTimeout,a("init done, %j",this)}function i(e,t){for(var n=[],r=0;r<e.length;++r)n.push(t(e[r],r));return n}function o(e){return function(t){return e+"//"+t.toLowerCase()}}function a(){var e="Not implemented in this environment.\nIf you feel this is a mistake, write to support@algolia.com";throw new h.AlgoliaSearchError(e)}function s(e,t){var n=e.toLowerCase().replace(".","").replace("()","");return"algoliasearch: `"+e+"` was replaced by `"+t+"`. Please see https://github.com/algolia/algoliasearch-client-js/wiki/Deprecated#"+n}function l(e,t){t(e,0)}function u(e,t){function n(){return r||(console.log(t),r=!0),e.apply(this,arguments)}var r=!1;return n}function c(e){if(void 0===Array.prototype.toJSON)return JSON.stringify(e);var t=Array.prototype.toJSON;delete Array.prototype.toJSON;var n=JSON.stringify(e);return Array.prototype.toJSON=t,n}function d(e){return function(t,n,r){if("function"==typeof t&&"object"==typeof n||"object"==typeof r)throw new h.AlgoliaSearchError("index.search usage is index.search(query, params, cb)");0===arguments.length||"function"==typeof t?(r=t,t=""):(1===arguments.length||"function"==typeof n)&&(r=n,n=void 0),"object"==typeof t&&null!==t?(n=t,t=void 0):(void 0===t||null===t)&&(t="");var i="";return void 0!==t&&(i+=e+"="+encodeURIComponent(t)),void 0!==n&&(i=this.as._getSearchParams(n,i)),this._search(i,r)}}t.exports=r;var h=e(64);r.prototype={deleteIndex:function(e,t){return this._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(e),hostType:"write",callback:t})},moveIndex:function(e,t,n){var r={operation:"move",destination:t};return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(e)+"/operation",body:r,hostType:"write",callback:n})},copyIndex:function(e,t,n){var r={operation:"copy",destination:t};return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(e)+"/operation",body:r,hostType:"write",callback:n})},getLogs:function(e,t,n){return 0===arguments.length||"function"==typeof e?(n=e,e=0,t=10):(1===arguments.length||"function"==typeof t)&&(n=t,t=10),this._jsonRequest({method:"GET",url:"/1/logs?offset="+e+"&length="+t,hostType:"read",callback:n})},listIndexes:function(e,t){var n="";return void 0===e||"function"==typeof e?t=e:n="?page="+e,this._jsonRequest({method:"GET",url:"/1/indexes"+n,hostType:"read",callback:t})},initIndex:function(e){return new this.Index(this,e)},listUserKeys:function(e){return this._jsonRequest({method:"GET",url:"/1/keys",hostType:"read",callback:e})},getUserKeyACL:function(e,t){return this._jsonRequest({method:"GET",url:"/1/keys/"+e,hostType:"read",callback:t})},deleteUserKey:function(e,t){return this._jsonRequest({method:"DELETE",url:"/1/keys/"+e,hostType:"write",callback:t})},addUserKey:function(t,n,r){var i=e(46),o="Usage: client.addUserKey(arrayOfAcls[, params, callback])";if(!i(t))throw new Error(o);(1===arguments.length||"function"==typeof n)&&(r=n,n=null);var a={acl:t};return n&&(a.validity=n.validity,a.maxQueriesPerIPPerHour=n.maxQueriesPerIPPerHour,a.maxHitsPerQuery=n.maxHitsPerQuery,a.indexes=n.indexes,a.description=n.description,n.queryParameters&&(a.queryParameters=this._getSearchParams(n.queryParameters,"")),a.referers=n.referers),this._jsonRequest({method:"POST",url:"/1/keys",body:a,hostType:"write",callback:r})},addUserKeyWithValidity:u(function(e,t,n){return this.addUserKey(e,t,n)},s("client.addUserKeyWithValidity()","client.addUserKey()")),updateUserKey:function(t,n,r,i){var o=e(46),a="Usage: client.updateUserKey(key, arrayOfAcls[, params, callback])";if(!o(n))throw new Error(a);(2===arguments.length||"function"==typeof r)&&(i=r,r=null);var s={acl:n};return r&&(s.validity=r.validity,s.maxQueriesPerIPPerHour=r.maxQueriesPerIPPerHour,s.maxHitsPerQuery=r.maxHitsPerQuery,s.indexes=r.indexes,s.description=r.description,r.queryParameters&&(s.queryParameters=this._getSearchParams(r.queryParameters,"")),s.referers=r.referers),this._jsonRequest({method:"PUT",url:"/1/keys/"+t,body:s,hostType:"write",callback:i})},setSecurityTags:function(e){if("[object Array]"===Object.prototype.toString.call(e)){for(var t=[],n=0;n<e.length;++n)if("[object Array]"===Object.prototype.toString.call(e[n])){for(var r=[],i=0;i<e[n].length;++i)r.push(e[n][i]);t.push("("+r.join(",")+")")}else t.push(e[n]);e=t.join(",")}this.securityTags=e},setUserToken:function(e){this.userToken=e},startQueriesBatch:u(function(){this._batch=[]},s("client.startQueriesBatch()","client.search()")),addQueryInBatch:u(function(e,t,n){this._batch.push({indexName:e,query:t,params:n})},s("client.addQueryInBatch()","client.search()")),clearCache:function(){this.cache={}},sendQueriesBatch:u(function(e){return this.search(this._batch,e)},s("client.sendQueriesBatch()","client.search()")),setRequestTimeout:function(e){e&&(this.requestTimeout=parseInt(e,10))},search:function(t,n){var r=e(46),o="Usage: client.search(arrayOfQueries[, callback])";if(!r(t))throw new Error(o);var a=this,s={requests:i(t,function(e){var t="";return void 0!==e.query&&(t+="query="+encodeURIComponent(e.query)),{indexName:e.indexName,params:a._getSearchParams(e.params,t)}})};return this._jsonRequest({cache:this.cache,method:"POST",url:"/1/indexes/*/queries",body:s,hostType:"read",callback:n})},batch:function(t,n){var r=e(46),i="Usage: client.batch(operations[, callback])";if(!r(t))throw new Error(i);return this._jsonRequest({method:"POST",url:"/1/indexes/*/batch",body:{requests:t},hostType:"write",callback:n})},destroy:a,enableRateLimitForward:a,disableRateLimitForward:a,useSecuredAPIKey:a,disableSecuredAPIKey:a,generateSecuredApiKey:a,Index:function(e,t){this.indexName=t,this.as=e,this.typeAheadArgs=null,this.typeAheadValueOption=null,this.cache={}},setExtraHeader:function(e,t){this.extraHeaders.push({name:e.toLowerCase(),value:t})},addAlgoliaAgent:function(e){this._ua+=";"+e},_sendQueriesBatch:function(e,t){function n(){for(var t="",n=0;n<e.requests.length;++n){var r="/1/indexes/"+encodeURIComponent(e.requests[n].indexName)+"?"+e.requests[n].params;t+=n+"="+encodeURIComponent(r)+"&"}return t}return this._jsonRequest({cache:this.cache,method:"POST",url:"/1/indexes/*/queries",body:e,hostType:"read",fallback:{method:"GET",url:"/1/indexes/*",body:{params:n()}},callback:t})},_jsonRequest:function(t){function n(e,l){function d(e){var t=e&&e.body&&e.body.message&&e.body.status||e.statusCode||e&&e.body&&200;i("received response: statusCode: %s, computed statusCode: %d, headers: %j",e.statusCode,t,e.headers);var n=200===t||201===t,r=!n&&4!==Math.floor(t/100)&&1!==Math.floor(t/100);if(a._useCache&&n&&o&&(o[g]=e.responseText),n)return e.body;if(r)return s+=1,f();var l=new h.AlgoliaSearchError(e.body&&e.body.message);return a._promise.reject(l)}function p(r){return i("error: %s, stack: %s",r.message,r.stack),r instanceof h.AlgoliaSearchError||(r=new h.Unknown(r&&r.message,r)),s+=1,r instanceof h.Unknown||r instanceof h.UnparsableJSON||s>=a.hosts[t.hostType].length&&(u||!t.fallback||!a._request.fallback)?a._promise.reject(r):(a.hostIndex[t.hostType]=++a.hostIndex[t.hostType]%a.hosts[t.hostType].length,r instanceof h.RequestTimeout?f():(a._request.fallback&&!a.useFallback&&(a.useFallback=!0),n(e,l)))}function f(){return a.hostIndex[t.hostType]=++a.hostIndex[t.hostType]%a.hosts[t.hostType].length,l.timeout=a.requestTimeout*(s+1),n(e,l)}var g;if(a._useCache&&(g=t.url),a._useCache&&r&&(g+="_body_"+l.body),a._useCache&&o&&void 0!==o[g])return i("serving response from cache"),a._promise.resolve(JSON.parse(o[g]));if(s>=a.hosts[t.hostType].length||a.useFallback&&!u)return t.fallback&&a._request.fallback&&!u?(i("switching to fallback"),s=0,l.method=t.fallback.method,l.url=t.fallback.url,l.jsonBody=t.fallback.body,l.jsonBody&&(l.body=c(l.jsonBody)),l.timeout=a.requestTimeout*(s+1),a.hostIndex[t.hostType]=0,u=!0,n(a._request.fallback,l)):(i("could not get any response"),a._promise.reject(new h.AlgoliaSearchError("Cannot connect to the AlgoliaSearch API. Send an email to support@algolia.com to report and resolve the issue. Application id was: "+a.applicationID)));var m=a.hosts[t.hostType][a.hostIndex[t.hostType]]+l.url,v={body:r,jsonBody:t.body,method:l.method,headers:a._computeRequestHeaders(),timeout:l.timeout,debug:i};return i("method: %s, url: %s, headers: %j, timeout: %d",v.method,m,v.headers,v.timeout),e===a._request.fallback&&i("using fallback"),e.call(a,m,v).then(d,p)}var r,i=e(6)("algoliasearch:"+t.url),o=t.cache,a=this,s=0,u=!1;void 0!==t.body&&(r=c(t.body)),i("request start");var d=a.useFallback&&t.fallback,p=d?t.fallback:t,f=n(d?a._request.fallback:a._request,{url:p.url,method:p.method,body:r,jsonBody:t.body,timeout:a.requestTimeout*(s+1)});return t.callback?void f.then(function(e){l(function(){t.callback(null,e)},a._setTimeout||setTimeout)},function(e){l(function(){t.callback(e)},a._setTimeout||setTimeout)}):f},_getSearchParams:function(e,t){if(this._isUndefined(e)||null===e)return t;for(var n in e)null!==n&&void 0!==e[n]&&e.hasOwnProperty(n)&&(t+=""===t?"":"&",t+=n+"="+encodeURIComponent("[object Array]"===Object.prototype.toString.call(e[n])?c(e[n]):e[n]));return t},_isUndefined:function(e){return void 0===e},_computeRequestHeaders:function(){var t=e(11),n={"x-algolia-api-key":this.apiKey,"x-algolia-application-id":this.applicationID,"x-algolia-agent":this._ua};return this.userToken&&(n["x-algolia-usertoken"]=this.userToken),this.securityTags&&(n["x-algolia-tagfilters"]=this.securityTags),this.extraHeaders&&t(this.extraHeaders,function(e){n[e.name]=e.value}),n}},r.prototype.Index.prototype={clearCache:function(){this.cache={}},addObject:function(e,t,n){var r=this;return(1===arguments.length||"function"==typeof t)&&(n=t,t=void 0),this.as._jsonRequest({method:void 0!==t?"PUT":"POST",url:"/1/indexes/"+encodeURIComponent(r.indexName)+(void 0!==t?"/"+encodeURIComponent(t):""),body:e,hostType:"write",callback:n})},addObjects:function(t,n){var r=e(46),i="Usage: index.addObjects(arrayOfObjects[, callback])";if(!r(t))throw new Error(i);for(var o=this,a={requests:[]},s=0;s<t.length;++s){var l={action:"addObject",body:t[s]};a.requests.push(l)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(o.indexName)+"/batch",body:a,hostType:"write",callback:n})},getObject:function(e,t,n){var r=this;(1===arguments.length||"function"==typeof t)&&(n=t,t=void 0);var i="";if(void 0!==t){i="?attributes=";for(var o=0;o<t.length;++o)0!==o&&(i+=","),i+=t[o]}return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/"+encodeURIComponent(e)+i,hostType:"read",callback:n})},getObjects:function(t,n,r){var o=e(46),a="Usage: index.getObjects(arrayOfObjectIDs[, callback])";if(!o(t))throw new Error(a);var s=this;(1===arguments.length||"function"==typeof n)&&(r=n,n=void 0);var l={requests:i(t,function(e){var t={indexName:s.indexName,objectID:e};return n&&(t.attributesToRetrieve=n.join(",")),t})};return this.as._jsonRequest({method:"POST",url:"/1/indexes/*/objects",hostType:"read",body:l,callback:r})},partialUpdateObject:function(e,t){var n=this;return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/"+encodeURIComponent(e.objectID)+"/partial",body:e,hostType:"write",callback:t})},partialUpdateObjects:function(t,n){var r=e(46),i="Usage: index.partialUpdateObjects(arrayOfObjects[, callback])";if(!r(t))throw new Error(i);for(var o=this,a={requests:[]},s=0;s<t.length;++s){var l={action:"partialUpdateObject",objectID:t[s].objectID,body:t[s]};a.requests.push(l)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(o.indexName)+"/batch",body:a,hostType:"write",callback:n})},saveObject:function(e,t){var n=this;return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/"+encodeURIComponent(e.objectID),body:e,hostType:"write",callback:t})},saveObjects:function(t,n){var r=e(46),i="Usage: index.saveObjects(arrayOfObjects[, callback])";if(!r(t))throw new Error(i);for(var o=this,a={requests:[]},s=0;s<t.length;++s){var l={action:"updateObject",objectID:t[s].objectID,body:t[s]};a.requests.push(l)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(o.indexName)+"/batch",body:a,hostType:"write",callback:n})},deleteObject:function(e,t){if("function"==typeof e||"string"!=typeof e&&"number"!=typeof e){var n=new h.AlgoliaSearchError("Cannot delete an object without an objectID");return t=e,"function"==typeof t?t(n):this.as._promise.reject(n)}var r=this;return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/"+encodeURIComponent(e),hostType:"write",callback:t})},deleteObjects:function(t,n){var r=e(46),o="Usage: index.deleteObjects(arrayOfObjectIDs[, callback])";if(!r(t))throw new Error(o);var a=this,s={requests:i(t,function(e){return{action:"deleteObject",objectID:e,body:{objectID:e}}})};return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(a.indexName)+"/batch",body:s,hostType:"write",callback:n})},deleteByQuery:function(t,n,r){function o(e){if(0===e.nbHits)return e;var t=i(e.hits,function(e){return e.objectID});return h.deleteObjects(t).then(a).then(s)}function a(e){return h.waitTask(e.taskID)}function s(){return h.deleteByQuery(t,n)}function u(){l(function(){r(null)},p._setTimeout||setTimeout)}function c(e){l(function(){r(e)},p._setTimeout||setTimeout)}var d=e(43),h=this,p=h.as;1===arguments.length||"function"==typeof n?(r=n,n={}):n=d(n),n.attributesToRetrieve="objectID",n.hitsPerPage=1e3,n.distinct=!1,this.clearCache();var f=this.search(t,n).then(o);return r?void f.then(u,c):f},search:d("query"),similarSearch:d("similarQuery"),browse:function(t,n,r){var i,o,a=e(55),s=this;0===arguments.length||1===arguments.length&&"function"==typeof arguments[0]?(i=0,r=arguments[0],t=void 0):"number"==typeof arguments[0]?(i=arguments[0],"number"==typeof arguments[1]?o=arguments[1]:"function"==typeof arguments[1]&&(r=arguments[1],o=void 0),t=void 0,n=void 0):"object"==typeof arguments[0]?("function"==typeof arguments[1]&&(r=arguments[1]),n=arguments[0],t=void 0):"string"==typeof arguments[0]&&"function"==typeof arguments[1]&&(r=arguments[1],n=void 0),n=a({},n||{},{page:i,hitsPerPage:o,query:t});var l=this.as._getSearchParams(n,"");return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(s.indexName)+"/browse?"+l,hostType:"read",callback:r})},browseFrom:function(e,t){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/browse?cursor="+encodeURIComponent(e),hostType:"read",callback:t})},browseAll:function(t,n){function r(e){if(!s._stopped){var t;t=void 0!==e?"cursor="+encodeURIComponent(e):c,l._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(u.indexName)+"/browse?"+t,hostType:"read",callback:i})}}function i(e,t){return s._stopped?void 0:e?void s._error(e):(s._result(t),void 0===t.cursor?void s._end():void r(t.cursor))}"object"==typeof t&&(n=t,t=void 0);var o=e(55),a=e(58),s=new a,l=this.as,u=this,c=l._getSearchParams(o({},n||{},{query:t}),"");return r(),s},ttAdapter:function(e){var t=this;return function(n,r,i){var o;o="function"==typeof i?i:r,t.search(n,e,function(e,t){return e?void o(e):void o(t.hits)})}},waitTask:function(e,t){function n(){return c._jsonRequest({method:"GET",hostType:"read",url:"/1/indexes/"+encodeURIComponent(u.indexName)+"/task/"+e}).then(function(e){s++;var t=o*s*s;return t>a&&(t=a),"published"!==e.status?c._promise.delay(t).then(n):e})}function r(e){l(function(){t(null,e)},c._setTimeout||setTimeout)}function i(e){l(function(){t(e)},c._setTimeout||setTimeout)}var o=100,a=5e3,s=0,u=this,c=u.as,d=n();return t?void d.then(r,i):d},clearIndex:function(e){var t=this;return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/clear",hostType:"write",callback:e})},getSettings:function(e){var t=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/settings",hostType:"read",callback:e})},setSettings:function(e,t){var n=this;return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/settings",hostType:"write",body:e,callback:t})},listUserKeys:function(e){var t=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/keys",hostType:"read",callback:e})},getUserKeyACL:function(e,t){var n=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/keys/"+e,hostType:"read",callback:t})},deleteUserKey:function(e,t){var n=this;return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/keys/"+e,hostType:"write",callback:t})},addUserKey:function(t,n,r){var i=e(46),o="Usage: index.addUserKey(arrayOfAcls[, params, callback])";if(!i(t))throw new Error(o);(1===arguments.length||"function"==typeof n)&&(r=n,n=null);var a={acl:t};return n&&(a.validity=n.validity,a.maxQueriesPerIPPerHour=n.maxQueriesPerIPPerHour,a.maxHitsPerQuery=n.maxHitsPerQuery,a.description=n.description,n.queryParameters&&(a.queryParameters=this.as._getSearchParams(n.queryParameters,"")),a.referers=n.referers),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys",body:a,hostType:"write",callback:r})},addUserKeyWithValidity:u(function(e,t,n){return this.addUserKey(e,t,n)},s("index.addUserKeyWithValidity()","index.addUserKey()")),updateUserKey:function(t,n,r,i){var o=e(46),a="Usage: index.updateUserKey(key, arrayOfAcls[, params, callback])";if(!o(n))throw new Error(a);(2===arguments.length||"function"==typeof r)&&(i=r,r=null);var s={acl:n};return r&&(s.validity=r.validity,s.maxQueriesPerIPPerHour=r.maxQueriesPerIPPerHour,s.maxHitsPerQuery=r.maxHitsPerQuery,s.description=r.description,r.queryParameters&&(s.queryParameters=this.as._getSearchParams(r.queryParameters,"")),s.referers=r.referers),this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys/"+t,body:s,hostType:"write",callback:i})},_search:function(e,t){return this.as._jsonRequest({cache:this.cache,method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/query",body:{params:e},hostType:"read",fallback:{method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName),body:{params:e}},callback:t})},as:null,indexName:null,typeAheadArgs:null,typeAheadValueOption:null}},{11:11,43:43,46:46,55:55,58:58,6:6,64:64}],58:[function(e,t,n){"use strict";function r(){}t.exports=r;var i=e(10),o=e(1).EventEmitter;i(r,o),r.prototype.stop=function(){this._stopped=!0,this._clean()},r.prototype._end=function(){this.emit("end"),this._clean()},r.prototype._error=function(e){this.emit("error",e),this._clean()},r.prototype._result=function(e){this.emit("result",e)},r.prototype._clean=function(){this.removeAllListeners("stop"),this.removeAllListeners("end"),this.removeAllListeners("error"),this.removeAllListeners("result")}},{1:1,10:10}],59:[function(e,t,n){"use strict";var r=e(10),i=e(11),o=e(57),a=e(64),s=e(62),l=e(63);window.algoliasearch=e(60),window.angular.module("algoliasearch",[]).service("algolia",["$http","$q","$timeout",function(t,n,u){function c(t,n,r){var i=e(44),o=e(61);return r=i(r||{}),void 0===r.protocol&&(r.protocol=o()),r._ua=r._ua||c.ua,new d(t,n,r)}function d(){o.apply(this,arguments)}return c.version=e(65),c.ua="Algolia for AngularJS "+c.version,window.__algolia={debug:e(6),algoliasearch:c},r(d,o),d.prototype._request=function(e,r){function o(e){p({statusCode:e.status,headers:e.headers,body:JSON.parse(e.data),responseText:e.data})}function l(e){return e}function c(e){return d?void 0:0===e.status?void f(new a.Network({more:e})):void p({body:JSON.parse(e.data),statusCode:e.status})}var d,h=n.defer(),p=h.resolve,f=h.reject,g=r.body;e=s(e,r.headers);var m=n.defer(),v=m.promise;u(function(){d=!0,m.resolve("test"),f(new a.RequestTimeout)},r.timeout);var y={};return i(t.defaults.headers.common,function(e,t){y[t]=void 0}),y.accept="application/json",g&&("POST"===r.method?y["content-type"]="application/x-www-form-urlencoded":y["content-type"]="application/json"),t({url:e,method:r.method,data:g,cache:!1,timeout:v,headers:y,transformResponse:l,withCredentials:!1}).then(o,c),h.promise},d.prototype._request.fallback=function(e,t){e=s(e,t.headers);var r=n.defer(),i=r.resolve,o=r.reject;return l(e,t,function(e,t){return e?void o(e):void i(t)}),r.promise},d.prototype._promise={reject:function(e){return n.reject(e)},resolve:function(e){return n.when(e)},delay:function(e){var t=n.defer(),r=t.resolve;return u(r,e),t.promise}},{Client:function(e,t,n){return c(e,t,n)},ua:c.ua,version:c.version}}])},{10:10,11:11,44:44,57:57,6:6,60:60,61:61,62:62,63:63,64:64,65:65}],60:[function(e,t,n){"use strict";function r(t,n,o){var a=e(44),s=e(61);return o=a(o||{}),void 0===o.protocol&&(o.protocol=s()),o._ua=o._ua||r.ua,new i(t,n,o)}function i(){s.apply(this,arguments)}t.exports=r;var o=e(10),a=window.Promise||e(9).Promise,s=e(57),l=e(64),u=e(62),c=e(63);r.version=e(65),r.ua="Algolia for vanilla JavaScript "+r.version,window.__algolia={debug:e(6),algoliasearch:r};var d={hasXMLHttpRequest:"XMLHttpRequest"in window,hasXDomainRequest:"XDomainRequest"in window,cors:"withCredentials"in new XMLHttpRequest,timeout:"timeout"in new XMLHttpRequest};o(i,s),i.prototype._request=function(e,t){return new a(function(n,r){function i(){if(!c){d.timeout||clearTimeout(s);var e;try{e={body:JSON.parse(p.responseText),responseText:p.responseText,statusCode:p.status,headers:p.getAllResponseHeaders&&p.getAllResponseHeaders()||{}}}catch(t){e=new l.UnparsableJSON({more:p.responseText})}e instanceof l.UnparsableJSON?r(e):n(e)}}function o(e){c||(d.timeout||clearTimeout(s),r(new l.Network({more:e})))}function a(){d.timeout||(c=!0,p.abort()),r(new l.RequestTimeout)}if(!d.cors&&!d.hasXDomainRequest)return void r(new l.Network("CORS not supported"));e=u(e,t.headers);var s,c,h=t.body,p=d.cors?new XMLHttpRequest:new XDomainRequest;p instanceof XMLHttpRequest?p.open(t.method,e,!0):p.open(t.method,e),d.cors&&(h&&("POST"===t.method?p.setRequestHeader("content-type","application/x-www-form-urlencoded"):p.setRequestHeader("content-type","application/json")),p.setRequestHeader("accept","application/json")),p.onprogress=function(){},p.onload=i,p.onerror=o,d.timeout?(p.timeout=t.timeout,p.ontimeout=a):s=setTimeout(a,t.timeout),p.send(h)})},i.prototype._request.fallback=function(e,t){return e=u(e,t.headers),new a(function(n,r){c(e,t,function(e,t){return e?void r(e):void n(t)})})},i.prototype._promise={reject:function(e){return a.reject(e)},resolve:function(e){return a.resolve(e)},delay:function(e){return new a(function(t){setTimeout(t,e)})}}},{10:10,44:44,57:57,6:6,61:61,62:62,63:63,64:64,65:65,9:9}],61:[function(e,t,n){"use strict";function r(){var e=window.document.location.protocol;return"http:"!==e&&"https:"!==e&&(e="http:"),e}t.exports=r},{}],62:[function(e,t,n){"use strict";function r(e,t){return e+=/\?/.test(e)?"&":"?",e+i.encode(t)}t.exports=r;var i=e(5)},{5:5}],63:[function(e,t,n){"use strict";function r(e,t,n){function r(){t.debug("JSONP: success"),g||d||(g=!0,c||(t.debug("JSONP: Fail. Script loaded but did not call the callback"),s(),n(new i.JSONPScriptFail)))}function a(){("loaded"===this.readyState||"complete"===this.readyState)&&r()}function s(){clearTimeout(m),p.onload=null,p.onreadystatechange=null,p.onerror=null,h.removeChild(p);try{delete window[f],delete window[f+"_loaded"]}catch(e){window[f]=null,window[f+"_loaded"]=null}}function l(){t.debug("JSONP: Script timeout"),d=!0,s(),n(new i.RequestTimeout)}function u(){t.debug("JSONP: Script error"),g||d||(s(),n(new i.JSONPScriptError))}if("GET"!==t.method)return void n(new Error("Method "+t.method+" "+e+" is not supported by JSONP."));t.debug("JSONP: start");var c=!1,d=!1;o+=1;var h=document.getElementsByTagName("head")[0],p=document.createElement("script"),f="algoliaJSONP_"+o,g=!1;window[f]=function(e){try{delete window[f]}catch(t){window[f]=void 0}d||(c=!0,s(),n(null,{body:e}))},e+="&callback="+f,t.jsonBody&&t.jsonBody.params&&(e+="&"+t.jsonBody.params);var m=setTimeout(l,t.timeout);p.onreadystatechange=a,p.onload=r,p.onerror=u,p.async=!0,p.defer=!0,p.src=e,h.appendChild(p)}t.exports=r;var i=e(64),o=0},{64:64}],64:[function(e,t,n){"use strict";function r(t,n){var r=e(11),i=this;"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):i.stack=(new Error).stack||"Cannot get a stacktrace, browser is too old",this.name=this.constructor.name,this.message=t||"Unknown error",n&&r(n,function(e,t){i[t]=e})}function i(e,t){function n(){var n=Array.prototype.slice.call(arguments,0);"string"!=typeof n[0]&&n.unshift(t),r.apply(this,n),this.name="AlgoliaSearch"+e+"Error"}return o(n,r),n}var o=e(10);o(r,Error),t.exports={AlgoliaSearchError:r,UnparsableJSON:i("UnparsableJSON","Could not parse the incoming response as JSON, see err.more for details"),RequestTimeout:i("RequestTimeout","Request timedout before getting a response"),Network:i("Network","Network issue, see err.more for details"),JSONPScriptFail:i("JSONPScriptFail","<script> was loaded but did not call our provided callback"),JSONPScriptError:i("JSONPScriptError","<script> unable to load due to an `error` event on it"),Unknown:i("Unknown","Unknown error occured")}},{10:10,11:11}],65:[function(e,t,n){"use strict";t.exports="3.10.1"},{}]},{},[59]),function(e,t,n){"use strict";function r(){function e(e,t,r,i){return function(o,s,l){var u=l.$normalize(t);!n[u]||a(s,r)||l[u]||o.$watch(l[e],function(e){e=i?!e:!!e,s.attr(t,e)})}}var n={ariaHidden:!0,ariaChecked:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaMultiline:!0,ariaValue:!0,tabindex:!0,bindKeypress:!0,bindRoleForClick:!0};this.config=function(e){n=t.extend(n,e)},this.$get=function(){return{config:function(e){return n[e]},$$watchExpr:e}}}var i=t.module("ngAria",["ng"]).provider("$aria",r),o=["BUTTON","A","INPUT","TEXTAREA","SELECT","DETAILS","SUMMARY"],a=function(e,t){return-1!==t.indexOf(e[0].nodeName)?!0:void 0};i.directive("ngShow",["$aria",function(e){return e.$$watchExpr("ngShow","aria-hidden",[],!0)}]).directive("ngHide",["$aria",function(e){return e.$$watchExpr("ngHide","aria-hidden",[],!1)}]).directive("ngModel",["$aria",function(e){function t(t,n,r){return e.config(n)&&!r.attr(t)}function n(e,t){return!t.attr("role")&&t.attr("type")===e&&"INPUT"!==t[0].nodeName}function r(e,t){var n=e.type,r=e.role;return"checkbox"===(n||r)||"menuitemcheckbox"===r?"checkbox":"radio"===(n||r)||"menuitemradio"===r?"radio":"range"===n||"progressbar"===r||"slider"===r?"range":"textbox"===(n||r)||"TEXTAREA"===t[0].nodeName?"multiline":""}return{restrict:"A",require:"?ngModel",priority:200,compile:function(i,s){var l=r(s,i);return{pre:function(e,t,n,r){"checkbox"===l&&"checkbox"!==n.type&&(r.$isEmpty=function(e){return e===!1})},post:function(r,i,s,u){function c(){return u.$modelValue}function d(){return p?(p=!1,function(e){var t=s.value==u.$viewValue;i.attr("aria-checked",t),i.attr("tabindex",0-!t)}):function(e){i.attr("aria-checked",s.value==u.$viewValue)}}function h(){i.attr("aria-checked",!u.$isEmpty(u.$viewValue))}var p=t("tabindex","tabindex",i)&&!a(i,o);switch(l){case"radio":case"checkbox":n(l,i)&&i.attr("role",l),t("aria-checked","ariaChecked",i)&&r.$watch(c,"radio"===l?d():h),p&&i.attr("tabindex",0);break;case"range":if(n(l,i)&&i.attr("role","slider"),e.config("ariaValue")){var f=!i.attr("aria-valuemin")&&(s.hasOwnProperty("min")||s.hasOwnProperty("ngMin")),g=!i.attr("aria-valuemax")&&(s.hasOwnProperty("max")||s.hasOwnProperty("ngMax")),m=!i.attr("aria-valuenow");f&&s.$observe("min",function(e){i.attr("aria-valuemin",e)}),g&&s.$observe("max",function(e){i.attr("aria-valuemax",e)}),m&&r.$watch(c,function(e){i.attr("aria-valuenow",e)})}p&&i.attr("tabindex",0);break;case"multiline":t("aria-multiline","ariaMultiline",i)&&i.attr("aria-multiline",!0)}u.$validators.required&&t("aria-required","ariaRequired",i)&&r.$watch(function(){return u.$error.required},function(e){i.attr("aria-required",!!e)}),t("aria-invalid","ariaInvalid",i)&&r.$watch(function(){return u.$invalid},function(e){i.attr("aria-invalid",!!e)})}}}}}]).directive("ngDisabled",["$aria",function(e){return e.$$watchExpr("ngDisabled","aria-disabled",[])}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(e,t,n,r){t.attr("aria-live")||t.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",function(e,t){return{restrict:"A",compile:function(n,r){var i=t(r.ngClick,null,!0);return function(t,n,r){a(n,o)||(e.config("bindRoleForClick")&&!n.attr("role")&&n.attr("role","button"),e.config("tabindex")&&!n.attr("tabindex")&&n.attr("tabindex",0),e.config("bindKeypress")&&!r.ngKeypress&&n.on("keypress",function(e){function n(){i(t,{$event:e})}var r=e.which||e.keyCode;(32===r||13===r)&&t.$apply(n)}))}}}}]).directive("ngDblclick",["$aria",function(e){return function(t,n,r){!e.config("tabindex")||n.attr("tabindex")||a(n,o)||n.attr("tabindex",0)}}])}(window,window.angular),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-html.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$injector",function(e,t){var n=t.has("$animateCss")?t.get("$animateCss"):null;return{link:function(t,r,i){function o(){r.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),n?n(r,{addClass:"in",easing:"ease",to:{height:r[0].scrollHeight+"px"}}).start().done(a):e.addClass(r,"in",{to:{height:r[0].scrollHeight+"px"}}).then(a)}function a(){r.removeClass("collapsing").addClass("collapse").css({height:"auto"})}function s(){return r.hasClass("collapse")||r.hasClass("in")?(r.css({height:r[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),void(n?n(r,{removeClass:"in",to:{height:"0"}}).start().done(l):e.removeClass(r,"in",{to:{height:"0"}}).then(l))):l()}function l(){r.css({height:"0"}),r.removeClass("collapsing").addClass("collapse")}t.$watch(i.uibCollapse,function(e){e?s():o()})}}}]),angular.module("ui.bootstrap.collapse").value("$collapseSuppressWarning",!1).directive("collapse",["$animate","$injector","$log","$collapseSuppressWarning",function(e,t,n,r){var i=t.has("$animateCss")?t.get("$animateCss"):null;return{link:function(t,o,a){function s(){
o.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),i?i(o,{addClass:"in",easing:"ease",to:{height:o[0].scrollHeight+"px"}}).start().done(l):e.addClass(o,"in",{to:{height:o[0].scrollHeight+"px"}}).then(l)}function l(){o.removeClass("collapsing").addClass("collapse").css({height:"auto"})}function u(){return o.hasClass("collapse")||o.hasClass("in")?(o.css({height:o[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),void(i?i(o,{removeClass:"in",to:{height:"0"}}).start().done(c):e.removeClass(o,"in",{to:{height:"0"}}).then(c))):c()}function c(){o.css({height:"0"}),o.removeClass("collapsing").addClass("collapse")}r||n.warn("collapse is now deprecated. Use uib-collapse instead."),t.$watch(a.collapse,function(e){e?u():s()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(r){var i=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(e){e!==r&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(n){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,r){r.addGroup(e),e.openClass=n.openClass||"panel-open",e.panelClass=n.panelClass,e.$watch("isOpen",function(n){t.toggleClass(e.openClass,!!n),n&&r.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)}}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(e,t,n,r,i){r.setHeading(i(e,angular.noop))}}}).directive("uibAccordionTransclude",function(){return{require:["?^uibAccordionGroup","?^accordionGroup"],link:function(e,t,n,r){r=r[0]?r[0]:r[1],e.$watch(function(){return r[n.uibAccordionTransclude]},function(e){e&&(t.find("span").html(""),t.find("span").append(e))})}}}),angular.module("ui.bootstrap.accordion").value("$accordionSuppressWarning",!1).controller("AccordionController",["$scope","$attrs","$controller","$log","$accordionSuppressWarning",function(e,t,n,r,i){return i||r.warn("AccordionController is now deprecated. Use UibAccordionController instead."),n("UibAccordionController",{$scope:e,$attrs:t})}]).directive("accordion",["$log","$accordionSuppressWarning",function(e,t){return{restrict:"EA",controller:"AccordionController",controllerAs:"accordion",transclude:!0,replace:!1,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion.html"},link:function(){t||e.warn("accordion is now deprecated. Use uib-accordion instead.")}}}]).directive("accordionGroup",["$log","$accordionSuppressWarning",function(e,t){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(n,r,i,o){t||e.warn("accordion-group is now deprecated. Use uib-accordion-group instead."),o.addGroup(n),n.openClass=i.openClass||"panel-open",n.panelClass=i.panelClass,n.$watch("isOpen",function(e){r.toggleClass(n.openClass,!!e),e&&o.closeOthers(n)}),n.toggleOpen=function(e){n.isDisabled||e&&32!==e.which||(n.isOpen=!n.isOpen)}}}}]).directive("accordionHeading",["$log","$accordionSuppressWarning",function(e,t){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(n,r,i,o,a){t||e.warn("accordion-heading is now deprecated. Use uib-accordion-heading instead."),o.setHeading(a(n,angular.noop))}}}]).directive("accordionTransclude",["$log","$accordionSuppressWarning",function(e,t){return{require:"^accordionGroup",link:function(n,r,i,o){t||e.warn("accordion-transclude is now deprecated. Use uib-accordion-transclude instead."),n.$watch(function(){return o[i.accordionTransclude]},function(e){e&&(r.find("span").html(""),r.find("span").append(e))})}}}]),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$attrs","$timeout",function(e,t,n){e.closeable=!!t.close,angular.isDefined(t.dismissOnTimeout)&&n(function(){e.close()},parseInt(t.dismissOnTimeout,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",templateUrl:function(e,t){return t.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.alert").value("$alertSuppressWarning",!1).controller("AlertController",["$scope","$attrs","$controller","$log","$alertSuppressWarning",function(e,t,n,r,i){return i||r.warn("AlertController is now deprecated. Use UibAlertController instead."),n("UibAlertController",{$scope:e,$attrs:t})}]).directive("alert",["$log","$alertSuppressWarning",function(e,t){return{controller:"AlertController",controllerAs:"alert",templateUrl:function(e,t){return t.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"},link:function(){t||e.warn("alert is now deprecated. Use uib-alert instead.")}}}]),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("uibBtnRadio",function(){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(e,t,n,r){var i=r[0],o=r[1];t.find("input").css({display:"none"}),o.$render=function(){t.toggleClass(i.activeClass,angular.equals(o.$modelValue,e.$eval(n.uibBtnRadio)))},t.on(i.toggleEvent,function(){if(!n.disabled){var r=t.hasClass(i.activeClass);(!r||angular.isDefined(n.uncheckable))&&e.$apply(function(){o.$setViewValue(r?null:e.$eval(n.uibBtnRadio)),o.$render()})}})}}}).directive("uibBtnCheckbox",["$document",function(e){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(t,n,r,i){function o(){return s(r.btnCheckboxTrue,!0)}function a(){return s(r.btnCheckboxFalse,!1)}function s(e,n){return angular.isDefined(e)?t.$eval(e):n}var l=i[0],u=i[1];n.find("input").css({display:"none"}),u.$render=function(){n.toggleClass(l.activeClass,angular.equals(u.$modelValue,o()))},n.on(l.toggleEvent,function(){r.disabled||t.$apply(function(){u.$setViewValue(n.hasClass(l.activeClass)?a():o()),u.$render()})}),n.on("keypress",function(i){r.disabled||32!==i.which||e[0].activeElement!==n[0]||t.$apply(function(){u.$setViewValue(n.hasClass(l.activeClass)?a():o()),u.$render()})})}}}]),angular.module("ui.bootstrap.buttons").value("$buttonsSuppressWarning",!1).controller("ButtonsController",["$controller","$log","$buttonsSuppressWarning",function(e,t,n){return n||t.warn("ButtonsController is now deprecated. Use UibButtonsController instead."),e("UibButtonsController")}]).directive("btnRadio",["$log","$buttonsSuppressWarning",function(e,t){return{require:["btnRadio","ngModel"],controller:"ButtonsController",controllerAs:"buttons",link:function(n,r,i,o){t||e.warn("btn-radio is now deprecated. Use uib-btn-radio instead.");var a=o[0],s=o[1];r.find("input").css({display:"none"}),s.$render=function(){r.toggleClass(a.activeClass,angular.equals(s.$modelValue,n.$eval(i.btnRadio)))},r.bind(a.toggleEvent,function(){if(!i.disabled){var e=r.hasClass(a.activeClass);(!e||angular.isDefined(i.uncheckable))&&n.$apply(function(){s.$setViewValue(e?null:n.$eval(i.btnRadio)),s.$render()})}})}}}]).directive("btnCheckbox",["$document","$log","$buttonsSuppressWarning",function(e,t,n){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",controllerAs:"button",link:function(r,i,o,a){function s(){return u(o.btnCheckboxTrue,!0)}function l(){return u(o.btnCheckboxFalse,!1)}function u(e,t){var n=r.$eval(e);return angular.isDefined(n)?n:t}n||t.warn("btn-checkbox is now deprecated. Use uib-btn-checkbox instead.");var c=a[0],d=a[1];i.find("input").css({display:"none"}),d.$render=function(){i.toggleClass(c.activeClass,angular.equals(d.$modelValue,s()))},i.bind(c.toggleEvent,function(){o.disabled||r.$apply(function(){d.$setViewValue(i.hasClass(c.activeClass)?l():s()),d.$render()})}),i.on("keypress",function(t){o.disabled||32!==t.which||e[0].activeElement!==i[0]||r.$apply(function(){d.$setViewValue(i.hasClass(c.activeClass)?l():s()),d.$render()})})}}}]),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$animate",function(e,t,n,r){function i(t,n,i){y||(angular.extend(t,{direction:i,active:!0}),angular.extend(h.currentSlide||{},{direction:i,active:!1}),r.enabled()&&!e.noTransition&&!e.$currentTransition&&t.$element&&h.slides.length>1&&(t.$element.data(m,t.direction),h.currentSlide&&h.currentSlide.$element&&h.currentSlide.$element.data(m,t.direction),e.$currentTransition=!0,f?r.on("addClass",t.$element,function(t,n){"close"===n&&(e.$currentTransition=null,r.off("addClass",t))}):t.$element.one("$animate:close",function(){e.$currentTransition=null})),h.currentSlide=t,v=n,a())}function o(e){if(angular.isUndefined(p[e].index))return p[e];var t;p.length;for(t=0;t<p.length;++t)if(p[t].index==e)return p[t]}function a(){s();var t=+e.interval;!isNaN(t)&&t>0&&(c=n(l,t))}function s(){c&&(n.cancel(c),c=null)}function l(){var t=+e.interval;d&&!isNaN(t)&&t>0&&p.length?e.next():e.pause()}function u(t){t.length||(e.$currentTransition=null)}var c,d,h=this,p=h.slides=e.slides=[],f=angular.version.minor>=4,g="uib-noTransition",m="uib-slideDirection",v=-1;h.currentSlide=null;var y=!1;h.select=e.select=function(t,n){var r=e.indexOfSlide(t);void 0===n&&(n=r>h.getCurrentIndex()?"next":"prev"),t&&t!==h.currentSlide&&!e.$currentTransition&&i(t,r,n)},e.$on("$destroy",function(){y=!0}),h.getCurrentIndex=function(){return h.currentSlide&&angular.isDefined(h.currentSlide.index)?+h.currentSlide.index:v},e.indexOfSlide=function(e){return angular.isDefined(e.index)?+e.index:p.indexOf(e)},e.next=function(){var t=(h.getCurrentIndex()+1)%p.length;return 0===t&&e.noWrap()?void e.pause():h.select(o(t),"next")},e.prev=function(){var t=h.getCurrentIndex()-1<0?p.length-1:h.getCurrentIndex()-1;return e.noWrap()&&t===p.length-1?void e.pause():h.select(o(t),"prev")},e.isActive=function(e){return h.currentSlide===e},e.$watch("interval",a),e.$watchCollection("slides",u),e.$on("$destroy",s),e.play=function(){d||(d=!0,a())},e.pause=function(){e.noPause||(d=!1,s())},h.addSlide=function(t,n){t.$element=n,p.push(t),1===p.length||t.active?(h.select(p[p.length-1]),1===p.length&&e.play()):t.active=!1},h.removeSlide=function(e){angular.isDefined(e.index)&&p.sort(function(e,t){return+e.index>+t.index});var t=p.indexOf(e);p.splice(t,1),p.length>0&&e.active?t>=p.length?h.select(p[t-1]):h.select(p[t]):v>t&&v--,0===p.length&&(h.currentSlide=null)},e.$watch("noTransition",function(e){t.data(g,e)})}]).directive("uibCarousel",[function(){return{transclude:!0,replace:!0,controller:"UibCarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(e,t){return t.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}]).directive("uibSlide",function(){return{require:"^uibCarousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(e,t,n,r){r.addSlide(e,t),e.$on("$destroy",function(){r.removeSlide(e)}),e.$watch("active",function(t){t&&r.select(e)})}}}).animation(".item",["$injector","$animate",function(e,t){function n(e,t,n){e.removeClass(t),n&&n()}var r="uib-noTransition",i="uib-slideDirection",o=null;return e.has("$animateCss")&&(o=e.get("$animateCss")),{beforeAddClass:function(e,a,s){if("active"==a&&e.parent()&&e.parent().parent()&&!e.parent().parent().data(r)){var l=!1,u=e.data(i),c="next"==u?"left":"right",d=n.bind(this,e,c+" "+u,s);return e.addClass(u),o?o(e,{addClass:c}).start().done(d):t.addClass(e,c).then(function(){l||d(),s()}),function(){l=!0}}s()},beforeRemoveClass:function(e,a,s){if("active"===a&&e.parent()&&e.parent().parent()&&!e.parent().parent().data(r)){var l=!1,u=e.data(i),c="next"==u?"left":"right",d=n.bind(this,e,c,s);return o?o(e,{addClass:c}).start().done(d):t.addClass(e,c).then(function(){l||d(),s()}),function(){l=!0}}s()}}}]),angular.module("ui.bootstrap.carousel").value("$carouselSuppressWarning",!1).controller("CarouselController",["$scope","$element","$controller","$log","$carouselSuppressWarning",function(e,t,n,r,i){return i||r.warn("CarouselController is now deprecated. Use UibCarouselController instead."),n("UibCarouselController",{$scope:e,$element:t})}]).directive("carousel",["$log","$carouselSuppressWarning",function(e,t){return{transclude:!0,replace:!0,controller:"CarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(e,t){return t.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"},link:function(){t||e.warn("carousel is now deprecated. Use uib-carousel instead.")}}}]).directive("slide",["$log","$carouselSuppressWarning",function(e,t){return{require:"^carousel",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(n,r,i,o){t||e.warn("slide is now deprecated. Use uib-slide instead."),o.addSlide(n,r),n.$on("$destroy",function(){o.removeSlide(n)}),n.$watch("active",function(e){e&&o.select(n)})}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","orderByFilter",function(e,t,n){function r(e){var t=[],r=e.split("");return angular.forEach(a,function(n,i){var o=e.indexOf(i);if(o>-1){e=e.split(""),r[o]="("+n.regex+")",e[o]="$";for(var a=o+1,s=o+i.length;s>a;a++)r[a]="",e[a]="$";e=e.join(""),t.push({index:o,apply:n.apply})}}),{regex:new RegExp("^"+r.join("")+"$"),map:n(t,"index")}}function i(e,t,n){return 1>n?!1:1===t&&n>28?29===n&&(e%4===0&&e%100!==0||e%400===0):3===t||5===t||8===t||10===t?31>n:!0}var o,a,s=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){o=t.id,this.parsers={},a={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)}},MMM:{regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:t.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:t.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e}},hh:{regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e}},H:{regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e}},h:{regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e}},mm:{regex:"[0-5][0-9]",apply:function(e){this.minutes=+e}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e}},sss:{regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e}},ss:{regex:"[0-5][0-9]",apply:function(e){this.seconds=+e}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e}},a:{regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)}}}},this.init(),this.parse=function(n,a,l){if(!angular.isString(n)||!a)return n;a=t.DATETIME_FORMATS[a]||a,a=a.replace(s,"\\$&"),t.id!==o&&this.init(),this.parsers[a]||(this.parsers[a]=r(a));var u=this.parsers[a],c=u.regex,d=u.map,h=n.match(c);if(h&&h.length){var p,f;angular.isDate(l)&&!isNaN(l.getTime())?p={year:l.getFullYear(),month:l.getMonth(),date:l.getDate(),hours:l.getHours(),minutes:l.getMinutes(),seconds:l.getSeconds(),milliseconds:l.getMilliseconds()}:(l&&e.warn("dateparser:","baseDate is not a valid date"),p={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var g=1,m=h.length;m>g;g++){var v=d[g-1];v.apply&&v.apply.call(p,h[g])}return i(p.year,p.month,p.date)&&(f=new Date(p.year,p.month,p.date,p.hours,p.minutes,p.seconds,p.milliseconds||0)),f}}}]),angular.module("ui.bootstrap.dateparser").value("$dateParserSuppressWarning",!1).service("dateParser",["$log","$dateParserSuppressWarning","uibDateParser",function(e,t,n){t||e.warn("dateParser is now deprecated. Use uibDateParser instead."),angular.extend(this,n)}]),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function r(e){return"static"===(n(e,"position")||"static")}var i=function(t){for(var n=e[0],i=t.offsetParent||n;i&&i!==n&&r(i);)i=i.offsetParent;return i||n};return{position:function(t){var n=this.offset(t),r={top:0,left:0},o=i(t[0]);o!=e[0]&&(r=this.offset(angular.element(o)),r.top+=o.clientTop-o.scrollTop,r.left+=o.clientLeft-o.scrollLeft);var a=t[0].getBoundingClientRect();return{width:a.width||t.prop("offsetWidth"),height:a.height||t.prop("offsetHeight"),top:n.top-r.top,left:n.left-r.left}},offset:function(n){var r=n[0].getBoundingClientRect();return{width:r.width||n.prop("offsetWidth"),height:r.height||n.prop("offsetHeight"),top:r.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,r){var i,o,a,s,l=n.split("-"),u=l[0],c=l[1]||"center";i=r?this.offset(e):this.position(e),o=t.prop("offsetWidth"),a=t.prop("offsetHeight");var d={center:function(){return i.left+i.width/2-o/2},left:function(){return i.left},right:function(){return i.left+i.width}},h={center:function(){return i.top+i.height/2-a/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(u){case"right":s={top:h[c](),left:d[u]()};break;case"left":s={top:h[c](),left:i.left-o};break;case"bottom":s={top:h[u](),left:d[c]()};break;default:s={top:i.top-a,left:d[c]()}}return s}}}]),angular.module("ui.bootstrap.position").value("$positionSuppressWarning",!1).service("$position",["$log","$positionSuppressWarning","$uibPosition",function(e,t,n){t||e.warn("$position is now deprecated. Use $uibPosition instead."),angular.extend(this,n)}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).value("$datepickerSuppressError",!1).constant("uibDatepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("UibDatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","uibDatepickerConfig","$datepickerSuppressError",function(e,t,n,r,i,o,a,s){var l=this,u={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(n,i){l[n]=angular.isDefined(t[n])?6>i?r(t[n])(e.$parent):e.$parent.$eval(t[n]):a[n]}),angular.forEach(["minDate","maxDate"],function(r){t[r]?e.$parent.$watch(n(t[r]),function(e){l[r]=e?new Date(e):null,l.refreshView()}):l[r]=a[r]?new Date(a[r]):null}),angular.forEach(["minMode","maxMode"],function(r){t[r]?e.$parent.$watch(n(t[r]),function(n){l[r]=angular.isDefined(n)?n:t[r],e[r]=l[r],("minMode"==r&&l.modes.indexOf(e.datepickerMode)<l.modes.indexOf(l[r])||"maxMode"==r&&l.modes.indexOf(e.datepickerMode)>l.modes.indexOf(l[r]))&&(e.datepickerMode=l[r])}):(l[r]=a[r]||null,e[r]=l[r])}),e.datepickerMode=e.datepickerMode||a.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(t.initDate)?(this.activeDate=e.$parent.$eval(t.initDate)||new Date,e.$parent.$watch(t.initDate,function(e){e&&(u.$isEmpty(u.$modelValue)||u.$invalid)&&(l.activeDate=e,l.refreshView())})):this.activeDate=new Date,e.isActive=function(t){return 0===l.compare(t.date,l.activeDate)?(e.activeDateId=t.uid,!0):!1},this.init=function(e){u=e,u.$render=function(){l.render()}},this.render=function(){if(u.$viewValue){var e=new Date(u.$viewValue),t=!isNaN(e);t?this.activeDate=e:s||i.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=u.$viewValue?new Date(u.$viewValue):null;u.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=u.$viewValue?new Date(u.$viewValue):null;return{date:e,label:o(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date),customClass:this.customClass(e)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},this.fixTimeZone=function(e){var t=e.getHours();e.setHours(23===t?t+2:0)},e.select=function(t){if(e.datepickerMode===l.minMode){var n=u.$viewValue?new Date(u.$viewValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),u.$setViewValue(n),u.$render()}else l.activeDate=t,e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=l.activeDate.getFullYear()+e*(l.step.years||0),n=l.activeDate.getMonth()+e*(l.step.months||0);l.activeDate.setFullYear(t,n,1),l.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===l.maxMode&&1===t||e.datepickerMode===l.minMode&&-1===t||(e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var c=function(){l.element[0].focus()};e.$on("uib:datepicker.focus",c),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),l.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(l.isDisabled(l.activeDate))return;e.select(l.activeDate)}else!t.ctrlKey||"up"!==n&&"down"!==n?(l.handleKeyDown(n,t),l.refreshView()):e.toggleMode("up"===n?1:-1)}}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(e,t,n){function r(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?o[t]:29}function i(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}var o=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=t,this.init=function(t){angular.extend(t,this),e.showWeeks=t.showWeeks,t.refreshView()},this.getDates=function(e,t){for(var n,r=new Array(t),i=new Date(e),o=0;t>o;)n=new Date(i),this.fixTimeZone(n),r[o++]=n,i.setDate(i.getDate()+1);return r},this._refreshView=function(){var t=this.activeDate.getFullYear(),r=this.activeDate.getMonth(),o=new Date(t,r,1),a=this.startingDay-o.getDay(),s=a>0?7-a:-a,l=new Date(o);s>0&&l.setDate(-s+1);for(var u=this.getDates(l,42),c=0;42>c;c++)u[c]=angular.extend(this.createDateObject(u[c],this.formatDay),{secondary:u[c].getMonth()!==r,uid:e.uniqueId+"-"+c});e.labels=new Array(7);for(var d=0;7>d;d++)e.labels[d]={abbr:n(u[d].date,this.formatDayHeader),full:n(u[d].date,"EEEE")};if(e.title=n(this.activeDate,this.formatDayTitle),e.rows=this.split(u,7),e.showWeeks){e.weekNumbers=[];for(var h=(11-this.startingDay)%7,p=e.rows.length,f=0;p>f;f++)e.weekNumbers.push(i(e.rows[f][h].date))}},this.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},this.handleKeyDown=function(e,t){var n=this.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var i=this.activeDate.getMonth()+("pageup"===e?-1:1);this.activeDate.setMonth(i,1),n=Math.min(r(this.activeDate.getFullYear(),this.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=r(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(n)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(e,t,n){this.step={years:1},this.element=t,this.init=function(e){angular.extend(e,this),e.refreshView()},this._refreshView=function(){for(var t,r=new Array(12),i=this.activeDate.getFullYear(),o=0;12>o;o++)t=new Date(i,o,1),this.fixTimeZone(t),r[o]=angular.extend(this.createDateObject(t,this.formatMonth),{uid:e.uniqueId+"-"+o});e.title=n(this.activeDate,this.formatMonthTitle),e.rows=this.split(r,3)},this.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},this.handleKeyDown=function(e,t){var n=this.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=3;else if("right"===e)n+=1;else if("down"===e)n+=3;else if("pageup"===e||"pagedown"===e){var r=this.activeDate.getFullYear()+("pageup"===e?-1:1);this.activeDate.setFullYear(r)}else"home"===e?n=0:"end"===e&&(n=11);this.activeDate.setMonth(n)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(e,t,n){function r(e){return parseInt((e-1)/i,10)*i+1}var i;this.element=t,this.yearpickerInit=function(){i=this.yearRange,this.step={years:i}},this._refreshView=function(){for(var t,n=new Array(i),o=0,a=r(this.activeDate.getFullYear());i>o;o++)t=new Date(a+o,0,1),this.fixTimeZone(t),n[o]=angular.extend(this.createDateObject(t,this.formatYear),{uid:e.uniqueId+"-"+o});e.title=[n[0].label,n[i-1].label].join(" - "),e.rows=this.split(n,5)},this.compare=function(e,t){return e.getFullYear()-t.getFullYear()},this.handleKeyDown=function(e,t){var n=this.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=5:"right"===e?n+=1:"down"===e?n+=5:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*this.step.years:"home"===e?n=r(this.activeDate.getFullYear()):"end"===e&&(n=r(this.activeDate.getFullYear())+i-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["uibDatepicker","^ngModel"],controller:"UibDatepickerController",controllerAs:"datepicker",link:function(e,t,n,r){var i=r[0],o=r[1];i.init(o)}}}).directive("uibDaypicker",function(){return{replace:!0,templateUrl:"template/datepicker/day.html",require:["^?uibDatepicker","uibDaypicker","^?datepicker"],controller:"UibDaypickerController",link:function(e,t,n,r){var i=r[0]||r[2],o=r[1];o.init(i)}}}).directive("uibMonthpicker",function(){return{replace:!0,templateUrl:"template/datepicker/month.html",require:["^?uibDatepicker","uibMonthpicker","^?datepicker"],controller:"UibMonthpickerController",link:function(e,t,n,r){var i=r[0]||r[2],o=r[1];o.init(i)}}}).directive("uibYearpicker",function(){return{replace:!0,templateUrl:"template/datepicker/year.html",require:["^?uibDatepicker","uibYearpicker","^?datepicker"],controller:"UibYearpickerController",link:function(e,t,n,r){var i=r[0]||r[2];angular.extend(i,r[1]),i.yearpickerInit(),i.refreshView()}}}).constant("uibDatepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"template/datepicker/popup.html",datepickerTemplateUrl:"template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0,onOpenFocus:!0}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$parse","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout",function(e,t,n,r,i,o,a,s,l,u,c,d){function h(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function p(t){angular.isNumber(t)&&(t=new Date(t));{if(!t)return null;if(angular.isDate(t)&&!isNaN(t))return t;if(angular.isString(t)){var n=u.parse(t,v,e.date);return isNaN(n)?void 0:n}}}function f(e,t){var r=e||t;if(!n.ngRequired&&!r)return!0;if(angular.isNumber(r)&&(r=new Date(r)),r){if(angular.isDate(r)&&!isNaN(r))return!0;if(angular.isString(r)){var i=u.parse(r,v);return!isNaN(i)}return!1}return!0}function g(n){var r=A[0],i=t[0].contains(n.target),o=void 0!==r.contains&&r.contains(n.target);!e.isOpen||i||o||e.$apply(function(){e.isOpen=!1})}function m(n){27===n.which&&e.isOpen?(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!1}),t[0].focus()):40!==n.which||e.isOpen||(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!0}))}var v,y,b,w,$,x,k,C,_,A,T={},E=!1;e.watchData={},this.init=function(s){if(_=s,y=angular.isDefined(n.closeOnDateSelection)?e.$parent.$eval(n.closeOnDateSelection):c.closeOnDateSelection,b=angular.isDefined(n.datepickerAppendToBody)?e.$parent.$eval(n.datepickerAppendToBody):c.appendToBody,w=angular.isDefined(n.onOpenFocus)?e.$parent.$eval(n.onOpenFocus):c.onOpenFocus,$=angular.isDefined(n.datepickerPopupTemplateUrl)?n.datepickerPopupTemplateUrl:c.datepickerPopupTemplateUrl,x=angular.isDefined(n.datepickerTemplateUrl)?n.datepickerTemplateUrl:c.datepickerTemplateUrl,e.showButtonBar=angular.isDefined(n.showButtonBar)?e.$parent.$eval(n.showButtonBar):c.showButtonBar,c.html5Types[n.type]?(v=c.html5Types[n.type],E=!0):(v=n.datepickerPopup||c.datepickerPopup,n.$observe("uibDatepickerPopup",function(e,t){var n=e||c.datepickerPopup;if(n!==v&&(v=n,_.$modelValue=null,!v))throw new Error("uibDatepickerPopup must have a date format specified.")})),!v)throw new Error("uibDatepickerPopup must have a date format specified.");if(E&&n.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");if(k=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),k.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":$}),C=angular.element(k.children()[0]),C.attr("template-url",x),E&&"month"===n.type&&(C.attr("datepicker-mode",'"month"'),C.attr("min-mode","month")),n.datepickerOptions){var d=e.$parent.$eval(n.datepickerOptions);d&&d.initDate&&(e.initDate=d.initDate,C.attr("init-date","initDate"),delete d.initDate),angular.forEach(d,function(e,t){C.attr(h(t),e)})}angular.forEach(["minMode","maxMode","minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(t){if(n[t]){var r=i(n[t]);if(e.$parent.$watch(r,function(n){e.watchData[t]=n,("minDate"===t||"maxDate"===t)&&(T[t]=new Date(n))}),C.attr(h(t),"watchData."+t),"datepickerMode"===t){var o=r.assign;e.$watch("watchData."+t,function(t,n){
angular.isFunction(o)&&t!==n&&o(e.$parent,t)})}}}),n.dateDisabled&&C.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),n.showWeeks&&C.attr("show-weeks",n.showWeeks),n.customClass&&C.attr("custom-class","customClass({ date: date, mode: mode })"),E?_.$formatters.push(function(t){return e.date=t,t}):(_.$$parserName="date",_.$validators.date=f,_.$parsers.unshift(p),_.$formatters.push(function(t){return e.date=t,_.$isEmpty(t)?t:l(t,v)})),_.$viewChangeListeners.push(function(){e.date=u.parse(_.$viewValue,v,e.date)}),t.bind("keydown",m),A=r(k)(e),k.remove(),b?o.find("body").append(A):t.after(A),e.$on("$destroy",function(){e.isOpen===!0&&(a.$$phase||e.$apply(function(){e.isOpen=!1})),A.remove(),t.unbind("keydown",m),o.unbind("click",g)})},e.getText=function(t){return e[t+"Text"]||c[t+"Text"]},e.isDisabled=function(t){return"today"===t&&(t=new Date),e.watchData.minDate&&e.compare(t,T.minDate)<0||e.watchData.maxDate&&e.compare(t,T.maxDate)>0},e.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.dateSelection=function(n){angular.isDefined(n)&&(e.date=n);var r=e.date?l(e.date,v):null;t.val(r),_.$setViewValue(r),y&&(e.isOpen=!1,t[0].focus())},e.keydown=function(n){27===n.which&&(e.isOpen=!1,t[0].focus())},e.select=function(t){if("today"===t){var n=new Date;angular.isDate(e.date)?(t=new Date(e.date),t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate())):t=new Date(n.setHours(0,0,0,0))}e.dateSelection(t)},e.close=function(){e.isOpen=!1,t[0].focus()},e.$watch("isOpen",function(n){n?(e.position=b?s.offset(t):s.position(t),e.position.top=e.position.top+t.prop("offsetHeight"),d(function(){w&&e.$broadcast("uib:datepicker.focus"),o.bind("click",g)},0,!1)):o.unbind("click",g)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(e,t,n,r){var i=r[0],o=r[1];o.init(i)}}}).directive("uibDatepickerPopupWrap",function(){return{replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/popup.html"}}}),angular.module("ui.bootstrap.datepicker").value("$datepickerSuppressWarning",!1).controller("DatepickerController",["$scope","$attrs","$log","$datepickerSuppressWarning","$controller",function(e,t,n,r,i){return r||n.warn("DatepickerController is now deprecated. Use UibDatepickerController instead."),i("UibDatepickerController",{$scope:e,$attrs:t})}]).directive("datepicker",["$log","$datepickerSuppressWarning",function(e,t){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","^ngModel"],controller:"DatepickerController",controllerAs:"datepicker",link:function(n,r,i,o){t||e.warn("datepicker is now deprecated. Use uib-datepicker instead.");var a=o[0],s=o[1];a.init(s)}}}]).directive("daypicker",["$log","$datepickerSuppressWarning",function(e,t){return{replace:!0,templateUrl:"template/datepicker/day.html",require:["^datepicker","daypicker"],controller:"UibDaypickerController",link:function(n,r,i,o){t||e.warn("daypicker is now deprecated. Use uib-daypicker instead.");var a=o[0],s=o[1];s.init(a)}}}]).directive("monthpicker",["$log","$datepickerSuppressWarning",function(e,t){return{replace:!0,templateUrl:"template/datepicker/month.html",require:["^datepicker","monthpicker"],controller:"UibMonthpickerController",link:function(n,r,i,o){t||e.warn("monthpicker is now deprecated. Use uib-monthpicker instead.");var a=o[0],s=o[1];s.init(a)}}}]).directive("yearpicker",["$log","$datepickerSuppressWarning",function(e,t){return{replace:!0,templateUrl:"template/datepicker/year.html",require:["^datepicker","yearpicker"],controller:"UibYearpickerController",link:function(n,r,i,o){t||e.warn("yearpicker is now deprecated. Use uib-yearpicker instead.");var a=o[0];angular.extend(a,o[1]),a.yearpickerInit(),a.refreshView()}}}]).directive("datepickerPopup",["$log","$datepickerSuppressWarning",function(e,t){return{require:["ngModel","datepickerPopup"],controller:"UibDatepickerPopupController",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(n,r,i,o){t||e.warn("datepicker-popup is now deprecated. Use uib-datepicker-popup instead.");var a=o[0],s=o[1];s.init(a)}}}]).directive("datepickerPopupWrap",["$log","$datepickerSuppressWarning",function(e,t){return{replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/popup.html"},link:function(){t||e.warn("datepicker-popup-wrap is now deprecated. Use uib-datepicker-popup-wrap instead.")}}}]),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(e,t){var n=null;this.open=function(t){n||(e.bind("click",r),e.bind("keydown",i)),n&&n!==t&&(n.isOpen=!1),n=t},this.close=function(t){n===t&&(n=null,e.unbind("click",r),e.unbind("keydown",i))};var r=function(e){if(n&&(!e||"disabled"!==n.getAutoClose())){var r=n.getToggleElement();if(!(e&&r&&r[0].contains(e.target))){var i=n.getDropdownElement();e&&"outsideClick"===n.getAutoClose()&&i&&i[0].contains(e.target)||(n.isOpen=!1,t.$$phase||n.$apply())}}},i=function(e){27===e.which?(n.focusToggleElement(),r()):n.isKeynavEnabled()&&/(38|40)/.test(e.which)&&n.isOpen&&(e.preventDefault(),e.stopPropagation(),n.focusDropdownEntry(e.which))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(e,t,n,r,i,o,a,s,l,u,c){var d,h,p=this,f=e.$new(),g=i.openClass,m=angular.noop,v=n.onToggle?r(n.onToggle):angular.noop,y=!1,b=!1;t.addClass("dropdown"),this.init=function(){n.isOpen&&(h=r(n.isOpen),m=h.assign,e.$watch(h,function(e){f.isOpen=!!e})),y=angular.isDefined(n.dropdownAppendToBody),b=angular.isDefined(n.uibKeyboardNav),y&&p.dropdownMenu&&(l.find("body").append(p.dropdownMenu),t.on("$destroy",function(){p.dropdownMenu.remove()}))},this.toggle=function(e){return f.isOpen=arguments.length?!!e:!f.isOpen},this.isOpen=function(){return f.isOpen},f.getToggleElement=function(){return p.toggleElement},f.getAutoClose=function(){return n.autoClose||"always"},f.getElement=function(){return t},f.isKeynavEnabled=function(){return b},f.focusDropdownEntry=function(e){var n=p.dropdownMenu?angular.element(p.dropdownMenu).find("a"):angular.element(t).find("ul").eq(0).find("a");switch(e){case 40:angular.isNumber(p.selectedOption)?p.selectedOption=p.selectedOption===n.length-1?p.selectedOption:p.selectedOption+1:p.selectedOption=0;break;case 38:angular.isNumber(p.selectedOption)?p.selectedOption=0===p.selectedOption?0:p.selectedOption-1:p.selectedOption=n.length-1}n[p.selectedOption].focus()},f.getDropdownElement=function(){return p.dropdownMenu},f.focusToggleElement=function(){p.toggleElement&&p.toggleElement[0].focus()},f.$watch("isOpen",function(n,r){if(y&&p.dropdownMenu){var i=s.positionElements(t,p.dropdownMenu,"bottom-left",!0),l={top:i.top+"px",display:n?"block":"none"},h=p.dropdownMenu.hasClass("dropdown-menu-right");h?(l.left="auto",l.right=window.innerWidth-(i.left+t.prop("offsetWidth"))+"px"):(l.left=i.left+"px",l.right="auto"),p.dropdownMenu.css(l)}if(a[n?"addClass":"removeClass"](t,g).then(function(){angular.isDefined(n)&&n!==r&&v(e,{open:!!n})}),n)p.dropdownMenuTemplateUrl&&c(p.dropdownMenuTemplateUrl).then(function(e){d=f.$new(),u(e.trim())(d,function(e){var t=e;p.dropdownMenu.replaceWith(t),p.dropdownMenu=t})}),f.focusToggleElement(),o.open(f);else{if(p.dropdownMenuTemplateUrl){d&&d.$destroy();var b=angular.element('<ul class="dropdown-menu"></ul>');p.dropdownMenu.replaceWith(b),p.dropdownMenu=b}o.close(f),p.selectedOption=null}angular.isFunction(m)&&m(e,n)}),e.$on("$locationChangeSuccess",function(){"disabled"!==f.getAutoClose()&&(f.isOpen=!1)});var w=e.$on("$destroy",function(){f.$destroy()});f.$on("$destroy",w)}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(e,t,n,r){r.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"AC",require:"?^uibDropdown",link:function(e,t,n,r){if(r&&!angular.isDefined(n.dropdownNested)){t.addClass("dropdown-menu");var i=n.templateUrl;i&&(r.dropdownMenuTemplateUrl=i),r.dropdownMenu||(r.dropdownMenu=t)}}}}).directive("uibKeyboardNav",function(){return{restrict:"A",require:"?^uibDropdown",link:function(e,t,n,r){t.bind("keydown",function(e){if(-1!==[38,40].indexOf(e.which)){e.preventDefault(),e.stopPropagation();var t=r.dropdownMenu.find("a");switch(e.which){case 40:angular.isNumber(r.selectedOption)?r.selectedOption=r.selectedOption===t.length-1?r.selectedOption:r.selectedOption+1:r.selectedOption=0;break;case 38:angular.isNumber(r.selectedOption)?r.selectedOption=0===r.selectedOption?0:r.selectedOption-1:r.selectedOption=t.length-1}t[r.selectedOption].focus()}})}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(e,t,n,r){if(r){t.addClass("dropdown-toggle"),r.toggleElement=t;var i=function(i){i.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){r.toggle()})};t.bind("click",i),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(r.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",i)})}}}}),angular.module("ui.bootstrap.dropdown").value("$dropdownSuppressWarning",!1).service("dropdownService",["$log","$dropdownSuppressWarning","uibDropdownService",function(e,t,n){t||e.warn("dropdownService is now deprecated. Use uibDropdownService instead."),angular.extend(this,n)}]).controller("DropdownController",["$scope","$element","$attrs","$log","$dropdownSuppressWarning","$controller",function(e,t,n,r,i,o){return i||r.warn("DropdownController is now deprecated. Use UibDropdownController instead."),o("UibDropdownController",{$scope:e,$element:t,$attrs:n})}]).directive("dropdown",["$log","$dropdownSuppressWarning",function(e,t){return{controller:"DropdownController",link:function(n,r,i,o){t||e.warn("dropdown is now deprecated. Use uib-dropdown instead."),o.init()}}}]).directive("dropdownMenu",["$log","$dropdownSuppressWarning",function(e,t){return{restrict:"AC",require:"?^dropdown",link:function(n,r,i,o){if(o){t||e.warn("dropdown-menu is now deprecated. Use uib-dropdown-menu instead."),r.addClass("dropdown-menu");var a=i.templateUrl;a&&(o.dropdownMenuTemplateUrl=a),o.dropdownMenu||(o.dropdownMenu=r)}}}}]).directive("keyboardNav",["$log","$dropdownSuppressWarning",function(e,t){return{restrict:"A",require:"?^dropdown",link:function(n,r,i,o){t||e.warn("keyboard-nav is now deprecated. Use uib-keyboard-nav instead."),r.bind("keydown",function(e){if(-1!==[38,40].indexOf(e.which)){e.preventDefault(),e.stopPropagation();var t=o.dropdownMenu.find("a");switch(e.which){case 40:angular.isNumber(o.selectedOption)?o.selectedOption=o.selectedOption===t.length-1?o.selectedOption:o.selectedOption+1:o.selectedOption=0;break;case 38:angular.isNumber(o.selectedOption)?o.selectedOption=0===o.selectedOption?0:o.selectedOption-1:o.selectedOption=t.length-1}t[o.selectedOption].focus()}})}}}]).directive("dropdownToggle",["$log","$dropdownSuppressWarning",function(e,t){return{require:"?^dropdown",link:function(n,r,i,o){if(t||e.warn("dropdown-toggle is now deprecated. Use uib-dropdown-toggle instead."),o){r.addClass("dropdown-toggle"),o.toggleElement=r;var a=function(e){e.preventDefault(),r.hasClass("disabled")||i.disabled||n.$apply(function(){o.toggle()})};r.bind("click",a),r.attr({"aria-haspopup":!0,"aria-expanded":!1}),n.$watch(o.isOpen,function(e){r.attr("aria-expanded",!!e)}),n.$on("$destroy",function(){r.unbind("click",a)})}}}}]),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,r=0;r<e.length;r++)if(t==e[r].key){n=r;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap"]).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var r=e[t];if(r){var i=r.indexOf(n);-1!==i&&r.splice(i,1),r.length||delete e[t]}}}}}}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(e,t,n){function r(t,r,o){r.addClass("modal-backdrop"),o.modalInClass&&(i?i(r,{addClass:o.modalInClass}).start():e.addClass(r,o.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(t,n){var a=n();i?i(r,{removeClass:o.modalInClass}).start().then(a):e.removeClass(r,o.modalInClass).then(a)}))}var i=null;return t.has("$animateCss")&&(i=t.get("$animateCss")),{replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),r}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animate","$injector",function(e,t,n,r){var i=null;return r.has("$animateCss")&&(i=r.get("$animateCss")),{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(r,o,a){o.addClass(a.windowClass||""),o.addClass(a.windowTopClass||""),r.size=a.size,r.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},o.on("click",r.close),r.$isRendered=!0;var s=t.defer();a.$observe("modalRender",function(e){"true"==e&&s.resolve()}),s.promise.then(function(){var s=null;a.modalInClass&&(s=i?i(o,{addClass:a.modalInClass}).start():n.addClass(o,a.modalInClass),r.$on(e.NOW_CLOSING_EVENT,function(e,t){var r=t();i?i(o,{removeClass:a.modalInClass}).start().then(r):n.removeClass(o,a.modalInClass).then(r)})),t.when(s).then(function(){var e=o[0].querySelectorAll("[autofocus]");e.length?e[0].focus():o[0].focus()});var l=e.getTop();l&&e.modalRendered(l.key)})}}}]).directive("uibModalAnimationClass",[function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}]).directive("uibModalTransclude",function(){return{link:function(e,t,n,r,i){i(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$uibModalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap",function(e,t,n,r,i,o,a,s,l){function u(){for(var e=-1,t=w.keys(),n=0;n<t.length;n++)w.get(t[n]).value.backdrop&&(e=n);return e}function c(e,t){var r=n.find("body").eq(0),i=w.get(e).value;w.remove(e),p(i.modalDomEl,i.modalScope,function(){var t=i.openedClass||b;$.remove(t,e),r.toggleClass(t,$.hasKey(t)),d(!0)}),h(),t&&t.focus?t.focus():r.focus()}function d(e){var t;w.length()>0&&(t=w.top().value,t.modalDomEl.toggleClass(t.windowTopClass||"",e))}function h(){if(m&&-1==u()){var e=v;p(m,v,function(){e=null}),m=void 0,v=void 0}}function p(t,n,r){function i(){i.done||(i.done=!0,g?g(t,{event:"leave"}).start().then(function(){t.remove()}):e.leave(t),n.$destroy(),r&&r())}var a,s=null,l=function(){return a||(a=o.defer(),s=a.promise),function(){a.resolve()}};return n.$broadcast(x.NOW_CLOSING_EVENT,l),o.when(s).then(i)}function f(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}var g=null;a.has("$animateCss")&&(g=a.get("$animateCss"));var m,v,y,b="modal-open",w=l.createNew(),$=s.createNew(),x={NOW_CLOSING_EVENT:"modal.stack.now-closing"},k=0,C="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return i.$watch(u,function(e){v&&(v.index=e)}),n.bind("keydown",function(e){if(e.isDefaultPrevented())return e;var t=w.top();if(t&&t.value.keyboard)switch(e.which){case 27:e.preventDefault(),i.$apply(function(){x.dismiss(t.key,"escape key press")});break;case 9:x.loadFocusElementList(t);var n=!1;e.shiftKey?x.isFocusInFirstItem(e)&&(n=x.focusLastFocusableElement()):x.isFocusInLastItem(e)&&(n=x.focusFirstFocusableElement()),n&&(e.preventDefault(),e.stopPropagation())}}),x.open=function(e,t){var o=n[0].activeElement,a=t.openedClass||b;d(!1),w.add(e,{deferred:t.deferred,renderDeferred:t.renderDeferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard,openedClass:t.openedClass,windowTopClass:t.windowTopClass}),$.put(a,e);var s=n.find("body").eq(0),l=u();if(l>=0&&!m){v=i.$new(!0),v.index=l;var c=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>');c.attr("backdrop-class",t.backdropClass),t.animation&&c.attr("modal-animation","true"),m=r(c)(v),s.append(m)}var h=angular.element('<div uib-modal-window="modal-window"></div>');h.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,"window-top-class":t.windowTopClass,size:t.size,index:w.length()-1,animate:"animate"}).html(t.content),t.animation&&h.attr("modal-animation","true");var p=r(h)(t.scope);w.top().value.modalDomEl=p,w.top().value.modalOpener=o,s.append(p),s.addClass(a),x.clearFocusListCache()},x.close=function(e,t){var n=w.get(e);return n&&f(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),c(e,n.value.modalOpener),!0):!n},x.dismiss=function(e,t){var n=w.get(e);return n&&f(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),c(e,n.value.modalOpener),!0):!n},x.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},x.getTop=function(){return w.top()},x.modalRendered=function(e){var t=w.get(e);t&&t.value.renderDeferred.resolve()},x.focusFirstFocusableElement=function(){return y.length>0?(y[0].focus(),!0):!1},x.focusLastFocusableElement=function(){return y.length>0?(y[y.length-1].focus(),!0):!1},x.isFocusInFirstItem=function(e){return y.length>0?(e.target||e.srcElement)==y[0]:!1},x.isFocusInLastItem=function(e){return y.length>0?(e.target||e.srcElement)==y[y.length-1]:!1},x.clearFocusListCache=function(){y=[],k=0},x.loadFocusElementList=function(e){if((void 0===y||!y.length0)&&e){var t=e.value.modalDomEl;t&&t.length&&(y=t[0].querySelectorAll(C))}},x}]).provider("$uibModal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$uibModalStack",function(t,n,r,i,o,a){function s(e){return e.template?r.when(e.template):i(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}function l(e){var n=[];return angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?n.push(r.when(t.invoke(e))):angular.isString(e)?n.push(r.when(t.get(e))):n.push(r.when(e))}),n}var u={},c=null;return u.getPromiseChain=function(){return c},u.open=function(t){var i=r.defer(),u=r.defer(),d=r.defer(),h={result:i.promise,opened:u.promise,rendered:d.promise,close:function(e){return a.close(h,e)},dismiss:function(e){return a.dismiss(h,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var p,f=r.all([s(t)].concat(l(t.resolve)));return p=c=r.all([c]).then(function(){return f},function(){return f}).then(function(e){var r=(t.scope||n).$new();r.$close=h.close,r.$dismiss=h.dismiss,r.$on("$destroy",function(){r.$$uibDestructionScheduled||r.$dismiss("$uibUnscheduledDestruction")});var s,l={},c=1;t.controller&&(l.$scope=r,l.$modalInstance=h,angular.forEach(t.resolve,function(t,n){l[n]=e[c++]}),s=o(t.controller,l),t.controllerAs&&(t.bindToController&&angular.extend(s,r),r[t.controllerAs]=s)),a.open(h,{scope:r,deferred:i,renderDeferred:d,content:e[0],animation:t.animation,backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowTopClass:t.windowTopClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size,openedClass:t.openedClass}),u.resolve(!0)},function(e){u.reject(e),i.reject(e)})["finally"](function(){c===p&&(c=null)}),h},u}]};return e}),angular.module("ui.bootstrap.modal").value("$modalSuppressWarning",!1).directive("modalBackdrop",["$animate","$injector","$modalStack","$log","$modalSuppressWarning",function(e,t,n,r,i){function o(t,o,s){i||r.warn("modal-backdrop is now deprecated. Use uib-modal-backdrop instead."),o.addClass("modal-backdrop"),s.modalInClass&&(a?a(o,{addClass:s.modalInClass}).start():e.addClass(o,s.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(t,n){var r=n();a?a(o,{removeClass:s.modalInClass}).start().then(r):e.removeClass(o,s.modalInClass).then(r)}))}var a=null;return t.has("$animateCss")&&(a=t.get("$animateCss")),{replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),o}}}]).directive("modalWindow",["$modalStack","$q","$animate","$injector","$log","$modalSuppressWarning",function(e,t,n,r,i,o){var a=null;return r.has("$animateCss")&&(a=r.get("$animateCss")),{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(r,s,l){o||i.warn("modal-window is now deprecated. Use uib-modal-window instead."),s.addClass(l.windowClass||""),s.addClass(l.windowTopClass||""),r.size=l.size,r.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},s.on("click",r.close),r.$isRendered=!0;var u=t.defer();l.$observe("modalRender",function(e){"true"==e&&u.resolve()}),u.promise.then(function(){var i=null;l.modalInClass&&(i=a?a(s,{addClass:l.modalInClass}).start():n.addClass(s,l.modalInClass),r.$on(e.NOW_CLOSING_EVENT,function(e,t){var r=t();a?a(s,{removeClass:l.modalInClass}).start().then(r):n.removeClass(s,l.modalInClass).then(r)})),t.when(i).then(function(){var e=s[0].querySelectorAll("[autofocus]");e.length?e[0].focus():s[0].focus()});var o=e.getTop();o&&e.modalRendered(o.key)})}}}]).directive("modalAnimationClass",["$log","$modalSuppressWarning",function(e,t){return{compile:function(n,r){t||e.warn("modal-animation-class is now deprecated. Use uib-modal-animation-class instead."),r.modalAnimation&&n.addClass(r.modalAnimationClass)}}}]).directive("modalTransclude",["$log","$modalSuppressWarning",function(e,t){return{link:function(n,r,i,o,a){t||e.warn("modal-transclude is now deprecated. Use uib-modal-transclude instead."),a(n.$parent,function(e){r.empty(),r.append(e)})}}}]).service("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap","$uibModalStack","$log","$modalSuppressWarning",function(e,t,n,r,i,o,a,s,l,u,c,d){d||c.warn("$modalStack is now deprecated. Use $uibModalStack instead."),angular.extend(this,u)}]).provider("$modal",["$uibModalProvider",function(e){angular.extend(this,e),this.$get=["$injector","$log","$modalSuppressWarning",function(t,n,r){return r||n.warn("$modal is now deprecated. Use $uibModal instead."),t.invoke(e.$get)}]}]),angular.module("ui.bootstrap.pagination",[]).controller("UibPaginationController",["$scope","$attrs","$parse",function(e,t,n){var r=this,i={$setViewValue:angular.noop},o=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(a,s){i=a,this.config=s,i.$render=function(){r.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){r.itemsPerPage=parseInt(t,10),e.totalPages=r.calculateTotalPages()}):this.itemsPerPage=s.itemsPerPage,e.$watch("totalItems",function(){e.totalPages=r.calculateTotalPages()}),e.$watch("totalPages",function(t){o(e.$parent,t),e.page>t?e.selectPage(t):i.$render()})},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(i.$viewValue,10)||1},e.selectPage=function(t,n){n&&n.preventDefault();var r=!e.ngDisabled||!n;r&&e.page!==t&&t>0&&t<=e.totalPages&&(n&&n.target&&n.target.blur(),i.$setViewValue(t),i.$render())},e.getText=function(t){return e[t+"Text"]||r.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("uibPagination",["$parse","uibPaginationConfig",function(e,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(n,r,i,o){function a(e,t,n){return{number:e,text:t,active:n}}function s(e,t){var n=[],r=1,i=t,o=angular.isDefined(c)&&t>c;o&&(d?(r=Math.max(e-Math.floor(c/2),1),i=r+c-1,i>t&&(i=t,r=i-c+1)):(r=(Math.ceil(e/c)-1)*c+1,i=Math.min(r+c-1,t)));for(var s=r;i>=s;s++){var l=a(s,s,s===e);n.push(l)}if(o&&!d){if(r>1){var u=a(r-1,"...",!1);n.unshift(u)}if(t>i){var h=a(i+1,"...",!1);n.push(h)}}return n}var l=o[0],u=o[1];if(u){var c=angular.isDefined(i.maxSize)?n.$parent.$eval(i.maxSize):t.maxSize,d=angular.isDefined(i.rotate)?n.$parent.$eval(i.rotate):t.rotate;n.boundaryLinks=angular.isDefined(i.boundaryLinks)?n.$parent.$eval(i.boundaryLinks):t.boundaryLinks,n.directionLinks=angular.isDefined(i.directionLinks)?n.$parent.$eval(i.directionLinks):t.directionLinks,l.init(u,t),i.maxSize&&n.$parent.$watch(e(i.maxSize),function(e){c=parseInt(e,10),l.render()});var h=l.render;l.render=function(){h(),n.page>0&&n.page<=n.totalPages&&(n.pages=s(n.page,n.totalPages))}}}}}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("uibPager",["uibPagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(t,n,r,i){var o=i[0],a=i[1];a&&(t.align=angular.isDefined(r.align)?t.$parent.$eval(r.align):e.align,o.init(a,e))}}}]),angular.module("ui.bootstrap.pagination").value("$paginationSuppressWarning",!1).controller("PaginationController",["$scope","$attrs","$parse","$controller","$element","$log","$paginationSuppressWarning",function(e,t,n,r,i,o,a){return a||o.warn("PaginationController is now deprecated. Use UibPaginationController instead."),r("UibPaginationController",{$scope:e,$element:i,$attrs:t})}]).directive("pagination",["$parse","uibPaginationConfig","$log","$paginationSuppressWarning",function(e,t,n,r){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["pagination","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(i,o,a,s){function l(e,t,n){return{number:e,text:t,active:n}}function u(e,t){var n=[],r=1,i=t,o=angular.isDefined(h)&&t>h;o&&(p?(r=Math.max(e-Math.floor(h/2),1),i=r+h-1,i>t&&(i=t,r=i-h+1)):(r=(Math.ceil(e/h)-1)*h+1,i=Math.min(r+h-1,t)));for(var a=r;i>=a;a++){var s=l(a,a,a===e);n.push(s)}if(o&&!p){if(r>1){var u=l(r-1,"...",!1);n.unshift(u)}if(t>i){var c=l(i+1,"...",!1);n.push(c)}}return n}r||n.warn("pagination is now deprecated. Use uib-pagination instead.");var c=s[0],d=s[1];if(d){var h=angular.isDefined(a.maxSize)?i.$parent.$eval(a.maxSize):t.maxSize,p=angular.isDefined(a.rotate)?i.$parent.$eval(a.rotate):t.rotate;i.boundaryLinks=angular.isDefined(a.boundaryLinks)?i.$parent.$eval(a.boundaryLinks):t.boundaryLinks,i.directionLinks=angular.isDefined(a.directionLinks)?i.$parent.$eval(a.directionLinks):t.directionLinks,c.init(d,t),a.maxSize&&i.$parent.$watch(e(a.maxSize),function(e){h=parseInt(e,10),c.render()});var f=c.render;c.render=function(){f(),i.page>0&&i.page<=i.totalPages&&(i.pages=u(i.page,i.totalPages))}}}}}]).directive("pager",["uibPagerConfig","$log","$paginationSuppressWarning",function(e,t,n){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["pager","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(r,i,o,a){n||t.warn("pager is now deprecated. Use uib-pager instead.");var s=a[0],l=a[1];l&&(r.align=angular.isDefined(o.align)?r.$parent.$eval(o.align):e.align,s.init(l,e))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0,popupCloseDelay:500,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",focus:"blur",none:""},r={};this.options=function(e){angular.extend(r,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(i,o,a,s,l,u,c,d,h){var p=h.createNew();return s.on("keypress",function(e){if(27===e.which){var t=p.top();t&&(t.value.close(),p.removeTop(),t=null)}}),function(i,c,h,f){function g(e){var t=(e||f.trigger||h).split(" "),r=t.map(function(e){return n[e]||e});return{show:t,hide:r}}f=angular.extend({},t,r,f);var m=e(i),v=u.startSymbol(),y=u.endSymbol(),b="<div "+m+'-popup title="'+v+"title"+y+'" '+(f.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+y+'" ')+'placement="'+v+"placement"+y+'" popup-class="'+v+"popupClass"+y+'" animation="animation" is-open="isOpen"origin-scope="origScope" style="visibility: hidden; display: block;"></div>';return{compile:function(e,t){var n=o(b);return function(e,t,r,o){function u(){N.isOpen?m():h()}function h(){(!P||e.$eval(r[c+"Enable"]))&&($(),N.popupDelay?E||(E=a(v,N.popupDelay,!1)):v())}function m(){y()}function v(){return E&&(a.cancel(E),E=null),T&&(a.cancel(T),T=null),N.content?(b(),void N.$evalAsync(function(){N.isOpen=!0,I&&angular.isFunction(I.assign)&&I.assign(N.origScope,N.isOpen),M()})):angular.noop}function y(){N&&(N.$evalAsync(function(){N.isOpen=!1,I&&angular.isFunction(I.assign)&&I.assign(N.origScope,N.isOpen)}),a.cancel(E),E=null,a.cancel(S),S=null,N.animation?T||(T=a(w,N.popupCloseDelay)):w())}function b(){_||(A=N.$new(),_=n(A,function(e){D?s.find("body").append(e):t.after(e)}),x())}function w(){k(),T=null,_&&(_.remove(),_=null),A&&(A.$destroy(),A=null)}function $(){N.title=r[c+"Title"],F?N.content=F(e):N.content=r[i],N.popupClass=r[c+"Class"],N.placement=angular.isDefined(r[c+"Placement"])?r[c+"Placement"]:f.placement;var t=parseInt(r[c+"PopupDelay"],10),n=parseInt(r[c+"PopupCloseDelay"],10);N.popupDelay=isNaN(t)?f.popupDelay:t,N.popupCloseDelay=isNaN(n)?f.popupCloseDelay:n}function x(){R.length=0,F?(R.push(e.$watch(F,function(e){N.content=e,!e&&N.isOpen&&y()})),R.push(A.$watch(function(){j||(j=!0,A.$$postDigest(function(){j=!1,N&&N.isOpen&&M()}))}))):R.push(r.$observe(i,function(e){N.content=e,!e&&N.isOpen?y():M()})),R.push(r.$observe(c+"Title",function(e){N.title=e,N.isOpen&&M()})),R.push(r.$observe(c+"Placement",function(e){N.placement=e?e:f.placement,N.isOpen&&M()}))}function k(){
R.length&&(angular.forEach(R,function(e){e()}),R.length=0)}function C(){var e=r[c+"Trigger"];U(),O=g(e),"none"!==O.show&&O.show.forEach(function(e,n){e===O.hide[n]?t[0].addEventListener(e,u):e&&(t[0].addEventListener(e,h),O.hide[n].split(" ").forEach(function(e){t[0].addEventListener(e,m)})),t.on("keypress",function(e){27===e.which&&m()})})}var _,A,T,E,S,D=angular.isDefined(f.appendToBody)?f.appendToBody:!1,O=g(void 0),P=angular.isDefined(r[c+"Enable"]),N=e.$new(!0),j=!1,I=angular.isDefined(r[c+"IsOpen"])?d(r[c+"IsOpen"]):!1,F=f.useContentExp?d(r[i]):!1,R=[],M=function(){_&&_.html()&&(S||(S=a(function(){_.css({top:0,left:0});var e=l.positionElements(t,_,N.placement,D);e.top+="px",e.left+="px",e.visibility="visible",_.css(e),S=null},0,!1)))};N.origScope=e,N.isOpen=!1,p.add(N,{close:y}),N.contentExp=function(){return N.content},r.$observe("disabled",function(e){E&&e&&(a.cancel(E),E=null),e&&N.isOpen&&y()}),I&&e.$watch(I,function(e){!e===N.isOpen&&u()});var U=function(){O.show.forEach(function(e){t.unbind(e,h)}),O.hide.forEach(function(e){e.split(" ").forEach(function(e){t[0].removeEventListener(e,m)})})};C();var q=e.$eval(r[c+"Animation"]);N.animation=angular.isDefined(q)?!!q:f.animation;var L=e.$eval(r[c+"AppendToBody"]);D=angular.isDefined(L)?L:D,D&&e.$on("$locationChangeSuccess",function(){N.isOpen&&y()}),e.$on("$destroy",function(){a.cancel(T),a.cancel(E),a.cancel(S),U(),w(),N=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,r){return{link:function(i,o,a){var s,l,u,c=i.$eval(a.tooltipTemplateTranscludeScope),d=0,h=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),u&&(e.leave(u).then(function(){l=null}),l=u,u=null)};i.$watch(t.parseAsResourceUrl(a.uibTooltipTemplateTransclude),function(t){var a=++d;t?(r(t,!0).then(function(r){if(a===d){var i=c.$new(),l=r,p=n(l)(i,function(t){h(),e.enter(t,o)});s=i,u=p,s.$emit("$includeContentLoaded",t)}},function(){a===d&&(h(),i.$emit("$includeContentError",t))}),i.$emit("$includeContentRequested",t)):h()}),i.$on("$destroy",h)}}}]).directive("uibTooltipClasses",function(){return{restrict:"A",link:function(e,t,n){e.placement&&t.addClass(e.placement),e.popupClass&&t.addClass(e.popupClass),e.animation()&&t.addClass(n.tooltipAnimationClass)}}}).directive("uibTooltipPopup",function(){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html",link:function(e,t){t.addClass("tooltip")}}}).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html",link:function(e,t){t.addClass("tooltip")}}}).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html",link:function(e,t){t.addClass("tooltip")}}}).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.tooltip").value("$tooltipSuppressWarning",!1).provider("$tooltip",["$uibTooltipProvider",function(e){angular.extend(this,e),this.$get=["$log","$tooltipSuppressWarning","$injector",function(t,n,r){return n||t.warn("$tooltip is now deprecated. Use $uibTooltip instead."),r.invoke(e.$get)}]}]).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest","$log","$tooltipSuppressWarning",function(e,t,n,r,i,o){return{link:function(a,s,l){o||i.warn("tooltip-template-transclude is now deprecated. Use uib-tooltip-template-transclude instead.");var u,c,d,h=a.$eval(l.tooltipTemplateTranscludeScope),p=0,f=function(){c&&(c.remove(),c=null),u&&(u.$destroy(),u=null),d&&(e.leave(d).then(function(){c=null}),c=d,d=null)};a.$watch(t.parseAsResourceUrl(l.tooltipTemplateTransclude),function(t){var i=++p;t?(r(t,!0).then(function(r){if(i===p){var o=h.$new(),a=r,l=n(a)(o,function(t){f(),e.enter(t,s)});u=o,d=l,u.$emit("$includeContentLoaded",t)}},function(){i===p&&(f(),a.$emit("$includeContentError",t))}),a.$emit("$includeContentRequested",t)):f()}),a.$on("$destroy",f)}}}]).directive("tooltipClasses",["$log","$tooltipSuppressWarning",function(e,t){return{restrict:"A",link:function(n,r,i){t||e.warn("tooltip-classes is now deprecated. Use uib-tooltip-classes instead."),n.placement&&r.addClass(n.placement),n.popupClass&&r.addClass(n.popupClass),n.animation()&&r.addClass(i.tooltipAnimationClass)}}}]).directive("tooltipPopup",["$log","$tooltipSuppressWarning",function(e,t){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html",link:function(n,r){t||e.warn("tooltip-popup is now deprecated. Use uib-tooltip-popup instead."),r.addClass("tooltip")}}}]).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",["$log","$tooltipSuppressWarning",function(e,t){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html",link:function(n,r){t||e.warn("tooltip-template-popup is now deprecated. Use uib-tooltip-template-popup instead."),r.addClass("tooltip")}}}]).directive("tooltipTemplate",["$tooltip",function(e){return e("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",["$log","$tooltipSuppressWarning",function(e,t){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html",link:function(n,r){t||e.warn("tooltip-html-popup is now deprecated. Use uib-tooltip-html-popup instead."),r.addClass("tooltip")}}}]).directive("tooltipHtml",["$tooltip",function(e){return e("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html",link:function(e,t){t.addClass("popover")}}}).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html",link:function(e,t){t.addClass("popover")}}}).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html",link:function(e,t){t.addClass("popover")}}}).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click")}]),angular.module("ui.bootstrap.popover").value("$popoverSuppressWarning",!1).directive("popoverTemplatePopup",["$log","$popoverSuppressWarning",function(e,t){return{replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html",link:function(n,r){t||e.warn("popover-template-popup is now deprecated. Use uib-popover-template-popup instead."),r.addClass("popover")}}}]).directive("popoverTemplate",["$tooltip",function(e){return e("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverHtmlPopup",["$log","$popoverSuppressWarning",function(e,t){return{replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html",link:function(n,r){t||e.warn("popover-html-popup is now deprecated. Use uib-popover-html-popup instead."),r.addClass("popover")}}}]).directive("popoverHtml",["$tooltip",function(e){return e("popoverHtml","popover","click",{useContentExp:!0})}]).directive("popoverPopup",["$log","$popoverSuppressWarning",function(e,t){return{replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html",link:function(n,r){t||e.warn("popover-popup is now deprecated. Use uib-popover-popup instead."),r.addClass("popover")}}}]).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(e,t,n){var r=this,i=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(e.max)?e.max:n.max,this.addBar=function(t,n,o){i||n.css({transition:"none"}),this.bars.push(t),t.max=e.max,t.title=o&&angular.isDefined(o.title)?o.title:"progressbar",t.$watch("value",function(e){t.recalculatePercentage()}),t.recalculatePercentage=function(){t.percent=+(100*t.value/t.max).toFixed(2);var e=r.bars.reduce(function(e,t){return e+t.percent},0);e>100&&(t.percent-=e-100)},t.$on("$destroy",function(){n=null,r.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)},e.$watch("max",function(t){r.bars.forEach(function(t){t.max=e.max,t.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,r){r.addBar(e,t,n)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,r){r.addBar(e,angular.element(t.children()[0]),{title:n.title})}}}),angular.module("ui.bootstrap.progressbar").value("$progressSuppressWarning",!1).controller("ProgressController",["$scope","$attrs","$controller","$log","$progressSuppressWarning",function(e,t,n,r,i){return i||r.warn("ProgressController is now deprecated. Use UibProgressController instead."),n("UibProgressController",{$scope:e,$attrs:t})}]).directive("progress",["$log","$progressSuppressWarning",function(e,t){return{replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{max:"=?",title:"@?"},templateUrl:"template/progressbar/progress.html",link:function(){t||e.warn("progress is now deprecated. Use uib-progress instead.")}}}]).directive("bar",["$log","$progressSuppressWarning",function(e,t){return{replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(n,r,i,o){t||e.warn("bar is now deprecated. Use uib-bar instead."),o.addBar(n,r)}}}]).directive("progressbar",["$log","$progressSuppressWarning",function(e,t){return{replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(n,r,i,o){t||e.warn("progressbar is now deprecated. Use uib-progressbar instead."),o.addBar(n,angular.element(r.children()[0]),{title:i.title})}}}]),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(e,t,n){var r={$setViewValue:angular.noop};this.init=function(i){r=i,r.$render=this.render,r.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff;var o=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):n.titles;this.titles=angular.isArray(o)&&o.length>0?o:n.titles;var a=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(a)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;n>t;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){!e.readonly&&t>=0&&t<=e.range.length&&(r.$setViewValue(r.$viewValue===t?0:t),r.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=r.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=r.$viewValue}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,r){var i=r[0],o=r[1];i.init(o)}}}),angular.module("ui.bootstrap.rating").value("$ratingSuppressWarning",!1).controller("RatingController",["$scope","$attrs","$controller","$log","$ratingSuppressWarning",function(e,t,n,r,i){return i||r.warn("RatingController is now deprecated. Use UibRatingController instead."),n("UibRatingController",{$scope:e,$attrs:t})}]).directive("rating",["$log","$ratingSuppressWarning",function(e,t){return{require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(n,r,i,o){t||e.warn("rating is now deprecated. Use uib-rating instead.");var a=o[0],s=o[1];a.init(s)}}}]),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(e){var t=this,n=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(n,function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect(),e.selectCalled=!1)}),e.active=!0,e.selectCalled||(e.onSelect(),e.selectCalled=!0)},t.addTab=function(e){n.push(e),1===n.length&&e.active!==!1?e.active=!0:e.active?t.select(e):e.active=!1},t.removeTab=function(e){var i=n.indexOf(e);if(e.active&&n.length>1&&!r){var o=i==n.length-1?i-1:i+1;t.select(n[o])}n.splice(i,1)};var r;e.$on("$destroy",function(){r=!0})}]).directive("uibTabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"UibTabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=angular.isDefined(n.vertical)?e.$parent.$eval(n.vertical):!1,e.justified=angular.isDefined(n.justified)?e.$parent.$eval(n.justified):!1}}}).directive("uibTab",["$parse",function(e){return{require:"^uibTabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(t,n,r,i,o){t.$watch("active",function(e){e&&i.select(t)}),t.disabled=!1,r.disable&&t.$parent.$watch(e(r.disable),function(e){t.disabled=!!e}),t.select=function(){t.disabled||(t.active=!0)},i.addTab(t),t.$on("$destroy",function(){i.removeTab(t)}),t.$transcludeFn=o}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:["?^uibTab","?^tab"],link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("uibTabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||e.hasAttribute("x-tab-heading")||e.hasAttribute("uib-tab-heading")||e.hasAttribute("data-uib-tab-heading")||e.hasAttribute("x-uib-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase()||"x-tab-heading"===e.tagName.toLowerCase()||"uib-tab-heading"===e.tagName.toLowerCase()||"data-uib-tab-heading"===e.tagName.toLowerCase()||"x-uib-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:["?^uibTabset","?^tabset"],link:function(t,n,r){var i=t.$eval(r.uibTabContentTransclude);i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){e(t)?i.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.tabs").value("$tabsSuppressWarning",!1).controller("TabsetController",["$scope","$controller","$log","$tabsSuppressWarning",function(e,t,n,r){return r||n.warn("TabsetController is now deprecated. Use UibTabsetController instead."),t("UibTabsetController",{$scope:e})}]).directive("tabset",["$log","$tabsSuppressWarning",function(e,t){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(n,r,i){t||e.warn("tabset is now deprecated. Use uib-tabset instead."),n.vertical=angular.isDefined(i.vertical)?n.$parent.$eval(i.vertical):!1,n.justified=angular.isDefined(i.justified)?n.$parent.$eval(i.justified):!1}}}]).directive("tab",["$parse","$log","$tabsSuppressWarning",function(e,t,n){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(r,i,o,a,s){n||t.warn("tab is now deprecated. Use uib-tab instead."),r.$watch("active",function(e){e&&a.select(r)}),r.disabled=!1,o.disable&&r.$parent.$watch(e(o.disable),function(e){r.disabled=!!e}),r.select=function(){r.disabled||(r.active=!0)},a.addTab(r),r.$on("$destroy",function(){a.removeTab(r)}),r.$transcludeFn=s}}}]).directive("tabHeadingTransclude",["$log","$tabsSuppressWarning",function(e,t){return{restrict:"A",require:"^tab",link:function(n,r){t||e.warn("tab-heading-transclude is now deprecated. Use uib-tab-heading-transclude instead."),n.$watch("headingElement",function(e){e&&(r.html(""),r.append(e))})}}}]).directive("tabContentTransclude",["$log","$tabsSuppressWarning",function(e,t){function n(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||e.hasAttribute("x-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase()||"x-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(r,i,o){t||e.warn("tab-content-transclude is now deprecated. Use uib-tab-content-transclude instead.");var a=r.$eval(o.tabContentTransclude);a.$transcludeFn(a.$parent,function(e){angular.forEach(e,function(e){n(e)?a.headingElement=e:i.append(e)})})}}}]),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0}).controller("UibTimepickerController",["$scope","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(e,t,n,r,i,o){function a(){var t=parseInt(e.hours,10),n=e.showMeridian?t>0&&13>t:t>=0&&24>t;return n?(e.showMeridian&&(12===t&&(t=0),e.meridian===m[1]&&(t+=12)),t):void 0}function s(){var t=parseInt(e.minutes,10);return t>=0&&60>t?t:void 0}function l(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e.toString()}function u(e){c(),g.$setViewValue(new Date(f)),d(e)}function c(){g.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function d(t){var n=f.getHours(),r=f.getMinutes();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:l(n),"m"!==t&&(e.minutes=l(r)),e.meridian=f.getHours()<12?m[0]:m[1]}function h(e,t){var n=new Date(e.getTime()+6e4*t),r=new Date(e);return r.setHours(n.getHours(),n.getMinutes()),r}function p(e){f=h(f,e),u()}var f=new Date,g={$setViewValue:angular.noop},m=angular.isDefined(t.meridians)?e.$parent.$eval(t.meridians):o.meridians||i.DATETIME_FORMATS.AMPMS;this.init=function(n,r){g=n,g.$render=this.render,g.$formatters.unshift(function(e){return e?new Date(e):null});var i=r.eq(0),a=r.eq(1),s=angular.isDefined(t.mousewheel)?e.$parent.$eval(t.mousewheel):o.mousewheel;s&&this.setupMousewheelEvents(i,a);var l=angular.isDefined(t.arrowkeys)?e.$parent.$eval(t.arrowkeys):o.arrowkeys;l&&this.setupArrowkeyEvents(i,a),e.readonlyInput=angular.isDefined(t.readonlyInput)?e.$parent.$eval(t.readonlyInput):o.readonlyInput,this.setupInputEvents(i,a)};var v=o.hourStep;t.hourStep&&e.$parent.$watch(n(t.hourStep),function(e){v=parseInt(e,10)});var y=o.minuteStep;t.minuteStep&&e.$parent.$watch(n(t.minuteStep),function(e){y=parseInt(e,10)});var b;e.$parent.$watch(n(t.min),function(e){var t=new Date(e);b=isNaN(t)?void 0:t});var w;e.$parent.$watch(n(t.max),function(e){var t=new Date(e);w=isNaN(t)?void 0:t}),e.noIncrementHours=function(){var e=h(f,60*v);return e>w||f>e&&b>e},e.noDecrementHours=function(){var e=h(f,60*-v);return b>e||e>f&&e>w},e.noIncrementMinutes=function(){var e=h(f,y);return e>w||f>e&&b>e},e.noDecrementMinutes=function(){var e=h(f,-y);return b>e||e>f&&e>w},e.noToggleMeridian=function(){return f.getHours()<13?h(f,720)>w:h(f,-720)<b},e.showMeridian=o.showMeridian,t.showMeridian&&e.$parent.$watch(n(t.showMeridian),function(t){if(e.showMeridian=!!t,g.$error.time){var n=a(),r=s();angular.isDefined(n)&&angular.isDefined(r)&&(f.setHours(n),u())}else d()}),this.setupMousewheelEvents=function(t,n){var r=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){e.$apply(r(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){e.$apply(r(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,n){t.bind("keydown",function(t){38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply())}),n.bind("keydown",function(t){38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply())})},this.setupInputEvents=function(t,n){if(e.readonlyInput)return e.updateHours=angular.noop,void(e.updateMinutes=angular.noop);var r=function(t,n){g.$setViewValue(null),g.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n)};e.updateHours=function(){var e=a(),t=s();angular.isDefined(e)&&angular.isDefined(t)?(f.setHours(e),b>f||f>w?r(!0):u("h")):r(!0)},t.bind("blur",function(t){!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=l(e.hours)})}),e.updateMinutes=function(){var e=s(),t=a();angular.isDefined(e)&&angular.isDefined(t)?(f.setMinutes(e),b>f||f>w?r(void 0,!0):u("m")):r(void 0,!0)},n.bind("blur",function(t){!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=l(e.minutes)})})},this.render=function(){var t=g.$viewValue;isNaN(t)?(g.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(f=t),b>f||f>w?(g.$setValidity("time",!1),e.invalidHours=!0,e.invalidMinutes=!0):c(),d())},e.showSpinners=angular.isDefined(t.showSpinners)?e.$parent.$eval(t.showSpinners):o.showSpinners,e.incrementHours=function(){e.noIncrementHours()||p(60*v)},e.decrementHours=function(){e.noDecrementHours()||p(60*-v)},e.incrementMinutes=function(){e.noIncrementMinutes()||p(y)},e.decrementMinutes=function(){e.noDecrementMinutes()||p(-y)},e.toggleMeridian=function(){e.noToggleMeridian()||p(720*(f.getHours()<12?1:-1))}}]).directive("uibTimepicker",function(){return{restrict:"EA",require:["uibTimepicker","?^ngModel"],controller:"UibTimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(e,t){return t.templateUrl||"template/timepicker/timepicker.html"},link:function(e,t,n,r){var i=r[0],o=r[1];o&&i.init(o,t.find("input"))}}}),angular.module("ui.bootstrap.timepicker").value("$timepickerSuppressWarning",!1).controller("TimepickerController",["$scope","$attrs","$controller","$log","$timepickerSuppressWarning",function(e,t,n,r,i){return i||r.warn("TimepickerController is now deprecated. Use UibTimepickerController instead."),n("UibTimepickerController",{$scope:e,$attrs:t})}]).directive("timepicker",["$log","$timepickerSuppressWarning",function(e,t){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(e,t){return t.templateUrl||"template/timepicker/timepicker.html"},link:function(n,r,i,o){t||e.warn("timepicker is now deprecated. Use uib-timepicker instead.");var a=o[0],s=o[1];s&&a.init(s,r.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var r=n.match(t);if(!r)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:r[3],source:e(r[4]),viewMapper:e(r[2]||r[1]),modelMapper:e(r[1])}}}}]).directive("uibTypeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$uibPosition","uibTypeaheadParser",function(e,t,n,r,i,o,a,s,l){var u=[9,13,27,38,40],c=200;return{require:["ngModel","^?ngModelOptions"],link:function(d,h,p,f){function g(){R.moveInProgress||(R.moveInProgress=!0,R.$digest()),V&&r.cancel(V),V=r(function(){R.matches.length&&m(),R.moveInProgress=!1},c)}function m(){R.position=S?s.offset(h):s.position(h),R.position.top+=h.prop("offsetHeight")}var v=f[0],y=f[1],b=d.$eval(p.typeaheadMinLength);b||0===b||(b=1);var w,$,x=d.$eval(p.typeaheadWaitMs)||0,k=d.$eval(p.typeaheadEditable)!==!1,C=t(p.typeaheadLoading).assign||angular.noop,_=t(p.typeaheadOnSelect),A=angular.isDefined(p.typeaheadSelectOnBlur)?d.$eval(p.typeaheadSelectOnBlur):!1,T=t(p.typeaheadNoResults).assign||angular.noop,E=p.typeaheadInputFormatter?t(p.typeaheadInputFormatter):void 0,S=p.typeaheadAppendToBody?d.$eval(p.typeaheadAppendToBody):!1,D=p.typeaheadAppendToElementId||!1,O=d.$eval(p.typeaheadFocusFirst)!==!1,P=p.typeaheadSelectOnExact?d.$eval(p.typeaheadSelectOnExact):!1,N=t(p.ngModel),j=t(p.ngModel+"($$$p)"),I=function(e,t){return angular.isFunction(N(d))&&y&&y.$options&&y.$options.getterSetter?j(e,{$$$p:t}):N.assign(e,t)},F=l.parse(p.uibTypeahead),R=d.$new(),M=d.$on("$destroy",function(){R.$destroy()});R.$on("$destroy",M);var U="typeahead-"+R.$id+"-"+Math.floor(1e4*Math.random());h.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":U});var q=angular.element("<div uib-typeahead-popup></div>");q.attr({id:U,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(p.typeaheadTemplateUrl)&&q.attr("template-url",p.typeaheadTemplateUrl),angular.isDefined(p.typeaheadPopupTemplateUrl)&&q.attr("popup-template-url",p.typeaheadPopupTemplateUrl);var L=function(){R.matches=[],R.activeIdx=-1,h.attr("aria-expanded",!1)},B=function(e){return U+"-option-"+e};R.$watch("activeIdx",function(e){0>e?h.removeAttr("aria-activedescendant"):h.attr("aria-activedescendant",B(e))});var H=function(e,t){return R.matches.length>t&&e?e.toUpperCase()===R.matches[t].label.toUpperCase():!1},W=function(e){var t={$viewValue:e};C(d,!0),T(d,!1),n.when(F.source(d,t)).then(function(n){var r=e===v.$viewValue;if(r&&w)if(n&&n.length>0){R.activeIdx=O?0:-1,T(d,!1),R.matches.length=0;for(var i=0;i<n.length;i++)t[F.itemName]=n[i],R.matches.push({id:B(i),label:F.viewMapper(R,t),model:n[i]});R.query=e,m(),h.attr("aria-expanded",!0),P&&1===R.matches.length&&H(e,0)&&R.select(0)}else L(),T(d,!0);r&&C(d,!1)},function(){L(),C(d,!1),T(d,!0)})};S&&(angular.element(o).bind("resize",g),i.find("body").bind("scroll",g));var V;R.moveInProgress=!1,L(),R.query=void 0;var z,K=function(e){z=r(function(){W(e)},x)},G=function(){z&&r.cancel(z)};v.$parsers.unshift(function(e){return w=!0,0===b||e&&e.length>=b?x>0?(G(),K(e)):W(e):(C(d,!1),G(),L()),k?e:e?void v.$setValidity("editable",!1):(v.$setValidity("editable",!0),null)}),v.$formatters.push(function(e){var t,n,r={};return k||v.$setValidity("editable",!0),E?(r.$model=e,E(d,r)):(r[F.itemName]=e,t=F.viewMapper(d,r),r[F.itemName]=void 0,n=F.viewMapper(d,r),t!==n?t:e)}),R.select=function(e){var t,n,i={};$=!0,i[F.itemName]=n=R.matches[e].model,t=F.modelMapper(d,i),I(d,t),v.$setValidity("editable",!0),v.$setValidity("parse",!0),_(d,{$item:n,$model:t,$label:F.viewMapper(d,i)}),L(),R.$eval(p.typeaheadFocusOnSelect)!==!1&&r(function(){h[0].focus()},0,!1)},h.bind("keydown",function(e){if(0!==R.matches.length&&-1!==u.indexOf(e.which)){if(-1===R.activeIdx&&(9===e.which||13===e.which))return L(),void R.$digest();e.preventDefault(),40===e.which?(R.activeIdx=(R.activeIdx+1)%R.matches.length,R.$digest()):38===e.which?(R.activeIdx=(R.activeIdx>0?R.activeIdx:R.matches.length)-1,R.$digest()):13===e.which||9===e.which?R.$apply(function(){R.select(R.activeIdx)}):27===e.which&&(e.stopPropagation(),L(),R.$digest())}}),h.bind("blur",function(){A&&R.matches.length&&-1!==R.activeIdx&&!$&&($=!0,R.$apply(function(){R.select(R.activeIdx)})),w=!1,$=!1});var Q=function(e){h[0]!==e.target&&3!==e.which&&0!==R.matches.length&&(L(),a.$$phase||R.$digest())};i.bind("click",Q),d.$on("$destroy",function(){i.unbind("click",Q),(S||D)&&J.remove(),q.remove()});var J=e(q)(R);S?i.find("body").append(J):D!==!1?angular.element(i[0].getElementById(D)).append(J):h.after(J)}}}]).directive("uibTypeaheadPopup",function(){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{scope:{index:"=",match:"=",query:"="},link:function(r,i,o){var a=n(o.templateUrl)(r.$parent)||"template/typeahead/typeahead-match.html";e(a).then(function(e){t(e.trim())(r,function(e){i.replaceWith(e)})})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(e,t,n){function r(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function i(e){return/<.*>/g.test(e)}var o;return o=t.has("$sanitize"),function(t,a){return!o&&i(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=a?(""+t).replace(new RegExp(r(a),"gi"),"<strong>$&</strong>"):t,o||(t=e.trustAsHtml(t)),t}}]),angular.module("ui.bootstrap.typeahead").value("$typeaheadSuppressWarning",!1).service("typeaheadParser",["$parse","uibTypeaheadParser","$log","$typeaheadSuppressWarning",function(e,t,n,r){return r||n.warn("typeaheadParser is now deprecated. Use uibTypeaheadParser instead."),t}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$uibPosition","typeaheadParser","$log","$typeaheadSuppressWarning",function(e,t,n,r,i,o,a,s,l,u,c){var d=[9,13,27,38,40],h=200;return{require:["ngModel","^?ngModelOptions"],link:function(p,f,g,m){function v(){U.moveInProgress||(U.moveInProgress=!0,U.$digest()),K&&r.cancel(K),K=r(function(){U.matches.length&&y(),U.moveInProgress=!1},h)}function y(){U.position=O?s.offset(f):s.position(f),U.position.top+=f.prop("offsetHeight")}c||u.warn("typeahead is now deprecated. Use uib-typeahead instead.");var b=m[0],w=m[1],$=p.$eval(g.typeaheadMinLength);
$||0===$||($=1);var x,k,C=p.$eval(g.typeaheadWaitMs)||0,_=p.$eval(g.typeaheadEditable)!==!1,A=t(g.typeaheadLoading).assign||angular.noop,T=t(g.typeaheadOnSelect),E=angular.isDefined(g.typeaheadSelectOnBlur)?p.$eval(g.typeaheadSelectOnBlur):!1,S=t(g.typeaheadNoResults).assign||angular.noop,D=g.typeaheadInputFormatter?t(g.typeaheadInputFormatter):void 0,O=g.typeaheadAppendToBody?p.$eval(g.typeaheadAppendToBody):!1,P=g.typeaheadAppendToElementId||!1,N=p.$eval(g.typeaheadFocusFirst)!==!1,j=g.typeaheadSelectOnExact?p.$eval(g.typeaheadSelectOnExact):!1,I=t(g.ngModel),F=t(g.ngModel+"($$$p)"),R=function(e,t){return angular.isFunction(I(p))&&w&&w.$options&&w.$options.getterSetter?F(e,{$$$p:t}):I.assign(e,t)},M=l.parse(g.typeahead),U=p.$new(),q=p.$on("$destroy",function(){U.$destroy()});U.$on("$destroy",q);var L="typeahead-"+U.$id+"-"+Math.floor(1e4*Math.random());f.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":L});var B=angular.element("<div typeahead-popup></div>");B.attr({id:L,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(g.typeaheadTemplateUrl)&&B.attr("template-url",g.typeaheadTemplateUrl),angular.isDefined(g.typeaheadPopupTemplateUrl)&&B.attr("popup-template-url",g.typeaheadPopupTemplateUrl);var H=function(){U.matches=[],U.activeIdx=-1,f.attr("aria-expanded",!1)},W=function(e){return L+"-option-"+e};U.$watch("activeIdx",function(e){0>e?f.removeAttr("aria-activedescendant"):f.attr("aria-activedescendant",W(e))});var V=function(e,t){return U.matches.length>t&&e?e.toUpperCase()===U.matches[t].label.toUpperCase():!1},z=function(e){var t={$viewValue:e};A(p,!0),S(p,!1),n.when(M.source(p,t)).then(function(n){var r=e===b.$viewValue;if(r&&x)if(n&&n.length>0){U.activeIdx=N?0:-1,S(p,!1),U.matches.length=0;for(var i=0;i<n.length;i++)t[M.itemName]=n[i],U.matches.push({id:W(i),label:M.viewMapper(U,t),model:n[i]});U.query=e,y(),f.attr("aria-expanded",!0),j&&1===U.matches.length&&V(e,0)&&U.select(0)}else H(),S(p,!0);r&&A(p,!1)},function(){H(),A(p,!1),S(p,!0)})};O&&(angular.element(o).bind("resize",v),i.find("body").bind("scroll",v));var K;U.moveInProgress=!1,H(),U.query=void 0;var G,Q=function(e){G=r(function(){z(e)},C)},J=function(){G&&r.cancel(G)};b.$parsers.unshift(function(e){return x=!0,0===$||e&&e.length>=$?C>0?(J(),Q(e)):z(e):(A(p,!1),J(),H()),_?e:e?void b.$setValidity("editable",!1):(b.$setValidity("editable",!0),null)}),b.$formatters.push(function(e){var t,n,r={};return _||b.$setValidity("editable",!0),D?(r.$model=e,D(p,r)):(r[M.itemName]=e,t=M.viewMapper(p,r),r[M.itemName]=void 0,n=M.viewMapper(p,r),t!==n?t:e)}),U.select=function(e){var t,n,i={};k=!0,i[M.itemName]=n=U.matches[e].model,t=M.modelMapper(p,i),R(p,t),b.$setValidity("editable",!0),b.$setValidity("parse",!0),T(p,{$item:n,$model:t,$label:M.viewMapper(p,i)}),H(),U.$eval(g.typeaheadFocusOnSelect)!==!1&&r(function(){f[0].focus()},0,!1)},f.bind("keydown",function(e){if(0!==U.matches.length&&-1!==d.indexOf(e.which)){if(-1===U.activeIdx&&(9===e.which||13===e.which))return H(),void U.$digest();e.preventDefault(),40===e.which?(U.activeIdx=(U.activeIdx+1)%U.matches.length,U.$digest()):38===e.which?(U.activeIdx=(U.activeIdx>0?U.activeIdx:U.matches.length)-1,U.$digest()):13===e.which||9===e.which?U.$apply(function(){U.select(U.activeIdx)}):27===e.which&&(e.stopPropagation(),H(),U.$digest())}}),f.bind("blur",function(){E&&U.matches.length&&-1!==U.activeIdx&&!k&&(k=!0,U.$apply(function(){U.select(U.activeIdx)})),x=!1,k=!1});var Y=function(e){f[0]!==e.target&&3!==e.which&&0!==U.matches.length&&(H(),a.$$phase||U.$digest())};i.bind("click",Y),p.$on("$destroy",function(){i.unbind("click",Y),(O||P)&&X.remove(),B.remove()});var X=e(B)(U);O?i.find("body").append(X):P!==!1?angular.element(i[0].getElementById(P)).append(X):f.after(X)}}}]).directive("typeaheadPopup",["$typeaheadSuppressWarning","$log",function(e,t){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(n,r,i){e||t.warn("typeahead-popup is now deprecated. Use uib-typeahead-popup instead."),n.templateUrl=i.templateUrl,n.isOpen=function(){return n.matches.length>0},n.isActive=function(e){return n.active==e},n.selectActive=function(e){n.active=e},n.selectMatch=function(e){n.select({activeIdx:e})}}}}]).directive("typeaheadMatch",["$templateRequest","$compile","$parse","$typeaheadSuppressWarning","$log",function(e,t,n,r,i){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(o,a,s){r||i.warn("typeahead-match is now deprecated. Use uib-typeahead-match instead.");var l=n(s.templateUrl)(o.$parent)||"template/typeahead/typeahead-match.html";e(l).then(function(e){t(e.trim())(o,function(e){a.replaceWith(e)})})}}}]).filter("typeaheadHighlight",["$sce","$injector","$log","$typeaheadSuppressWarning",function(e,t,n,r){function i(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function o(e){return/<.*>/g.test(e)}var a;return a=t.has("$sanitize"),function(t,s){return r||n.warn("typeaheadHighlight is now deprecated. Use uibTypeaheadHighlight instead."),!a&&o(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=s?(""+t).replace(new RegExp(i(s),"gi"),"<strong>$&</strong>"):t,a||(t=e.trustAsHtml(t)),t}}]),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel {{panelClass || \'panel-default\'}}">\n  <div class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a href tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" uib-collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n  <div class="carousel-inner" ng-transclude></div>\n  <a role="button" href class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n    <span class="sr-only">previous</span>\n  </a>\n  <a role="button" href class="right carousel-control" ng-click="next()" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n    <span class="sr-only">next</span>\n  </a>\n  <ol class="carousel-indicators" ng-show="slides.length > 1">\n    <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n      <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n    </li>\n  </ol>\n</div>')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <uib-daypicker ng-switch-when="day" tabindex="0"></uib-daypicker>\n  <uib-monthpicker ng-switch-when="month" tabindex="0"></uib-monthpicker>\n  <uib-yearpicker ng-switch-when="year" tabindex="0"></uib-yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" dropdown-nested ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div uib-modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    uib-modal-animation-class="fade"\n    modal-in-class="in"\n    ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" uib-modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-popup.html",'<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-template-popup.html",'<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    uib-tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-html.html",'<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-template.html",'<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        uib-tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" style="min-width: 0;" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" style="min-width: 0;" ng-transclude></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}" aria-valuetext="{{r.title}}"></i>\n</span>\n')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td>:</td>\n      <td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td ng-show="showMeridian"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a href tabindex="-1" ng-bind-html="match.label | uibTypeaheadHighlight:query"></a>\n')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.module("cgBusy",[]),angular.module("cgBusy").factory("_cgBusyTrackerFactory",["$timeout","$q",function(e,t){return function(){var n={};n.promises=[],n.delayPromise=null,n.durationPromise=null,n.delayJustFinished=!1,n.reset=function(t){n.minDuration=t.minDuration,n.promises=[],angular.forEach(t.promises,function(e){e&&!e.$cgBusyFulfilled&&r(e)}),0!==n.promises.length&&(n.delayJustFinished=!1,t.delay&&(n.delayPromise=e(function(){n.delayPromise=null,n.delayJustFinished=!0},parseInt(t.delay,10))),t.minDuration&&(n.durationPromise=e(function(){n.durationPromise=null},parseInt(t.minDuration,10)+(t.delay?parseInt(t.delay,10):0))))},n.isPromise=function(e){var t=e&&(e.then||e.$then||e.$promise&&e.$promise.then);return"undefined"!=typeof t},n.callThen=function(e,n,r){var i;e.then||e.$then?i=e:e.$promise?i=e.$promise:e.denodeify&&(i=t.when(e));var o=i.then||i.$then;o.call(i,n,r)};var r=function(e){if(!n.isPromise(e))throw new Error("cgBusy expects a promise (or something that has a .promise or .$promise");-1===n.promises.indexOf(e)&&(n.promises.push(e),n.callThen(e,function(){e.$cgBusyFulfilled=!0,-1!==n.promises.indexOf(e)&&n.promises.splice(n.promises.indexOf(e),1)},function(){e.$cgBusyFulfilled=!0,-1!==n.promises.indexOf(e)&&n.promises.splice(n.promises.indexOf(e),1)}))};return n.active=function(){return n.delayPromise?!1:n.delayJustFinished?(n.delayJustFinished=!1,0===n.promises.length&&(n.durationPromise=null),n.promises.length>0):n.durationPromise?!0:n.promises.length>0},n}}]),angular.module("cgBusy").value("cgBusyDefaults",{}),angular.module("cgBusy").directive("cgBusy",["$compile","$templateCache","cgBusyDefaults","$http","_cgBusyTrackerFactory",function(e,t,n,r,i){return{restrict:"A",link:function(o,a,s,l){var u=a.css("position");("static"===u||""===u||"undefined"==typeof u)&&a.css("position","relative");var c,d,h,p,f,g=i(),m={templateUrl:"angular-busy.html",delay:0,minDuration:0,backdrop:!0,message:"Please Wait...",wrapperClass:"cg-busy cg-busy-animation"};angular.extend(m,n),o.$watchCollection(s.cgBusy,function(n){if(n||(n={promise:null}),angular.isString(n))throw new Error("Invalid value for cg-busy. cgBusy no longer accepts string ids to represent promises/trackers.");(angular.isArray(n)||g.isPromise(n))&&(n={promise:n}),n=angular.extend(angular.copy(m),n),n.templateUrl||(n.templateUrl=m.templateUrl),angular.isArray(n.promise)||(n.promise=[n.promise]),p||(p=o.$new()),p.$message=n.message,angular.equals(g.promises,n.promise)||g.reset({promises:n.promise,delay:n.delay,minDuration:n.minDuration}),p.$cgBusyIsActive=function(){return g.active()},c&&h===n.templateUrl&&f===n.backdrop||(c&&c.remove(),d&&d.remove(),h=n.templateUrl,f=n.backdrop,r.get(h,{cache:t}).success(function(t){if(n.backdrop="undefined"==typeof n.backdrop?!0:n.backdrop,n.backdrop){var r='<div class="cg-busy cg-busy-backdrop cg-busy-backdrop-animation ng-hide" ng-show="$cgBusyIsActive()"></div>';d=e(r)(p),a.append(d)}var i='<div class="'+n.wrapperClass+' ng-hide" ng-show="$cgBusyIsActive()">'+t+"</div>";c=e(i)(p),angular.element(c.children()[0]).css("position","absolute").css("top",0).css("left",0).css("right",0).css("bottom",0),a.append(c)}).error(function(e){throw new Error("Template specified for cgBusy ("+n.templateUrl+") could not be loaded. "+e)}))},!0)}}}]),angular.module("cgBusy").run(["$templateCache",function(e){"use strict";e.put("angular-busy.html",'<div class="cg-busy-default-wrapper">\n\n   <div class="cg-busy-default-sign">\n\n      <div class="cg-busy-default-spinner">\n         <div class="bar1"></div>\n         <div class="bar2"></div>\n         <div class="bar3"></div>\n         <div class="bar4"></div>\n         <div class="bar5"></div>\n         <div class="bar6"></div>\n         <div class="bar7"></div>\n         <div class="bar8"></div>\n         <div class="bar9"></div>\n         <div class="bar10"></div>\n         <div class="bar11"></div>\n         <div class="bar12"></div>\n      </div>\n\n      <div class="cg-busy-default-text">{{$message}}</div>\n\n   </div>\n\n</div>')}]),function(e,t,n){"use strict";function r(e,n,r){function i(e,r,i){var a,s;i=i||{},s=i.expires,a=t.isDefined(i.path)?i.path:o,t.isUndefined(r)&&(s="Thu, 01 Jan 1970 00:00:00 GMT",r=""),t.isString(s)&&(s=new Date(s));var l=encodeURIComponent(e)+"="+encodeURIComponent(r);l+=a?";path="+a:"",l+=i.domain?";domain="+i.domain:"",l+=s?";expires="+s.toUTCString():"",l+=i.secure?";secure":"";var u=l.length+1;return u>4096&&n.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+u+" > 4096 bytes)!"),l}var o=r.baseHref(),a=e[0];return function(e,t,n){a.cookie=i(e,t,n)}}t.module("ngCookies",["ng"]).provider("$cookies",[function(){function e(e){return e?t.extend({},r,e):r}var r=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(r,i){return{get:function(e){return r()[e]},getObject:function(e){var n=this.get(e);return n?t.fromJson(n):n},getAll:function(){return r()},put:function(t,n,r){i(t,n,e(r))},putObject:function(e,n,r){this.put(e,t.toJson(n),r)},remove:function(t,r){i(t,n,e(r))}}}]}]),t.module("ngCookies").factory("$cookieStore",["$cookies",function(e){return{get:function(t){return e.getObject(t)},put:function(t,n){e.putObject(t,n)},remove:function(t){e.remove(t)}}}]),r.$inject=["$document","$log","$browser"],t.module("ngCookies").provider("$$cookieWriter",function(){this.$get=r})}(window,window.angular),function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(e){var t=["$q","$cacheFactory","$timeout","$rootScope","$log","cfpLoadingBar",function(t,n,r,i,o,a){function s(){r.cancel(u),a.complete(),d=0,c=0}function l(t){var r,i=n.get("$http"),o=e.defaults;!t.cache&&!o.cache||t.cache===!1||"GET"!==t.method&&"JSONP"!==t.method||(r=angular.isObject(t.cache)?t.cache:angular.isObject(o.cache)?o.cache:i);var a=void 0!==r?void 0!==r.get(t.url):!1;return void 0!==t.cached&&a!==t.cached?t.cached:(t.cached=a,a)}var u,c=0,d=0,h=a.latencyThreshold;return{request:function(e){return e.ignoreLoadingBar||l(e)||(i.$broadcast("cfpLoadingBar:loading",{url:e.url}),0===c&&(u=r(function(){a.start()},h)),c++,a.set(d/c)),e},response:function(e){return e&&e.config?(e.config.ignoreLoadingBar||l(e.config)||(d++,i.$broadcast("cfpLoadingBar:loaded",{url:e.config.url,result:e}),d>=c?s():a.set(d/c)),e):(o.error("Broken interceptor detected: Config object not supplied in response:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),e)},responseError:function(e){return e&&e.config?(e.config.ignoreLoadingBar||l(e.config)||(d++,i.$broadcast("cfpLoadingBar:loaded",{url:e.config.url,result:e}),d>=c?s():a.set(d/c)),t.reject(e)):(o.error("Broken interceptor detected: Config object not supplied in rejection:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),t.reject(e))}}}];e.interceptors.push(t)}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){
this.autoIncrement=!0,this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function(e,t,n,r){function i(){c||(c=e.get("$animate"));var i=t.find(p).eq(0);n.cancel(h),v||(r.$broadcast("cfpLoadingBar:started"),v=!0,$&&c.enter(f,i,angular.element(i[0].lastChild)),w&&c.enter(m,i,angular.element(i[0].lastChild)),o(x))}function o(e){if(v){var t=100*e+"%";g.css("width",t),y=e,b&&(n.cancel(d),d=n(function(){a()},250))}}function a(){if(!(s()>=1)){var e=0,t=s();e=t>=0&&.25>t?(3*Math.random()+3)/100:t>=.25&&.65>t?3*Math.random()/100:t>=.65&&.9>t?2*Math.random()/100:t>=.9&&.99>t?.005:0;var n=s()+e;o(n)}}function s(){return y}function l(){y=0,v=!1}function u(){c||(c=e.get("$animate")),r.$broadcast("cfpLoadingBar:completed"),o(1),n.cancel(h),h=n(function(){var e=c.leave(f,l);e&&e.then&&e.then(l),c.leave(m)},500)}var c,d,h,p=this.parentSelector,f=angular.element(this.loadingBarTemplate),g=f.find("div").eq(0),m=angular.element(this.spinnerTemplate),v=!1,y=0,b=this.autoIncrement,w=this.includeSpinner,$=this.includeBar,x=this.startSize;return{start:i,set:o,status:s,inc:a,complete:u,autoIncrement:this.autoIncrement,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}(),function(e,t,n){"use strict";function r(e){function t(e,t){return e?i(e)?e.indexOf(t)>=0:e.hasOwnProperty(t):void 0}return["$animate",function(e){return{restrict:"AE",transclude:"element",terminal:!0,require:"^^ngMessages",link:function(n,r,o,a,s){var l,u=r[0],c=o.ngMessage||o.when,d=o.ngMessageExp||o.whenExp,h=function(e){l=e?i(e)?e:e.split(/[\s,]+/):null,a.reRender()};d?(h(n.$eval(d)),n.$watchCollection(d,h)):h(c);var p,f;a.register(u,f={test:function(e){return t(l,e)},attach:function(){p||s(n,function(t){e.enter(t,null,r),p=t;var n=p.$$attachId=a.getAttachId();p.on("$destroy",function(){p&&p.$$attachId===n&&(a.deregister(u),f.detach())})})},detach:function(){if(p){var t=p;p=null,e.leave(t)}}})}}}]}var i=t.isArray,o=t.forEach,a=t.isString,s=t.element;t.module("ngMessages",[]).directive("ngMessages",["$animate",function(e){function t(e,t){return a(t)&&0===t.length||n(e.$eval(t))}function n(e){return a(e)?e.length:!!e}var r="ng-active",i="ng-inactive";return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(a,s,l){function u(e,t){for(var n=t,r=[];n&&n!==e;){var i=n.$$ngMessageNode;if(i&&i.length)return v[i];n.childNodes.length&&-1==r.indexOf(n)?(r.push(n),n=n.childNodes[n.childNodes.length-1]):n=n.previousSibling||n.parentNode}}function c(e,t,n){var r=v[n];if(h.head){var i=u(e,t);i?(r.next=i.next,i.next=r):(r.next=h.head,h.head=r)}else h.head=r}function d(e,t,n){var r=v[n],i=u(e,t);i?i.next=r.next:h.head=r.next}var h=this,p=0,f=0;this.getAttachId=function(){return f++};var g,m,v=this.messages={};this.render=function(u){u=u||{},g=!1,m=u;for(var c=t(s,l.ngMessagesMultiple)||t(s,l.multiple),d=[],p={},f=h.head,v=!1,y=0;null!=f;){y++;var b=f.message,w=!1;v||o(u,function(e,t){if(!w&&n(e)&&b.test(t)){if(p[t])return;p[t]=!0,w=!0,b.attach()}}),w?v=!c:d.push(b),f=f.next}o(d,function(e){e.detach()}),d.length!==y?e.setClass(a,r,i):e.setClass(a,i,r)},s.$watchCollection(l.ngMessages||l["for"],h.render),this.reRender=function(){g||(g=!0,s.$evalAsync(function(){g&&m&&h.render(m)}))},this.register=function(e,t){var n=p.toString();v[n]={message:t},c(a[0],e,n),e.$$ngMessageNode=n,p++,h.reRender()},this.deregister=function(e){var t=e.$$ngMessageNode;delete e.$$ngMessageNode,d(a[0],e,t),delete v[t],h.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(e,t,n){return{restrict:"AE",require:"^^ngMessages",link:function(r,i,o){var a=o.ngMessagesInclude||o.src;e(a).then(function(e){n(e)(r,function(e){i.after(e);var n=s(t[0].createComment(" ngMessagesInclude: "+a+" "));i.after(n),i.remove()})})}}}]).directive("ngMessage",r("AE")).directive("ngMessageExp",r("A"))}(window,window.angular),angular.module("updateMeta",[]),function(){function e(e){function t(t,n,r){if(!document)return void e.error("updateMeta: document is not available!");if(!t)return void e.error('updateMeta: Either of "name", "httpEquiv", "property" or "charset" must be provided!');var i=document.querySelector(t);i&&i.setAttribute&&i.setAttribute(n,r)}return{restrict:"E",scope:{charset:"@",name:"@",content:"@",httpEquiv:"@",scheme:"@",property:"@"},link:function(e,n,r){var i;e.name&&(i='meta[name="'+e.name+'"]'),e.httpEquiv&&(i='meta[http-equiv="'+e.httpEquiv+'"]'),e.property&&(i='meta[property="'+e.property+'"]'),e.$watch("content",function(n,r){"undefined"!=typeof n&&t(i,"content",e.content)}),e.$watch("charset",function(n,r){"undefined"!=typeof n&&t("meta[charset]","charset",e.charset)})}}}e.$inject=["$log"],angular.module("updateMeta").directive("updateMeta",e)}(),function(){function e(e){return{restrict:"E",scope:{title:"@"},link:function(e,t,n){e.$watch("title",function(e,t){"undefined"!=typeof e&&document&&(document.title=e)})}}}e.$inject=["$log"],angular.module("updateMeta").directive("updateTitle",e)}(),function(e){"function"==typeof define&&define.amd?define("pnotify",["jquery"],e):e(jQuery)}(function(e){var t,n,r={dir1:"down",dir2:"left",push:"bottom",spacing1:25,spacing2:25,context:e("body")},i=e(window),o=function(){n=e("body"),PNotify.prototype.options.stack.context=n,i=e(window),i.bind("resize",function(){t&&clearTimeout(t),t=setTimeout(function(){PNotify.positionAll(!0)},10)})};return PNotify=function(e){this.parseOptions(e),this.init()},e.extend(PNotify.prototype,{version:"2.0.1",options:{title:!1,title_escape:!1,text:!1,text_escape:!1,styling:"bootstrap3",addclass:"",cornerclass:"",auto_display:!0,width:"300px",min_height:"16px",type:"notice",icon:!0,opacity:1,animation:"fade",animate_speed:"slow",position_animate_speed:500,shadow:!0,hide:!0,delay:8e3,mouse_reset:!0,remove:!0,insert_brs:!0,destroy:!0,stack:r},modules:{},runModules:function(e,t){var n;for(var r in this.modules)n="object"==typeof t&&r in t?t[r]:t,"function"==typeof this.modules[r][e]&&this.modules[r][e](this,"object"==typeof this.options[r]?this.options[r]:{},n)},state:"initializing",timer:null,styles:null,elem:null,container:null,title_container:null,text_container:null,animating:!1,timerHide:!1,init:function(){var t=this;return this.modules={},e.extend(!0,this.modules,PNotify.prototype.modules),"object"==typeof this.options.styling?this.styles=this.options.styling:this.styles=PNotify.styling[this.options.styling],this.elem=e("<div />",{"class":"ui-pnotify "+this.options.addclass,css:{display:"none"},mouseenter:function(e){if(t.options.mouse_reset&&"out"===t.animating){if(!t.timerHide)return;t.cancelRemove()}t.options.hide&&t.options.mouse_reset&&t.cancelRemove()},mouseleave:function(e){t.options.hide&&t.options.mouse_reset&&t.queueRemove(),PNotify.positionAll()}}),this.container=e("<div />",{"class":this.styles.container+" ui-pnotify-container "+("error"===this.options.type?this.styles.error:"info"===this.options.type?this.styles.info:"success"===this.options.type?this.styles.success:this.styles.notice)}).appendTo(this.elem),""!==this.options.cornerclass&&this.container.removeClass("ui-corner-all").addClass(this.options.cornerclass),this.options.shadow&&this.container.addClass("ui-pnotify-shadow"),this.options.icon!==!1&&e("<div />",{"class":"ui-pnotify-icon"}).append(e("<span />",{"class":this.options.icon===!0?"error"===this.options.type?this.styles.error_icon:"info"===this.options.type?this.styles.info_icon:"success"===this.options.type?this.styles.success_icon:this.styles.notice_icon:this.options.icon})).prependTo(this.container),this.title_container=e("<h4 />",{"class":"ui-pnotify-title"}).appendTo(this.container),this.options.title===!1?this.title_container.hide():this.options.title_escape?this.title_container.text(this.options.title):this.title_container.html(this.options.title),this.text_container=e("<div />",{"class":"ui-pnotify-text"}).appendTo(this.container),this.options.text===!1?this.text_container.hide():this.options.text_escape?this.text_container.text(this.options.text):this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text),"string"==typeof this.options.width&&this.elem.css("width",this.options.width),"string"==typeof this.options.min_height&&this.container.css("min-height",this.options.min_height),"top"===this.options.stack.push?PNotify.notices=e.merge([this],PNotify.notices):PNotify.notices=e.merge(PNotify.notices,[this]),"top"===this.options.stack.push&&this.queuePosition(!1,1),this.options.stack.animation=!1,this.runModules("init"),this.options.auto_display&&this.open(),this},update:function(t){var n=this.options;return this.parseOptions(n,t),this.options.cornerclass!==n.cornerclass&&this.container.removeClass("ui-corner-all "+n.cornerclass).addClass(this.options.cornerclass),this.options.shadow!==n.shadow&&(this.options.shadow?this.container.addClass("ui-pnotify-shadow"):this.container.removeClass("ui-pnotify-shadow")),this.options.addclass===!1?this.elem.removeClass(n.addclass):this.options.addclass!==n.addclass&&this.elem.removeClass(n.addclass).addClass(this.options.addclass),this.options.title===!1?this.title_container.slideUp("fast"):this.options.title!==n.title&&(this.options.title_escape?this.title_container.text(this.options.title):this.title_container.html(this.options.title),n.title===!1&&this.title_container.slideDown(200)),this.options.text===!1?this.text_container.slideUp("fast"):this.options.text!==n.text&&(this.options.text_escape?this.text_container.text(this.options.text):this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text),n.text===!1&&this.text_container.slideDown(200)),this.options.type!==n.type&&this.container.removeClass(this.styles.error+" "+this.styles.notice+" "+this.styles.success+" "+this.styles.info).addClass("error"===this.options.type?this.styles.error:"info"===this.options.type?this.styles.info:"success"===this.options.type?this.styles.success:this.styles.notice),(this.options.icon!==n.icon||this.options.icon===!0&&this.options.type!==n.type)&&(this.container.find("div.ui-pnotify-icon").remove(),this.options.icon!==!1&&e("<div />",{"class":"ui-pnotify-icon"}).append(e("<span />",{"class":this.options.icon===!0?"error"===this.options.type?this.styles.error_icon:"info"===this.options.type?this.styles.info_icon:"success"===this.options.type?this.styles.success_icon:this.styles.notice_icon:this.options.icon})).prependTo(this.container)),this.options.width!==n.width&&this.elem.animate({width:this.options.width}),this.options.min_height!==n.min_height&&this.container.animate({minHeight:this.options.min_height}),this.options.opacity!==n.opacity&&this.elem.fadeTo(this.options.animate_speed,this.options.opacity),this.options.hide?n.hide||this.queueRemove():this.cancelRemove(),this.queuePosition(!0),this.runModules("update",n),this},open:function(){this.state="opening",this.runModules("beforeOpen");var e=this;return this.elem.parent().length||this.elem.appendTo(this.options.stack.context?this.options.stack.context:n),"top"!==this.options.stack.push&&this.position(!0),"fade"===this.options.animation||"fade"===this.options.animation.effect_in?this.elem.show().fadeTo(0,0).hide():1!==this.options.opacity&&this.elem.show().fadeTo(0,this.options.opacity).hide(),this.animateIn(function(){e.queuePosition(!0),e.options.hide&&e.queueRemove(),e.state="open",e.runModules("afterOpen")}),this},remove:function(t){this.state="closing",this.timerHide=!!t,this.runModules("beforeClose");var n=this;return this.timer&&(window.clearTimeout(this.timer),this.timer=null),this.animateOut(function(){if(n.state="closed",n.runModules("afterClose"),n.queuePosition(!0),n.options.remove&&n.elem.detach(),n.runModules("beforeDestroy"),n.options.destroy&&null!==PNotify.notices){var t=e.inArray(n,PNotify.notices);-1!==t&&PNotify.notices.splice(t,1)}n.runModules("afterDestroy")}),this},get:function(){return this.elem},parseOptions:function(t,n){this.options=e.extend(!0,{},PNotify.prototype.options),this.options.stack=PNotify.prototype.options.stack;var r,i=[t,n];for(var o in i){if(r=i[o],"undefined"==typeof r)break;if("object"!=typeof r)this.options.text=r;else for(var a in r)this.modules[a]?e.extend(!0,this.options[a],r[a]):this.options[a]=r[a]}},animateIn:function(e){this.animating="in";var t;t="undefined"!=typeof this.options.animation.effect_in?this.options.animation.effect_in:this.options.animation,"none"===t?(this.elem.show(),e()):"show"===t?this.elem.show(this.options.animate_speed,e):"fade"===t?this.elem.show().fadeTo(this.options.animate_speed,this.options.opacity,e):"slide"===t?this.elem.slideDown(this.options.animate_speed,e):"function"==typeof t?t("in",e,this.elem):this.elem.show(t,"object"==typeof this.options.animation.options_in?this.options.animation.options_in:{},this.options.animate_speed,e),this.elem.parent().hasClass("ui-effects-wrapper")&&this.elem.parent().css({position:"fixed",overflow:"visible"}),"slide"!==t&&this.elem.css("overflow","visible"),this.container.css("overflow","hidden")},animateOut:function(e){this.animating="out";var t;t="undefined"!=typeof this.options.animation.effect_out?this.options.animation.effect_out:this.options.animation,"none"===t?(this.elem.hide(),e()):"show"===t?this.elem.hide(this.options.animate_speed,e):"fade"===t?this.elem.fadeOut(this.options.animate_speed,e):"slide"===t?this.elem.slideUp(this.options.animate_speed,e):"function"==typeof t?t("out",e,this.elem):this.elem.hide(t,"object"==typeof this.options.animation.options_out?this.options.animation.options_out:{},this.options.animate_speed,e),this.elem.parent().hasClass("ui-effects-wrapper")&&this.elem.parent().css({position:"fixed",overflow:"visible"}),"slide"!==t&&this.elem.css("overflow","visible"),this.container.css("overflow","hidden")},position:function(e){var t=this.options.stack,r=this.elem;if(r.parent().hasClass("ui-effects-wrapper")&&(r=this.elem.css({left:"0",top:"0",right:"0",bottom:"0"}).parent()),"undefined"==typeof t.context&&(t.context=n),t){"number"!=typeof t.nextpos1&&(t.nextpos1=t.firstpos1),"number"!=typeof t.nextpos2&&(t.nextpos2=t.firstpos2),"number"!=typeof t.addpos2&&(t.addpos2=0);var o="none"===r.css("display");if(!o||e){var a,s,l,u={};switch(t.dir1){case"down":l="top";break;case"up":l="bottom";break;case"left":l="right";break;case"right":l="left"}a=parseInt(r.css(l).replace(/(?:\..*|[^0-9.])/g,"")),isNaN(a)&&(a=0),"undefined"!=typeof t.firstpos1||o||(t.firstpos1=a,t.nextpos1=t.firstpos1);var c;switch(t.dir2){case"down":c="top";break;case"up":c="bottom";break;case"left":c="right";break;case"right":c="left"}if(s=parseInt(r.css(c).replace(/(?:\..*|[^0-9.])/g,"")),isNaN(s)&&(s=0),"undefined"!=typeof t.firstpos2||o||(t.firstpos2=s,t.nextpos2=t.firstpos2),("down"===t.dir1&&t.nextpos1+r.height()>(t.context.is(n)?i.height():t.context.prop("scrollHeight"))||"up"===t.dir1&&t.nextpos1+r.height()>(t.context.is(n)?i.height():t.context.prop("scrollHeight"))||"left"===t.dir1&&t.nextpos1+r.width()>(t.context.is(n)?i.width():t.context.prop("scrollWidth"))||"right"===t.dir1&&t.nextpos1+r.width()>(t.context.is(n)?i.width():t.context.prop("scrollWidth")))&&(t.nextpos1=t.firstpos1,t.nextpos2+=t.addpos2+("undefined"==typeof t.spacing2?25:t.spacing2),t.addpos2=0),t.animation&&t.nextpos2<s)switch(t.dir2){case"down":u.top=t.nextpos2+"px";break;case"up":u.bottom=t.nextpos2+"px";break;case"left":u.right=t.nextpos2+"px";break;case"right":u.left=t.nextpos2+"px"}else"number"==typeof t.nextpos2&&r.css(c,t.nextpos2+"px");switch(t.dir2){case"down":case"up":r.outerHeight(!0)>t.addpos2&&(t.addpos2=r.height());break;case"left":case"right":r.outerWidth(!0)>t.addpos2&&(t.addpos2=r.width())}if("number"==typeof t.nextpos1)if(t.animation&&(a>t.nextpos1||u.top||u.bottom||u.right||u.left))switch(t.dir1){case"down":u.top=t.nextpos1+"px";break;case"up":u.bottom=t.nextpos1+"px";break;case"left":u.right=t.nextpos1+"px";break;case"right":u.left=t.nextpos1+"px"}else r.css(l,t.nextpos1+"px");switch((u.top||u.bottom||u.right||u.left)&&r.animate(u,{duration:this.options.position_animate_speed,queue:!1}),t.dir1){case"down":case"up":t.nextpos1+=r.height()+("undefined"==typeof t.spacing1?25:t.spacing1);break;case"left":case"right":t.nextpos1+=r.width()+("undefined"==typeof t.spacing1?25:t.spacing1)}}return this}},queuePosition:function(e,n){return t&&clearTimeout(t),n||(n=10),t=setTimeout(function(){PNotify.positionAll(e)},n),this},cancelRemove:function(){return this.timer&&window.clearTimeout(this.timer),"closing"===this.state&&(this.elem.stop(!0),this.state="open",this.animating="in",this.elem.css("height","auto").animate({width:this.options.width,opacity:this.options.opacity},"fast")),this},queueRemove:function(){var e=this;return this.cancelRemove(),this.timer=window.setTimeout(function(){e.remove(!0)},isNaN(this.options.delay)?0:this.options.delay),this}}),e.extend(PNotify,{notices:[],removeAll:function(){e.each(PNotify.notices,function(){this.remove&&this.remove()})},positionAll:function(n){t&&clearTimeout(t),t=null,e.each(PNotify.notices,function(){var e=this.options.stack;e&&(e.nextpos1=e.firstpos1,e.nextpos2=e.firstpos2,e.addpos2=0,e.animation=n)}),e.each(PNotify.notices,function(){this.position()})},styling:{jqueryui:{container:"ui-widget ui-widget-content ui-corner-all",notice:"ui-state-highlight",notice_icon:"ui-icon ui-icon-info",info:"",info_icon:"ui-icon ui-icon-info",success:"ui-state-default",success_icon:"ui-icon ui-icon-circle-check",error:"ui-state-error",error_icon:"ui-icon ui-icon-alert"},bootstrap2:{container:"alert",notice:"",notice_icon:"icon-exclamation-sign",info:"alert-info",info_icon:"icon-info-sign",success:"alert-success",success_icon:"icon-ok-sign",error:"alert-error",error_icon:"icon-warning-sign"},bootstrap3:{container:"alert",notice:"alert-warning",notice_icon:"glyphicon glyphicon-exclamation-sign",info:"alert-info",info_icon:"glyphicon glyphicon-info-sign",success:"alert-success",success_icon:"glyphicon glyphicon-ok-sign",error:"alert-danger",error_icon:"glyphicon glyphicon-warning-sign"}}}),PNotify.styling.fontawesome=e.extend({},PNotify.styling.bootstrap3),e.extend(PNotify.styling.fontawesome,{notice_icon:"fa fa-exclamation-circle",info_icon:"fa fa-info",success_icon:"fa fa-check",error_icon:"fa fa-warning"}),document.body?o():e(o),PNotify}),function(e){"function"==typeof define&&define.amd?define("pnotify.buttons",["jquery","pnotify"],e):e(jQuery,PNotify)}(function(e,t){t.prototype.options.buttons={closer:!0,closer_hover:!0,sticker:!0,sticker_hover:!0,labels:{close:"Close",stick:"Stick"}},t.prototype.modules.buttons={myOptions:null,closer:null,sticker:null,init:function(t,n){var r=this;this.myOptions=n,t.elem.on({mouseenter:function(e){!r.myOptions.sticker||t.options.nonblock&&t.options.nonblock.nonblock||r.sticker.trigger("pnotify_icon").css("visibility","visible"),!r.myOptions.closer||t.options.nonblock&&t.options.nonblock.nonblock||r.closer.css("visibility","visible")},mouseleave:function(e){r.myOptions.sticker_hover&&r.sticker.css("visibility","hidden"),r.myOptions.closer_hover&&r.closer.css("visibility","hidden")}}),this.sticker=e("<div />",{"class":"ui-pnotify-sticker",css:{cursor:"pointer",visibility:n.sticker_hover?"hidden":"visible"},click:function(){t.options.hide=!t.options.hide,t.options.hide?t.queueRemove():t.cancelRemove(),e(this).trigger("pnotify_icon")}}).bind("pnotify_icon",function(){e(this).children().removeClass(t.styles.pin_up+" "+t.styles.pin_down).addClass(t.options.hide?t.styles.pin_up:t.styles.pin_down)}).append(e("<span />",{"class":t.styles.pin_up,title:n.labels.stick})).prependTo(t.container),(!n.sticker||t.options.nonblock&&t.options.nonblock.nonblock)&&this.sticker.css("display","none"),this.closer=e("<div />",{"class":"ui-pnotify-closer",css:{cursor:"pointer",visibility:n.closer_hover?"hidden":"visible"},click:function(){t.remove(!1),r.sticker.css("visibility","hidden"),r.closer.css("visibility","hidden")}}).append(e("<span />",{"class":t.styles.closer,title:n.labels.close})).prependTo(t.container),(!n.closer||t.options.nonblock&&t.options.nonblock.nonblock)&&this.closer.css("display","none")},update:function(e,t){this.myOptions=t,!t.closer||e.options.nonblock&&e.options.nonblock.nonblock?this.closer.css("display","none"):t.closer&&this.closer.css("display","block"),!t.sticker||e.options.nonblock&&e.options.nonblock.nonblock?this.sticker.css("display","none"):t.sticker&&this.sticker.css("display","block"),this.sticker.trigger("pnotify_icon"),t.sticker_hover?this.sticker.css("visibility","hidden"):e.options.nonblock&&e.options.nonblock.nonblock||this.sticker.css("visibility","visible"),t.closer_hover?this.closer.css("visibility","hidden"):e.options.nonblock&&e.options.nonblock.nonblock||this.closer.css("visibility","visible")}},e.extend(t.styling.jqueryui,{closer:"ui-icon ui-icon-close",pin_up:"ui-icon ui-icon-pin-w",pin_down:"ui-icon ui-icon-pin-s"}),e.extend(t.styling.bootstrap2,{closer:"icon-remove",pin_up:"icon-pause",pin_down:"icon-play"}),e.extend(t.styling.bootstrap3,{closer:"glyphicon glyphicon-remove",pin_up:"glyphicon glyphicon-pause",pin_down:"glyphicon glyphicon-play"}),e.extend(t.styling.fontawesome,{closer:"fa fa-times",pin_up:"fa fa-pause",pin_down:"fa fa-play"})}),function(e){"function"==typeof define&&define.amd?define("pnotify.callbacks",["jquery","pnotify"],e):e(jQuery,PNotify)}(function(e,t){var n=t.prototype.init,r=t.prototype.open,i=t.prototype.remove;t.prototype.init=function(){this.options.before_init&&this.options.before_init(this.options),n.apply(this,arguments),this.options.after_init&&this.options.after_init(this)},t.prototype.open=function(){var e;this.options.before_open&&(e=this.options.before_open(this)),e!==!1&&(r.apply(this,arguments),this.options.after_open&&this.options.after_open(this))},t.prototype.remove=function(e){var t;this.options.before_close&&(t=this.options.before_close(this,e)),t!==!1&&(i.apply(this,arguments),this.options.after_close&&this.options.after_close(this,e))}}),function(e){"function"==typeof define&&define.amd?define("pnotify.confirm",["jquery","pnotify"],e):e(jQuery,PNotify)}(function(e,t){t.prototype.options.confirm={confirm:!1,prompt:!1,prompt_class:"",prompt_default:"",prompt_multi_line:!1,align:"right",buttons:[{text:"Ok",addClass:"",promptTrigger:!0,click:function(e,t){e.remove(),e.get().trigger("pnotify.confirm",[e,t])}},{text:"Cancel",addClass:"",click:function(e){e.remove(),e.get().trigger("pnotify.cancel",e)}}]},t.prototype.modules.confirm={container:null,prompt:null,init:function(t,n){this.container=e('<div style="margin-top:5px;clear:both;" />').css("text-align",n.align).appendTo(t.container),n.confirm||n.prompt?this.makeDialog(t,n):this.container.hide()},update:function(e,t){t.confirm?(this.makeDialog(e,t),this.container.show()):this.container.hide().empty()},afterOpen:function(e,t){t.prompt&&this.prompt.focus()},makeDialog:function(t,n){var r,i,o=!1,a=this;this.container.empty(),n.prompt&&(this.prompt=e("<"+(n.prompt_multi_line?'textarea rows="5"':'input type="text"')+' style="margin-bottom:5px;clear:both;" />').addClass(t.styles.input+" "+n.prompt_class).val(n.prompt_default).appendTo(this.container));for(var s in n.buttons)r=n.buttons[s],o?this.container.append(" "):o=!0,i=e('<button type="button" />').addClass(t.styles.btn+" "+r.addClass).text(r.text).appendTo(this.container).on("click",function(e){return function(){"function"==typeof e.click&&e.click(t,n.prompt?a.prompt.val():null)}}(r)),n.prompt&&!n.prompt_multi_line&&r.promptTrigger&&this.prompt.keypress(function(e){return function(t){13==t.keyCode&&e.click()}}(i)),t.styles.text&&i.wrapInner('<span class="'+t.styles.text+'"></span>'),t.styles.btnhover&&i.hover(function(e){return function(){e.addClass(t.styles.btnhover)}}(i),function(e){return function(){e.removeClass(t.styles.btnhover)}}(i)),t.styles.btnactive&&i.on("mousedown",function(e){return function(){e.addClass(t.styles.btnactive)}}(i)).on("mouseup",function(e){return function(){e.removeClass(t.styles.btnactive)}}(i)),t.styles.btnfocus&&i.on("focus",function(e){return function(){e.addClass(t.styles.btnfocus)}}(i)).on("blur",function(e){return function(){e.removeClass(t.styles.btnfocus)}}(i))}},e.extend(t.styling.jqueryui,{btn:"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only",btnhover:"ui-state-hover",btnactive:"ui-state-active",btnfocus:"ui-state-focus",input:"",text:"ui-button-text"}),e.extend(t.styling.bootstrap2,{btn:"btn",input:""}),e.extend(t.styling.bootstrap3,{btn:"btn btn-default",input:"form-control"}),e.extend(t.styling.fontawesome,{btn:"btn btn-default",input:"form-control"})}),function(e){"function"==typeof define&&define.amd?define("pnotify.desktop",["jquery","pnotify"],e):e(jQuery,PNotify)}(function(e,t){var n,r=function(e,t){return(r="Notification"in window?function(e,t){return new Notification(e,t)}:"mozNotification"in navigator?function(e,t){return navigator.mozNotification.createNotification(e,t.body,t.icon).show()}:"webkitNotifications"in window?function(e,t){return window.webkitNotifications.createNotification(t.icon,e,t.body)}:function(e,t){return null})(e,t)};t.prototype.options.desktop={desktop:!1,icon:null,tag:null},t.prototype.modules.desktop={tag:null,icon:null,genNotice:function(e,t){null===t.icon?this.icon="http://sciactive.com/pnotify/includes/desktop/"+e.options.type+".png":t.icon===!1?this.icon=null:this.icon=t.icon,(null===this.tag||null!==t.tag)&&(this.tag=null===t.tag?"PNotify-"+Math.round(1e6*Math.random()):t.tag),e.desktop=r(e.options.title,{icon:this.icon,body:e.options.text,tag:this.tag}),"close"in e.desktop||(e.desktop.close=function(){e.desktop.cancel()}),e.desktop.onclick=function(){e.elem.trigger("click")},e.desktop.onclose=function(){"closing"!==e.state&&"closed"!==e.state&&e.remove()}},init:function(e,r){r.desktop&&(n=t.desktop.checkPermission(),0==n&&this.genNotice(e,r))},update:function(e,t,r){0==n&&t.desktop&&this.genNotice(e,t)},beforeOpen:function(e,t){0==n&&t.desktop&&e.elem.css({left:"-10000px",display:"none"})},afterOpen:function(e,t){0==n&&t.desktop&&(e.elem.css({left:"-10000px",display:"none"}),"show"in e.desktop&&e.desktop.show())},beforeClose:function(e,t){0==n&&t.desktop&&e.elem.css({left:"-10000px",display:"none"})},afterClose:function(e,t){0==n&&t.desktop&&(e.elem.css({left:"-10000px",display:"none"}),e.desktop.close())}},t.desktop={permission:function(){"undefined"!=typeof Notification&&"requestPermission"in Notification?Notification.requestPermission():"webkitNotifications"in window&&window.webkitNotifications.requestPermission()},checkPermission:function(){return"undefined"!=typeof Notification&&"permission"in Notification?"granted"==Notification.permission?0:1:"webkitNotifications"in window?window.webkitNotifications.checkPermission():1}},n=t.desktop.checkPermission()}),function(e){"function"==typeof define&&define.amd?define("pnotify.history",["jquery","pnotify"],e):e(jQuery,PNotify)}(function(e,t){var n,r;e(function(){e("body").on("pnotify.history-all",function(){e.each(t.notices,function(){this.modules.history.inHistory&&(this.elem.is(":visible")?this.options.hide&&this.queueRemove():this.open&&this.open())})}).on("pnotify.history-last",function(){var e,n="top"===t.prototype.options.stack.push,r=n?0:-1;do{if(e=-1===r?t.notices.slice(r):t.notices.slice(r,r+1),!e[0])return!1;r=n?r+1:r-1}while(!e[0].modules.history.inHistory||e[0].elem.is(":visible"));e[0].open&&e[0].open()})}),t.prototype.options.history={history:!0,menu:!1,fixed:!0,maxonscreen:1/0,labels:{redisplay:"Redisplay",all:"All",last:"Last"}},t.prototype.modules.history={inHistory:!1,init:function(t,i){if(t.options.destroy=!1,this.inHistory=i.history,i.menu&&"undefined"==typeof n){n=e("<div />",{"class":"ui-pnotify-history-container "+t.styles.hi_menu,mouseleave:function(){n.animate({top:"-"+r+"px"},{duration:100,queue:!1})}}).append(e("<div />",{"class":"ui-pnotify-history-header",text:i.labels.redisplay})).append(e("<button />",{"class":"ui-pnotify-history-all "+t.styles.hi_btn,text:i.labels.all,mouseenter:function(){e(this).addClass(t.styles.hi_btnhov)},mouseleave:function(){e(this).removeClass(t.styles.hi_btnhov)},click:function(){return e(this).trigger("pnotify.history-all"),!1}})).append(e("<button />",{"class":"ui-pnotify-history-last "+t.styles.hi_btn,text:i.labels.last,mouseenter:function(){e(this).addClass(t.styles.hi_btnhov)},mouseleave:function(){e(this).removeClass(t.styles.hi_btnhov)},click:function(){return e(this).trigger("pnotify.history-last"),!1}})).appendTo("body");var o=e("<span />",{"class":"ui-pnotify-history-pulldown "+t.styles.hi_hnd,mouseenter:function(){n.animate({top:"0"},{duration:100,queue:!1})}}).appendTo(n);console.log(o.offset()),r=o.offset().top+2,n.css({top:"-"+r+"px"}),i.fixed&&n.addClass("ui-pnotify-history-fixed")}},update:function(e,t){this.inHistory=t.history,t.fixed&&n?n.addClass("ui-pnotify-history-fixed"):n&&n.removeClass("ui-pnotify-history-fixed")},beforeOpen:function(n,r){if(t.notices&&t.notices.length>r.maxonscreen){var i;i="top"!==n.options.stack.push?t.notices.slice(0,t.notices.length-r.maxonscreen):t.notices.slice(r.maxonscreen,t.notices.length),e.each(i,function(){this.remove&&this.remove()})}}},e.extend(t.styling.jqueryui,{hi_menu:"ui-state-default ui-corner-bottom",hi_btn:"ui-state-default ui-corner-all",hi_btnhov:"ui-state-hover",hi_hnd:"ui-icon ui-icon-grip-dotted-horizontal"}),e.extend(t.styling.bootstrap2,{hi_menu:"well",hi_btn:"btn",hi_btnhov:"",hi_hnd:"icon-chevron-down"}),e.extend(t.styling.bootstrap3,{hi_menu:"well",hi_btn:"btn btn-default",hi_btnhov:"",hi_hnd:"glyphicon glyphicon-chevron-down"}),e.extend(t.styling.fontawesome,{hi_menu:"well",hi_btn:"btn btn-default",hi_btnhov:"",hi_hnd:"fa fa-chevron-down"})}),function(e){"function"==typeof define&&define.amd?define("pnotify.nonblock",["jquery","pnotify"],e):e(jQuery,PNotify)}(function(e,t){var n,r=/^on/,i=/^(dbl)?click$|^mouse(move|down|up|over|out|enter|leave)$|^contextmenu$/,o=/^(focus|blur|select|change|reset)$|^key(press|down|up)$/,a=/^(scroll|resize|(un)?load|abort|error)$/,s=function(t,n){var s;if(t=t.toLowerCase(),document.createEvent&&this.dispatchEvent){if(t=t.replace(r,""),t.match(i)?(e(this).offset(),s=document.createEvent("MouseEvents"),s.initMouseEvent(t,n.bubbles,n.cancelable,n.view,n.detail,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,n.relatedTarget)):t.match(o)?(s=document.createEvent("UIEvents"),s.initUIEvent(t,n.bubbles,n.cancelable,n.view,n.detail)):t.match(a)&&(s=document.createEvent("HTMLEvents"),s.initEvent(t,n.bubbles,n.cancelable)),!s)return;this.dispatchEvent(s)}else t.match(r)||(t="on"+t),s=document.createEventObject(n),this.fireEvent(t,s)},l=function(t,r,i){t.elem.css("display","none");var o=document.elementFromPoint(r.clientX,r.clientY);t.elem.css("display","block");var a=e(o),l=a.css("cursor");t.elem.css("cursor","auto"!==l?l:"default"),n&&n.get(0)==o||(n&&(s.call(n.get(0),"mouseleave",r.originalEvent),s.call(n.get(0),"mouseout",r.originalEvent)),s.call(o,"mouseenter",r.originalEvent),s.call(o,"mouseover",r.originalEvent)),s.call(o,i,r.originalEvent),n=a};t.prototype.options.nonblock={nonblock:!1,nonblock_opacity:.2},t.prototype.modules.nonblock={myOptions:null,init:function(e,t){var r=this;this.myOptions=t,e.elem.on({mouseenter:function(t){r.myOptions.nonblock&&t.stopPropagation(),r.myOptions.nonblock&&e.elem.stop().animate({opacity:r.myOptions.nonblock_opacity},"fast")},mouseleave:function(t){r.myOptions.nonblock&&t.stopPropagation(),n=null,e.elem.css("cursor","auto"),r.myOptions.nonblock&&"out"!==e.animating&&e.elem.stop().animate({opacity:e.options.opacity
},"fast")},mouseover:function(e){r.myOptions.nonblock&&e.stopPropagation()},mouseout:function(e){r.myOptions.nonblock&&e.stopPropagation()},mousemove:function(t){r.myOptions.nonblock&&(t.stopPropagation(),l(e,t,"onmousemove"))},mousedown:function(t){r.myOptions.nonblock&&(t.stopPropagation(),t.preventDefault(),l(e,t,"onmousedown"))},mouseup:function(t){r.myOptions.nonblock&&(t.stopPropagation(),t.preventDefault(),l(e,t,"onmouseup"))},click:function(t){r.myOptions.nonblock&&(t.stopPropagation(),l(e,t,"onclick"))},dblclick:function(t){r.myOptions.nonblock&&(t.stopPropagation(),l(e,t,"ondblclick"))}})},update:function(e,t){this.myOptions=t}}}),function(){"use strict";angular.module("jlareau.pnotify",[]).provider("notificationService",[function(){var e={styling:"bootstrap3"},t={},n=!1,r=function(r){var i=angular.copy(e);return(r||(r=n))&&r in t&&(i.stack=t[r].stack,t[r].addclass&&(i.addclass="addclass"in i?i.addclass+" "+t[r].addclass:t[r].addclass)),i};this.setDefaults=function(t){return e=t,this},this.setStack=function(e,n,r){return angular.isObject(n)&&(r=n,n=!1),t[e]={stack:r,addclass:n},this},this.setDefaultStack=function(e){return n=e,this},this.$get=[function(){return{getSettings:function(){return e},notice:function(e,t){var n=r(t);return n.type="notice",n.text=e,this.notify(n)},info:function(e,t){var n=r(t);return n.type="info",n.text=e,this.notify(n)},success:function(e,t){var n=r(t);return n.type="success",n.text=e,this.notify(n)},error:function(e,t){var n=r(t);return n.type="error",n.text=e,this.notify(n)},notifyWithDefaults:function(e,t){var n=r(t),i=angular.extend(n,e);return this.notify(i)},notify:function(e){return new PNotify(e)}}}]}])}(),function(){"use strict";var e={};angular.module("angular-redactor",[]).constant("redactorOptions",e).directive("redactor",["$timeout",function(t){return{restrict:"A",require:"ngModel",link:function(n,r,i,o){n.redactorLoaded=!1;var a,s=function(e){t(function(){n.$apply(function(){o.$setViewValue(e)})})},l={changeCallback:s},u=i.redactor?n.$eval(i.redactor):{};angular.extend(l,e,u);var c=u.changeCallback||e.changeCallback;c&&(l.changeCallback=function(e){s.call(this,e),c.call(this,e)}),t(function(){a=r.redactor(l),o.$render(),r.on("remove",function(){r.off("remove"),r.redactor("core.destroy")})}),o.$render=function(){angular.isDefined(a)&&t(function(){r.redactor("code.set",o.$viewValue||""),r.redactor("placeholder.toggle"),n.redactorLoaded=!0})}}}}])}(),function(e,t,n){"use strict";function r(e){return null!=e&&""!==e&&"hasOwnProperty"!==e&&s.test("."+e)}function i(e,i){if(!r(i))throw a("badmember",'Dotted member path "@{0}" is invalid.',i);for(var o=i.split("."),s=0,l=o.length;l>s&&t.isDefined(e);s++){var u=o[s];e=null!==e?e[u]:n}return e}function o(e,n){n=n||{},t.forEach(n,function(e,t){delete n[t]});for(var r in e)!e.hasOwnProperty(r)||"$"===r.charAt(0)&&"$"===r.charAt(1)||(n[r]=e[r]);return n}var a=t.$$minErr("$resource"),s=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;t.module("ngResource",["ng"]).provider("$resource",function(){var e=/^https?:\/\/[^\/]*/,r=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$q",function(s,l){function u(e){return c(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function c(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function d(e,t){this.template=e,this.defaults=g({},r.defaults,t),this.urlParams={}}function h(e,u,c,y){function b(e,t){var n={};return t=g({},u,t),f(t,function(t,r){v(t)&&(t=t()),n[r]=t&&t.charAt&&"@"==t.charAt(0)?i(e,t.substr(1)):t}),n}function w(e){return e.resource}function $(e){o(e||{},this)}var x=new d(e,y);return c=g({},r.defaults.actions,c),$.prototype.toJSON=function(){var e=g({},this);return delete e.$promise,delete e.$resolved,e},f(c,function(e,r){var i=/^(POST|PUT|PATCH)$/i.test(e.method);$[r]=function(u,c,d,h){var y,k,C,_={};switch(arguments.length){case 4:C=h,k=d;case 3:case 2:if(!v(c)){_=u,y=c,k=d;break}if(v(u)){k=u,C=c;break}k=c,C=d;case 1:v(u)?k=u:i?y=u:_=u;break;case 0:break;default:throw a("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var A=this instanceof $,T=A?y:e.isArray?[]:new $(y),E={},S=e.interceptor&&e.interceptor.response||w,D=e.interceptor&&e.interceptor.responseError||n;f(e,function(e,t){switch(t){default:E[t]=m(e);break;case"params":case"isArray":case"interceptor":break;case"timeout":E[t]=e}}),i&&(E.data=y),x.setUrlParams(E,g({},b(y,e.params||{}),_),e.url);var O=s(E).then(function(n){var i=n.data,s=T.$promise;if(i){if(t.isArray(i)!==!!e.isArray)throw a("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",r,e.isArray?"array":"object",t.isArray(i)?"array":"object",E.method,E.url);e.isArray?(T.length=0,f(i,function(e){"object"==typeof e?T.push(new $(e)):T.push(e)})):(o(i,T),T.$promise=s)}return T.$resolved=!0,n.resource=T,n},function(e){return T.$resolved=!0,(C||p)(e),l.reject(e)});return O=O.then(function(e){var t=S(e);return(k||p)(t,e.headers),t},D),A?O:(T.$promise=O,T.$resolved=!1,T)},$.prototype["$"+r]=function(e,t,n){v(e)&&(n=t,t=e,e={});var i=$[r].call(this,e,this,t,n);return i.$promise||i}}),$.bind=function(t){return h(e,g({},u,t),c)},$}var p=t.noop,f=t.forEach,g=t.extend,m=t.copy,v=t.isFunction;return d.prototype={setUrlParams:function(n,r,i){var o,s,l=this,c=i||l.template,d="",h=l.urlParams={};f(c.split(/\W/),function(e){if("hasOwnProperty"===e)throw a("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(c)&&(h[e]=!0)}),c=c.replace(/\\:/g,":"),c=c.replace(e,function(e){return d=e,""}),r=r||{},f(l.urlParams,function(e,n){o=r.hasOwnProperty(n)?r[n]:l.defaults[n],t.isDefined(o)&&null!==o?(s=u(o),c=c.replace(new RegExp(":"+n+"(\\W|$)","g"),function(e,t){return s+t})):c=c.replace(new RegExp("(/?):"+n+"(\\W|$)","g"),function(e,t,n){return"/"==n.charAt(0)?n:t+n})}),l.defaults.stripTrailingSlashes&&(c=c.replace(/\/+$/,"")||"/"),c=c.replace(/\/\.(?=\w+($|\?))/,"."),n.url=d+c.replace(/\/\\\./,"/."),f(r,function(e,t){l.urlParams[t]||(n.params=n.params||{},n.params[t]=e)})}},h}]})}(window,window.angular),function(e,t,n){"use strict";function r(){function e(e,n){return t.extend(Object.create(e),n)}function n(e,t){var n=t.caseInsensitiveMatch,r={originalPath:e,regexp:e},i=r.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(e,t,n,r){var o="?"===r?r:null,a="*"===r?r:null;return i.push({name:n,optional:!!o}),t=t||"",""+(o?"":t)+"(?:"+(o?t:"")+(a&&"(.+?)"||"([^/]+)")+(o||"")+")"+(o||"")}).replace(/([\/$\*])/g,"\\$1"),r.regexp=new RegExp("^"+e+"$",n?"i":""),r}var r={};this.when=function(e,i){var o=t.copy(i);if(t.isUndefined(o.reloadOnSearch)&&(o.reloadOnSearch=!0),t.isUndefined(o.caseInsensitiveMatch)&&(o.caseInsensitiveMatch=this.caseInsensitiveMatch),r[e]=t.extend(o,e&&n(e,o)),e){var a="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/";r[a]=t.extend({redirectTo:e},n(a,o))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(n,i,o,a,s,u,c){function d(e,t){var n=t.keys,r={};if(!t.regexp)return null;var i=t.regexp.exec(e);if(!i)return null;for(var o=1,a=i.length;a>o;++o){var s=n[o-1],l=i[o];s&&l&&(r[s.name]=l)}return r}function h(e){var r=b.current;m=f(),v=m&&r&&m.$$route===r.$$route&&t.equals(m.pathParams,r.pathParams)&&!m.reloadOnSearch&&!y,v||!r&&!m||n.$broadcast("$routeChangeStart",m,r).defaultPrevented&&e&&e.preventDefault()}function p(){var e=b.current,r=m;v?(e.params=r.params,t.copy(e.params,o),n.$broadcast("$routeUpdate",e)):(r||e)&&(y=!1,b.current=r,r&&r.redirectTo&&(t.isString(r.redirectTo)?i.path(g(r.redirectTo,r.params)).search(r.params).replace():i.url(r.redirectTo(r.pathParams,i.path(),i.search())).replace()),a.when(r).then(function(){if(r){var e,n,i=t.extend({},r.resolve);return t.forEach(i,function(e,n){i[n]=t.isString(e)?s.get(e):s.invoke(e,null,null,n)}),t.isDefined(e=r.template)?t.isFunction(e)&&(e=e(r.params)):t.isDefined(n=r.templateUrl)&&(t.isFunction(n)&&(n=n(r.params)),t.isDefined(n)&&(r.loadedTemplateUrl=c.valueOf(n),e=u(n))),t.isDefined(e)&&(i.$template=e),a.all(i)}}).then(function(i){r==b.current&&(r&&(r.locals=i,t.copy(r.params,o)),n.$broadcast("$routeChangeSuccess",r,e))},function(t){r==b.current&&n.$broadcast("$routeChangeError",r,e,t)}))}function f(){var n,o;return t.forEach(r,function(r,a){!o&&(n=d(i.path(),r))&&(o=e(r,{params:t.extend({},i.search(),n),pathParams:n}),o.$$route=r)}),o||r[null]&&e(r[null],{params:{},pathParams:{}})}function g(e,n){var r=[];return t.forEach((e||"").split(":"),function(e,t){if(0===t)r.push(e);else{var i=e.match(/(\w+)(?:[?*])?(.*)/),o=i[1];r.push(n[o]),r.push(i[2]||""),delete n[o]}}),r.join("")}var m,v,y=!1,b={routes:r,reload:function(){y=!0,n.$evalAsync(function(){h(),p()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw l("norout","Tried updating route when with no current route");e=t.extend({},this.current.params,e),i.path(g(this.current.$$route.originalPath,e)),i.search(e)}};return n.$on("$locationChangeStart",h),n.$on("$locationChangeSuccess",p),b}]}function i(){this.$get=function(){return{}}}function o(e,n,r){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(i,o,a,s,l){function u(){p&&(r.cancel(p),p=null),d&&(d.$destroy(),d=null),h&&(p=r.leave(h),p.then(function(){p=null}),h=null)}function c(){var a=e.current&&e.current.locals,s=a&&a.$template;if(t.isDefined(s)){var c=i.$new(),p=e.current,m=l(c,function(e){r.enter(e,null,h||o).then(function(){!t.isDefined(f)||f&&!i.$eval(f)||n()}),u()});h=m,d=p.scope=c,d.$emit("$viewContentLoaded"),d.$eval(g)}else u()}var d,h,p,f=a.autoscroll,g=a.onload||"";i.$on("$routeChangeSuccess",c),c()}}}function a(e,t,n){return{restrict:"ECA",priority:-400,link:function(r,i){var o=n.current,a=o.locals;i.html(a.$template);var s=e(i.contents());if(o.controller){a.$scope=r;var l=t(o.controller,a);o.controllerAs&&(r[o.controllerAs]=l),i.data("$ngControllerController",l),i.children().data("$ngControllerController",l)}s(r)}}}var s=t.module("ngRoute",["ng"]).provider("$route",r),l=t.$$minErr("ngRoute");s.provider("$routeParams",i),s.directive("ngView",o),s.directive("ngView",a),o.$inject=["$route","$anchorScroll","$animate"],a.$inject=["$compile","$controller","$route"]}(window,window.angular),function(e,t,n){"use strict";function r(){this.$get=["$$sanitizeUri",function(e){return function(t){var n=[];return a(t,u(n,function(t,n){return!/^unsafe/.test(e(t,n))})),n.join("")}}]}function i(e){var n=[],r=u(n,t.noop);return r.chars(e),n.join("")}function o(e,n){var r,i={},o=e.split(",");for(r=0;r<o.length;r++)i[n?t.lowercase(o[r]):o[r]]=!0;return i}function a(e,n){function r(e,r,o,a){if(r=t.lowercase(r),_[r])for(;b.last()&&A[b.last()];)i("",b.last());C[r]&&b.last()==r&&i("",r),a=$[r]||!!a,a||b.push(r);var l={};o.replace(p,function(e,t,n,r,i){var o=n||r||i||"";l[t]=s(o)}),n.start&&n.start(r,l,a)}function i(e,r){var i,o=0;if(r=t.lowercase(r))for(o=b.length-1;o>=0&&b[o]!=r;o--);if(o>=0){for(i=b.length-1;i>=o;i--)n.end&&n.end(b[i]);b.length=o}}"string"!=typeof e&&(e=null===e||"undefined"==typeof e?"":""+e);var o,a,l,u,b=[],w=e;for(b.last=function(){return b[b.length-1]};e;){if(u="",a=!0,b.last()&&E[b.last()]?(e=e.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+b.last()+"[^>]*>","i"),function(e,t){return t=t.replace(m,"$1").replace(y,"$1"),n.chars&&n.chars(s(t)),""}),i("",b.last())):(0===e.indexOf("<!--")?(o=e.indexOf("--",4),o>=0&&e.lastIndexOf("-->",o)===o&&(n.comment&&n.comment(e.substring(4,o)),e=e.substring(o+3),a=!1)):v.test(e)?(l=e.match(v),l&&(e=e.replace(l[0],""),a=!1)):g.test(e)?(l=e.match(h),l&&(e=e.substring(l[0].length),l[0].replace(h,i),a=!1)):f.test(e)&&(l=e.match(d),l?(l[4]&&(e=e.substring(l[0].length),l[0].replace(d,r)),a=!1):(u+="<",e=e.substring(1))),a&&(o=e.indexOf("<"),u+=0>o?e:e.substring(0,o),e=0>o?"":e.substring(o),n.chars&&n.chars(s(u)))),e==w)throw c("badparse","The sanitizer was unable to parse the following block of html: {0}",e);w=e}i()}function s(e){return e?(j.innerHTML=e.replace(/</g,"&lt;"),j.textContent):""}function l(e){return e.replace(/&/g,"&amp;").replace(b,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(w,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function u(e,n){var r=!1,i=t.bind(e,e.push);return{start:function(e,o,a){e=t.lowercase(e),!r&&E[e]&&(r=e),r||S[e]!==!0||(i("<"),i(e),t.forEach(o,function(r,o){var a=t.lowercase(o),s="img"===e&&"src"===a||"background"===a;N[a]!==!0||D[a]===!0&&!n(r,s)||(i(" "),i(o),i('="'),i(l(r)),i('"'))}),i(a?"/>":">"))},end:function(e){e=t.lowercase(e),r||S[e]!==!0||(i("</"),i(e),i(">")),e==r&&(r=!1)},chars:function(e){r||i(l(e))}}}var c=t.$$minErr("$sanitize"),d=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,h=/^<\/\s*([\w:-]+)[^>]*>/,p=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,f=/^</,g=/^<\//,m=/<!--(.*?)-->/g,v=/<!DOCTYPE([^>]*?)>/i,y=/<!\[CDATA\[(.*?)]]>/g,b=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,w=/([^\#-~| |!])/g,$=o("area,br,col,hr,img,wbr"),x=o("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),k=o("rp,rt"),C=t.extend({},k,x),_=t.extend({},x,o("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),A=t.extend({},k,o("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),T=o("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use"),E=o("script,style"),S=t.extend({},$,_,A,C,T),D=o("background,cite,href,longdesc,src,usemap,xlink:href"),O=o("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),P=o("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),N=t.extend({},D,P,O),j=document.createElement("pre");t.module("ngSanitize",[]).provider("$sanitize",r),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i;return function(o,a){function s(e){e&&p.push(i(e))}function l(e,n){p.push("<a "),t.isDefined(a)&&p.push('target="',a,'" '),p.push('href="',e.replace(/"/g,"&quot;"),'">'),s(n),p.push("</a>")}if(!o)return o;for(var u,c,d,h=o,p=[];u=h.match(n);)c=u[0],u[2]||u[4]||(c=(u[3]?"http://":"mailto:")+c),d=u.index,s(h.substr(0,d)),l(c,u[0].replace(r,"")),h=h.substring(d+u[0].length);return s(h),e(p.join(""))}}])}(window,window.angular),angular.module("uuid",[]).factory("rfc4122",function(){function e(e){return Math.random()*e}return{v4:function(){var t,n="";for(t=0;36>t;t++)n+=14===t?"4":19===t?"89ab".charAt(e(4)):8===t||13===t||18===t||23===t?"-":"0123456789abcdef".charAt(e(16));return n}}}),!function(e,t,n){"use strict";function r(e){return{require:"?ngModel",restrict:"A",link:function(n,r,i,o){function a(){var e=s(n);return t.isObject(e)&&e.hasOwnProperty("$viewValue")&&(e=e.$viewValue),e}if(!o)return void(console&&console.warn&&console.warn("Match validation requires ngModel to be on the element"));var s=e(i.match),l=e(i.matchCaseless),u=e(i.notMatch);n.$watch(a,function(){o.$$parseAndValidate()}),o.$validators.match=function(){var e,r=a(),i=u(n);return e=l(n)?t.lowercase(o.$viewValue)===t.lowercase(r):o.$viewValue===r,e^=i,!!e}}}}t.module("validation.match",[]),t.module("validation.match").directive("match",r),r.$inject=["$parse"]}(window,window.angular),Date.now||(Date.now=function(){return(new Date).getTime()}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){if(void 0===this||null===this)throw new TypeError('"this" is null or not defined');var n=this.length>>>0;for(t=+t||0,Math.abs(t)===1/0&&(t=0),0>t&&(t+=n,0>t&&(t=0));n>t;t++)if(this[t]===e)return t;return-1}),function(){var e;e=angular.module("scanner.detection",[]),e.controller("ngScannerDetectController",["$scope",function(e){var t=0,n=0,r=!1,i=!1,o=0;e.onKeyDown=function(n){e.options.scanButtonKeyCode!==!1&&n.which==e.options.scanButtonKeyCode?(o++,n.preventDefault(),n.stopImmediatePropagation()):(t&&-1!==e.options.endChar.indexOf(n.which)||!t&&-1!==e.options.startChar.indexOf(n.which))&&(e.onKeyPress(n),n.preventDefault(),n.stopImmediatePropagation())},e.onKeyPress=function(o){e.options.stopPropagation&&o.stopImmediatePropagation(),e.options.preventDefault&&o.preventDefault(),t&&-1!==e.options.endChar.indexOf(o.which)?(o.preventDefault(),o.stopImmediatePropagation(),r=!0):t||-1===e.options.startChar.indexOf(o.which)?("undefined"!=typeof o.which&&(e.options.model+=String.fromCharCode(o.which)),r=!1):(o.preventDefault(),o.stopImmediatePropagation(),r=!1),t||(t=Date.now()),n=Date.now(),i&&clearTimeout(i),r&&(s(),i=!1),e.options.onReceive&&e.options.onReceive(o)};var a=function(e){var t={onComplete:!1,onError:!1,onReceive:!1,onKeyDetect:!1,timeBeforeScanTest:100,avgTimeByChar:30,minLength:6,endChar:[9,13],startChar:[],ignoreIfFocusOn:!1,scanButtonKeyCode:!1,scanButtonLongPressThreshold:3,onScanButtonLongPressed:!1,stopPropagation:!1,preventDefault:!1};return"function"==typeof e&&(e={onComplete:e}),e="object"!=typeof e?$.extend({},t):$.extend({},t,e)},s=function(){return o||(o=1),e.options.model.length>=e.options.minLength&&n-t<e.options.model.length*e.options.avgTimeByChar?(e.options.onScanButtonLongPressed&&o>e.options.scanButtonLongPressThreshold?e.options.onScanButtonLongPressed():e.options.onComplete&&e.options.onComplete(),u(),!0):(e.options.onError&&e.options.onError(),u(),!1)},l=function(){e.options=a(e.ngScannerDetect),u()},u=function(){t=0,o=0};l()}]),e.directive("ngScannerDetect",function(){return{restrict:"A",scope:{ngScannerDetect:"="},controller:"ngScannerDetectController",link:function(e,t,n){t.bind("keypress",function(t){e.onKeyPress(t)}),t.bind("keydown",function(t){e.onKeyDown(t)})}}})}.call(this),function(){function n(e){return void 0!==e}function ba(){}function ca(e){e.ub=function(){return e.uf?e.uf:e.uf=new e}}function da(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t}function ea(e){return"array"==da(e)}function fa(e){var t=da(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"string"==typeof e}function ga(e){return"number"==typeof e}function ha(e){return"function"==da(e)}function ia(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function ja(e,t,n){return e.call.apply(e.bind,arguments)}function ka(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function q(e,t,n){return q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka,q.apply(null,arguments)}function ma(e,t){function n(){}n.prototype=t.prototype,e.bh=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Yg=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function r(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function na(e,t){var n,r={};for(n in e)r[n]=t.call(void 0,e[n],n,e);return r}function oa(e,t){for(var n in e)if(!t.call(void 0,e[n],n,e))return!1;return!0}function pa(e){var t,n=0;for(t in e)n++;return n}function qa(e){for(var t in e)return t}function ra(e){var t,n=[],r=0;for(t in e)n[r++]=e[t];return n}function sa(e){var t,n=[],r=0;for(t in e)n[r++]=t;return n}function ta(e,t){for(var n in e)if(e[n]==t)return!0;return!1}function ua(e,t,n){for(var r in e)if(t.call(n,e[r],r,e))return r}function va(e,t){var n=ua(e,t,void 0);return n&&e[n]}function wa(e){for(var t in e)return!1;return!0}function xa(e){var t,n={};for(t in e)n[t]=e[t];return n}function za(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var o=0;o<ya.length;o++)n=ya[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Aa(a){if(a=String(a),/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a)}function Ba(){this.Sd=void 0}function Ca(e,t,n){switch(typeof t){case"string":Da(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?t:"null");break;case"boolean":n.push(t);break;case"undefined":n.push("null");break;case"object":if(null==t){n.push("null");break}if(ea(t)){var r=t.length;n.push("[");for(var i="",o=0;r>o;o++)n.push(i),i=t[o],Ca(e,e.Sd?e.Sd.call(t,String(o),i):i,n),i=",";n.push("]");break}n.push("{"),r="";for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i=t[o],"function"!=typeof i&&(n.push(r),Da(o,n),n.push(":"),Ca(e,e.Sd?e.Sd.call(t,o,i):i,n),r=","));n.push("}");break;case"function":break;default:throw Error("Unknown type: "+typeof t)}}function Da(e,t){t.push('"',e.replace(Fa,function(e){if(e in Ea)return Ea[e];var t=e.charCodeAt(0),n="\\u";return 16>t?n+="000":256>t?n+="00":4096>t&&(n+="0"),Ea[e]=n+t.toString(16)}),'"')}function Ga(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^la()).toString(36)}function Ka(){this.Va=-1}function La(){this.Va=-1,this.Va=64,this.N=[],this.me=[],this.Wf=[],this.Ld=[],this.Ld[0]=128;for(var e=1;e<this.Va;++e)this.Ld[e]=0;this.de=this.ac=0,this.reset()}function Ma(e,t,n){n||(n=0);var r=e.Wf;if(p(t))for(var i=0;16>i;i++)r[i]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(i=0;16>i;i++)r[i]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(i=16;80>i;i++){var o=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=4294967295&(o<<1|o>>>31)}t=e.N[0],n=e.N[1];for(var a,s=e.N[2],l=e.N[3],u=e.N[4],i=0;80>i;i++)40>i?20>i?(o=l^n&(s^l),a=1518500249):(o=n^s^l,a=1859775393):60>i?(o=n&s|l&(n|s),a=2400959708):(o=n^s^l,a=3395469782),o=(t<<5|t>>>27)+o+u+a+r[i]&4294967295,u=l,l=s,s=4294967295&(n<<30|n>>>2),n=t,t=o;e.N[0]=e.N[0]+t&4294967295,e.N[1]=e.N[1]+n&4294967295,e.N[2]=e.N[2]+s&4294967295,e.N[3]=e.N[3]+l&4294967295,e.N[4]=e.N[4]+u&4294967295}function Ta(e,t){var n=Ua(e,t,void 0);return 0>n?null:p(e)?e.charAt(n):e[n]}function Ua(e,t,n){for(var r=e.length,i=p(e)?e.split(""):e,o=0;r>o;o++)if(o in i&&t.call(n,i[o],o,e))return o;return-1}function Va(e,t){var n=Na(e,t);n>=0&&u.splice.call(e,n,1)}function Wa(e,t,n){return 2>=arguments.length?u.slice.call(e,t):u.slice.call(e,t,n)}function Xa(e,t){e.sort(t||Ya)}function Ya(e,t){return e>t?1:t>e?-1:0}function fb(e,t){if(!fa(e))throw Error("encodeByteArray takes an array as a parameter");gb();for(var n=t?db:cb,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=o>>2,o=(3&o)<<4|s>>4,s=(15&s)<<2|u>>6,u=63&u;l||(u=64,a||(s=64)),r.push(n[c],n[o],n[s],n[u])}return r.join("")}function gb(){if(!cb){cb={},db={},eb={};for(var e=0;65>e;e++)cb[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),db[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e),eb[db[e]]=e,e>=62&&(eb["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e)]=e)}}function v(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function w(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function ib(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function jb(e){var t={};return ib(e,function(e,n){t[e]=n}),t}function kb(e){var t=[];return ib(e,function(e,n){ea(n)?Oa(n,function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),t.length?"&"+t.join("&"):""}function lb(e){var t={};return e=e.replace(/^\?/,"").split("&"),Oa(e,function(e){e&&(e=e.split("="),t[e[0]]=e[1])}),t}function x(e,t,n,r){var i;if(t>r?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}function y(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return e=e+" failed: "+(r+" argument ")}function A(e,t,r,i){if((!i||n(r))&&!ha(r))throw Error(y(e,t,i)+"must be a valid function.")}function mb(e,t,r){if(n(r)&&(!ia(r)||null===r))throw Error(y(e,t,!0)+"must be a valid context object.")}function nb(e){return"undefined"!=typeof JSON&&n(JSON.parse)?JSON.parse(e):Aa(e)}function B(e){if("undefined"!=typeof JSON&&n(JSON.stringify))e=JSON.stringify(e);else{var t=[];Ca(new Ba,e,t),e=t.join("")}return e}function ob(){this.Wd=C}function pb(){}function rb(e,t,n){this.Tf=e,this.Ka=t,this.Kd=n}function vb(){this.tb=[]}function wb(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.Zb();null===n||o.ca(n.Zb())||(e.tb.push(n),n=null),null===n&&(n=new xb(o)),n.add(i)}n&&e.tb.push(n)}function yb(e,t,n){wb(e,n),zb(e,function(e){return e.ca(t)})}function Ab(e,t,n){wb(e,n),zb(e,function(e){return e.contains(t)||t.contains(e)})}function zb(e,t){for(var n=!0,r=0;r<e.tb.length;r++){var i=e.tb[r];if(i)if(i=i.Zb(),t(i)){for(var i=e.tb[r],o=0;o<i.vd.length;o++){var a=i.vd[o];if(null!==a){i.vd[o]=null;var s=a.Vb();Bb&&Cb("event: "+a.toString()),Db(s)}}e.tb[r]=null}else n=!1}n&&(e.tb=[])}function xb(e){this.ra=e,this.vd=[]}function D(e,t,n,r){this.type=e,this.Ja=t,this.Wa=n,this.Ke=r,this.Qd=void 0}function Eb(e){return new D(Fb,e)}function Gb(e,t,n,r){this.ue=t,this.Zd=n,this.Qd=r,this.ud=e}function Hb(e,t,n){this.ue=e,this.error=t,this.path=n}function tb(e,t,n){this.A=e,this.ea=t,this.Ub=n}function Ib(e){return e.ea}function Jb(e){return e.Ub}function Kb(e,t){return t.e()?e.ea&&!e.Ub:sb(e,E(t))}function sb(e,t){return e.ea&&!e.Ub||e.A.Da(t)}function Lb(e){this.gg=e,this.Dd=null}function Mb(e,t){this.Of={},this.fd=new Lb(e),this.ba=t;var n=1e4+2e4*Math.random();setTimeout(q(this.If,this),Math.floor(n))}function Nb(){this.Ec={}}function Ob(e,t,r){n(r)||(r=1),v(e.Ec,t)||(e.Ec[t]=0),e.Ec[t]+=r}function Rb(e){return e=e.toString(),Pb[e]||(Pb[e]=new Nb),Pb[e]}function Sb(e,t){var n=e.toString();return Qb[n]||(Qb[n]=t()),Qb[n]}function F(e,t){this.name=e,this.S=t}function Tb(e,t){return new F(e,t)}function Ub(e,t){return Vb(e.name,t.name)}function Wb(e,t){return Vb(e,t)}function Xb(e,t,n){this.type=Yb,this.source=e,this.path=t,this.Ga=n}function Zb(e,t){this.type=$b,this.source=e,this.path=t}function ac(e,t){this.La=e,this.wa=t?t:bc}function cc(e,t){for(var n,r=e.wa,i=null;!r.e();){if(n=e.La(t,r.key),0===n){if(r.left.e())return i?i.key:null;for(r=r.left;!r.right.e();)r=r.right;return r.key}0>n?r=r.left:n>0&&(i=r,r=r.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}function dc(e,t,n,r,i){for(this.Ud=i||null,this.Fe=r,this.Pa=[],i=1;!e.e();)if(i=t?n(e.key,t):1,r&&(i*=-1),0>i)e=this.Fe?e.left:e.right;else{if(0===i){this.Pa.push(e);break}this.Pa.push(e),e=this.Fe?e.right:e.left}}function J(e){if(0===e.Pa.length)return null;var t,n=e.Pa.pop();if(t=e.Ud?e.Ud(n.key,n.value):{key:n.key,value:n.value},e.Fe)for(n=n.left;!n.e();)e.Pa.push(n),n=n.right;else for(n=n.right;!n.e();)e.Pa.push(n),n=n.left;return t}function ec(e){if(0===e.Pa.length)return null;var t;return t=e.Pa,t=t[t.length-1],e.Ud?e.Ud(t.key,t.value):{key:t.key,value:t.value}}function fc(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:!0,this.left=null!=r?r:bc,this.right=null!=i?i:bc}function gc(e){return e.left.e()?e:gc(e.left)}function ic(e){return e.left.e()?bc:(e.left.fa()||e.left.left.fa()||(e=jc(e)),e=e.Y(null,null,null,ic(e.left),null),hc(e))}function hc(e){return e.right.fa()&&!e.left.fa()&&(e=mc(e)),e.left.fa()&&e.left.left.fa()&&(e=kc(e)),e.left.fa()&&e.right.fa()&&(e=lc(e)),e}function jc(e){return e=lc(e),e.right.left.fa()&&(e=e.Y(null,null,null,null,kc(e.right)),e=mc(e),e=lc(e)),e}function mc(e){return e.right.Y(null,null,e.color,e.Y(null,null,!0,null,e.right.left),null)}function kc(e){return e.left.Y(null,null,e.color,null,e.Y(null,null,!0,e.left.right,null))}function lc(e){return e.Y(null,null,!e.color,e.left.Y(null,null,!e.left.color,null,null),e.right.Y(null,null,!e.right.color,null,null))}function nc(){}function oc(e,t){return e&&"object"==typeof e?(K(".sv"in e,"Unexpected leaf node or priority contents"),t[e[".sv"]]):e}function pc(e,t){var n=new qc;return rc(e,new L(""),function(e,r){n.nc(e,sc(r,t))}),n}function sc(e,t){var n,r=e.C().I(),r=oc(r,t);if(e.K()){var i=oc(e.Ca(),t);return i!==e.Ca()||r!==e.C().I()?new tc(i,M(r)):e}return n=e,r!==e.C().I()&&(n=n.ga(new tc(r))),e.P(N,function(e,r){var i=sc(r,t);i!==r&&(n=n.U(e,i))}),n}function uc(){this.wc={}}function vc(e){this.Fc=e,this.Pd="firebase:"}function wc(e){try{if("undefined"!=typeof window&&"undefined"!=typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new vc(t)}}catch(n){}return new uc}function zc(e,t,n,r,i){this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.kb=t,this.hc=n,this.Wg=r,this.Od=i||"",this.Ya=xc.get("host:"+e)||this.host}function Ac(e,t){t!==e.Ya&&(e.Ya=t,"s-"===e.Ya.substr(0,2)&&xc.set("host:"+e.host,e.Ya))}function Bc(e,t,n){
if(K("string"==typeof t,"typeof type must == string"),K("object"==typeof n,"typeof params must == object"),t===Cc)t=(e.kb?"wss://":"ws://")+e.Ya+"/.ws?";else{if(t!==Dc)throw Error("Unknown connection type: "+t);t=(e.kb?"https://":"http://")+e.Ya+"/.lp?"}e.host!==e.Ya&&(n.ns=e.hc);var i=[];return r(n,function(e,t){i.push(t+"="+e)}),t+i.join("&")}function K(e,t){if(!e)throw Fc(t)}function Fc(e){return Error("Firebase ("+hb+") INTERNAL ASSERT FAILED: "+e)}function Gc(e){try{var t;if("undefined"!=typeof atob)t=atob(e);else{gb();for(var n=eb,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;var s=i<e.length?n[e.charAt(i)]:64;++i;var l=i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==l)throw Error();r.push(o<<2|a>>4),64!=s&&(r.push(a<<4&240|s>>2),64!=l&&r.push(s<<6&192|l))}if(8192>r.length)t=String.fromCharCode.apply(null,r);else{for(e="",n=0;n<r.length;n+=8192)e+=String.fromCharCode.apply(null,Wa(r,n,n+8192));t=e}}return t}catch(u){Cb("base64Decode failed: ",u)}return null}function Hc(e){var t=Ic(e);e=new La,e.update(t);var t=[],n=8*e.de;56>e.ac?e.update(e.Ld,56-e.ac):e.update(e.Ld,e.Va-(e.ac-56));for(var r=e.Va-1;r>=56;r--)e.me[r]=255&n,n/=256;for(Ma(e,e.me),r=n=0;5>r;r++)for(var i=24;i>=0;i-=8)t[n]=e.N[r]>>i&255,++n;return fb(t)}function Jc(e){for(var t="",n=0;n<arguments.length;n++)t=fa(arguments[n])?t+Jc.apply(null,arguments[n]):"object"==typeof arguments[n]?t+B(arguments[n]):t+arguments[n],t+=" ";return t}function Cb(e){if(!0===Kc&&(Kc=!1,null===Bb&&!0===yc.get("logging_enabled")&&Lc(!0)),Bb){var t=Jc.apply(null,arguments);Bb(t)}}function Mc(e){return function(){Cb(e,arguments)}}function Nc(e){if("undefined"!=typeof console){var t="FIREBASE INTERNAL ERROR: "+Jc.apply(null,arguments);"undefined"!=typeof console.error?console.error(t):console.log(t)}}function Oc(e){var t=Jc.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+t)}function O(e){if("undefined"!=typeof console){var t="FIREBASE WARNING: "+Jc.apply(null,arguments);"undefined"!=typeof console.warn?console.warn(t):console.log(t)}}function Pc(e){var t="",n="",r="",i="",o=!0,a="https",s=443;if(p(e)){var l=e.indexOf("//");for(l>=0&&(a=e.substring(0,l-1),e=e.substring(l+2)),l=e.indexOf("/"),-1===l&&(l=e.length),t=e.substring(0,l),i="",e=e.substring(l).split("/"),l=0;l<e.length;l++)if(0<e[l].length){var u=e[l];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch(c){}i+="/"+u}e=t.split("."),3===e.length?(n=e[1],r=e[0].toLowerCase()):2===e.length&&(n=e[0]),l=t.indexOf(":"),l>=0&&(o="https"===a||"wss"===a,s=t.substring(l+1),isFinite(s)&&(s=String(s)),s=p(s)?/^\s*-?0x/i.test(s)?parseInt(s,16):parseInt(s,10):NaN)}return{host:t,port:s,domain:n,Tg:r,kb:o,scheme:a,$c:i}}function Qc(e){return ga(e)&&(e!=e||e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY)}function Rc(e){if("complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}function Vb(e,t){if(e===t)return 0;if("[MIN_NAME]"===e||"[MAX_NAME]"===t)return-1;if("[MIN_NAME]"===t||"[MAX_NAME]"===e)return 1;var n=Sc(e),r=Sc(t);return null!==n?null!==r?0==n-r?e.length-t.length:n-r:-1:null!==r?1:t>e?-1:1}function Tc(e,t){if(t&&e in t)return t[e];throw Error("Missing required key ("+e+") in object: "+B(t))}function Uc(e){if("object"!=typeof e||null===e)return B(e);var t,n=[];for(t in e)n.push(t);n.sort(),t="{";for(var r=0;r<n.length;r++)0!==r&&(t+=","),t+=B(n[r]),t+=":",t+=Uc(e[n[r]]);return t+"}"}function Vc(e,t){if(e.length<=t)return[e];for(var n=[],r=0;r<e.length;r+=t)r+t>e?n.push(e.substring(r,e.length)):n.push(e.substring(r,r+t));return n}function Wc(e,t){if(ea(e))for(var n=0;n<e.length;++n)t(n,e[n]);else r(e,t)}function Xc(e){K(!Qc(e),"Invalid JSON number");var t,n,r,i;for(0===e?(r=n=0,t=-(1/0)===1/e?1:0):(t=0>e,e=Math.abs(e),e>=Math.pow(2,-1022)?(r=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),n=r+1023,r=Math.round(e*Math.pow(2,52-r)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074)))),i=[],e=52;e;--e)i.push(r%2?1:0),r=Math.floor(r/2);for(e=11;e;--e)i.push(n%2?1:0),n=Math.floor(n/2);for(i.push(t?1:0),i.reverse(),t=i.join(""),n="",e=0;64>e;e+=8)r=parseInt(t.substr(e,8),2).toString(16),1===r.length&&(r="0"+r),n+=r;return n.toLowerCase()}function Sc(e){return Yc.test(e)&&(e=Number(e),e>=-2147483648&&2147483647>=e)?e:null}function Db(e){try{e()}catch(t){setTimeout(function(){throw O("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}}function P(e,t){if(ha(e)){var n=Array.prototype.slice.call(arguments,1).slice();Db(function(){e.apply(null,n)})}}function Ic(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i>=55296&&56319>=i&&(i-=55296,r++,K(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(i<<10)+(e.charCodeAt(r)-56320)),128>i?t[n++]=i:(2048>i?t[n++]=i>>6|192:(65536>i?t[n++]=i>>12|224:(t[n++]=i>>18|240,t[n++]=i>>12&63|128),t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t}function Zc(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);128>r?t++:2048>r?t+=2:r>=55296&&56319>=r?(t+=4,n++):t+=3}return t}function $c(e){var t={},n={},r={},i="";try{var o=e.split("."),t=nb(Gc(o[0])||""),n=nb(Gc(o[1])||""),i=o[2],r=n.d||{};delete n.d}catch(a){}return{Zg:t,Bc:n,data:r,Qg:i}}function ad(e){return e=$c(e).Bc,"object"==typeof e&&e.hasOwnProperty("iat")?w(e,"iat"):null}function bd(e){e=$c(e);var t=e.Bc;return!!e.Qg&&!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}function cd(e){this.W=e,this.g=e.n.g}function dd(e,t,n,r){var i=[],o=[];return Oa(t,function(t){"child_changed"===t.type&&e.g.Ad(t.Ke,t.Ja)&&o.push(new D("child_moved",t.Ja,t.Wa))}),ed(e,i,"child_removed",t,r,n),ed(e,i,"child_added",t,r,n),ed(e,i,"child_moved",o,r,n),ed(e,i,"child_changed",t,r,n),ed(e,i,Fb,t,r,n),i}function ed(e,t,n,r,i,o){r=Pa(r,function(e){return e.type===n}),Xa(r,q(e.hg,e)),Oa(r,function(n){var r=fd(e,n,o);Oa(i,function(i){i.Kf(n.type)&&t.push(i.createEvent(r,e.W))})})}function fd(e,t,n){return"value"!==t.type&&"child_removed"!==t.type&&(t.Qd=n.rf(t.Wa,t.Ja,e.g)),t}function gd(){this.bb={}}function hd(e,t){var n=t.type,r=t.Wa;K("child_added"==n||"child_changed"==n||"child_removed"==n,"Only child changes supported for tracking"),K(".priority"!==r,"Only non-priority child changes can be tracked.");var i=w(e.bb,r);if(i){var o=i.type;if("child_added"==n&&"child_removed"==o)e.bb[r]=new D("child_changed",t.Ja,r,i.Ja);else if("child_removed"==n&&"child_added"==o)delete e.bb[r];else if("child_removed"==n&&"child_changed"==o)e.bb[r]=new D("child_removed",i.Ke,r);else if("child_changed"==n&&"child_added"==o)e.bb[r]=new D("child_added",t.Ja,r);else{if("child_changed"!=n||"child_changed"!=o)throw Fc("Illegal combination of changes: "+t+" occurred after "+i);e.bb[r]=new D("child_changed",t.Ja,r,i.Ke)}}else e.bb[r]=t}function id(e,t,n){this.Rb=e,this.pb=t,this.rb=n||null}function jd(e,t,n){this.ha=e,this.pb=t,this.rb=n}function kd(e){this.g=e}function ld(e){this.Be=new kd(e.g),this.g=e.g;var t;e.ma?(t=md(e),t=e.g.Pc(nd(e),t)):t=e.g.Tc(),this.ed=t,e.pa?(t=od(e),e=e.g.Pc(pd(e),t)):e=e.g.Qc(),this.Gc=e}function qd(e){this.sa=new ld(e),this.g=e.g,K(e.ja,"Only valid if limit has been set"),this.ka=e.ka,this.Jb=!rd(e)}function sd(e,t,n,r,i,o){var a;if(e.Jb){var s=td(e.g);a=function(e,t){return s(t,e)}}else a=td(e.g);K(t.Db()==e.ka,"");var l=new F(n,r),u=e.Jb?ud(t,e.g):vd(t,e.g),c=e.sa.matches(l);if(t.Da(n)){for(var d=t.R(n),u=i.ye(e.g,u,e.Jb);null!=u&&(u.name==n||t.Da(u.name));)u=i.ye(e.g,u,e.Jb);return i=null==u?1:a(u,l),c&&!r.e()&&i>=0?(null!=o&&hd(o,new D("child_changed",r,n,d)),t.U(n,r)):(null!=o&&hd(o,new D("child_removed",d,n)),t=t.U(n,C),null!=u&&e.sa.matches(u)?(null!=o&&hd(o,new D("child_added",u.S,u.name)),t.U(u.name,u.S)):t)}return r.e()?t:c&&0<=a(u,l)?(null!=o&&(hd(o,new D("child_removed",u.S,u.name)),hd(o,new D("child_added",r,n))),t.U(n,r).U(u.name,C)):t}function wd(e,t){this.je=e,this.fg=t}function xd(e){this.V=e}function Hd(e,t,n,r,i,o){var a=t.O;if(null!=r.tc(n))return t;var s;if(n.e())K(Ib(t.w()),"If change path is empty, we must have complete server data"),Jb(t.w())?(i=ub(t),r=r.yc(i instanceof R?i:C)):r=r.za(ub(t)),o=e.V.xa(t.O.j(),r,o);else{var l=E(n);if(".priority"==l)K(1==Kd(n),"Can't have a priority with additional path components"),o=a.j(),s=t.w().j(),r=r.ld(n,o,s),o=null!=r?e.V.ga(o,r):a.j();else{var u=H(n);sb(a,l)?(s=t.w().j(),r=r.ld(n,a.j(),s),r=null!=r?a.j().R(l).G(u,r):a.j().R(l)):r=r.xc(l,t.w()),o=null!=r?e.V.G(a.j(),l,r,u,i,o):a.j()}}return Fd(t,o,a.ea||n.e(),e.V.Na())}function Ad(e,t,n,r,i,o,a,s){var l=t.w();if(a=a?e.V:e.V.Wb(),n.e())r=a.xa(l.j(),r,null);else if(a.Na()&&!l.Ub)r=l.j().G(n,r),r=a.xa(l.j(),r,null);else{var u=E(n);if(!Kb(l,n)&&1<Kd(n))return t;var c=H(n);r=l.j().R(u).G(c,r),r=".priority"==u?a.ga(l.j(),r):a.G(l.j(),u,r,c,qb,null)}return l=l.ea||n.e(),t=new Id(t.O,new tb(r,l,a.Na())),Hd(e,t,n,i,new rb(i,t,o),s)}function yd(e,t,n,r,i,o,a){var s=t.O;if(i=new rb(i,t,o),n.e())a=e.V.xa(t.O.j(),r,a),e=Fd(t,a,!0,e.V.Na());else if(o=E(n),".priority"===o)a=e.V.ga(t.O.j(),r),e=Fd(t,a,s.ea,s.Ub);else{n=H(n);var l=s.j().R(o);if(!n.e()){var u=i.qf(o);r=null!=u?".priority"===Ld(n)&&u.Q(n.parent()).e()?u:u.G(n,r):C}l.ca(r)?e=t:(a=e.V.G(s.j(),o,r,n,i,a),e=Fd(t,a,s.ea,e.V.Na()))}return e}function Cd(e,t,n,r,i,o,a){var s=t;return Md(r,function(r,l){var u=n.u(r);sb(t.O,E(u))&&(s=yd(e,s,u,l,i,o,a))}),Md(r,function(r,l){var u=n.u(r);sb(t.O,E(u))||(s=yd(e,s,u,l,i,o,a))}),s}function Nd(e,t){return Md(t,function(t,n){e=e.G(t,n)}),e}function Dd(e,t,n,r,i,o,a,s){if(t.w().j().e()&&!Ib(t.w()))return t;var l=t;n=n.e()?r:Od(Pd,n,r);var u=t.w().j();return n.children.ia(function(n,r){if(u.Da(n)){var c=t.w().j().R(n),c=Nd(c,r);l=Ad(e,l,new L(n),c,i,o,a,s)}}),n.children.ia(function(n,r){var c=!sb(t.w(),n)&&null==r.value;u.Da(n)||c||(c=t.w().j().R(n),c=Nd(c,r),l=Ad(e,l,new L(n),c,i,o,a,s))}),l}function Gd(e,t,n,r,i,o,a){if(null!=i.tc(n))return t;var s=Jb(t.w()),l=t.w();if(null!=r.value){if(n.e()&&l.ea||Kb(l,n))return Ad(e,t,n,l.j().Q(n),i,o,s,a);if(n.e()){var u=Pd;return l.j().P(Qd,function(e,t){u=u.set(new L(e),t)}),Dd(e,t,n,u,i,o,s,a)}return t}return u=Pd,Md(r,function(e){var t=n.u(e);Kb(l,t)&&(u=u.set(e,l.j().Q(t)))}),Dd(e,t,n,u,i,o,s,a)}function Rd(){}function td(e){return q(e.compare,e)}function Ud(e){K(!e.e()&&".priority"!==E(e),"Can't create PathIndex with empty path or .priority key"),this.cc=e}function Wd(){}function Xd(){}function Yd(){}function ae(){this.Tb=this.pa=this.Lb=this.ma=this.ja=!1,this.ka=0,this.Nb="",this.ec=null,this.xb="",this.bc=null,this.vb="",this.g=N}function rd(e){return""===e.Nb?e.ma:"l"===e.Nb}function nd(e){return K(e.ma,"Only valid if start has been set"),e.ec}function md(e){return K(e.ma,"Only valid if start has been set"),e.Lb?e.xb:"[MIN_NAME]"}function pd(e){return K(e.pa,"Only valid if end has been set"),e.bc}function od(e){return K(e.pa,"Only valid if end has been set"),e.Tb?e.vb:"[MAX_NAME]"}function ce(e){var t=new ae;return t.ja=e.ja,t.ka=e.ka,t.ma=e.ma,t.ec=e.ec,t.Lb=e.Lb,t.xb=e.xb,t.pa=e.pa,t.bc=e.bc,t.Tb=e.Tb,t.vb=e.vb,t.g=e.g,t}function de(e,t){var n=ce(e);return n.g=t,n}function ee(e){var t={};if(e.ma&&(t.sp=e.ec,e.Lb&&(t.sn=e.xb)),e.pa&&(t.ep=e.bc,e.Tb&&(t.en=e.vb)),e.ja){t.l=e.ka;var n=e.Nb;""===n&&(n=rd(e)?"l":"r"),t.vf=n}return e.g!==N&&(t.i=e.g.toString()),t}function S(e){return!(e.ma||e.pa||e.ja)}function fe(e){return S(e)&&e.g==N}function ge(e){var t={};if(fe(e))return t;var n;return e.g===N?n="$priority":e.g===$d?n="$value":e.g===Qd?n="$key":(K(e.g instanceof Ud,"Unrecognized index type!"),n=e.g.toString()),t.orderBy=B(n),e.ma&&(t.startAt=B(e.ec),e.Lb&&(t.startAt+=","+B(e.xb))),e.pa&&(t.endAt=B(e.bc),e.Tb&&(t.endAt+=","+B(e.vb))),e.ja&&(rd(e)?t.limitToFirst=e.ka:t.limitToLast=e.ka),t}function he(e,t){this.Bd=e,this.dc=t}function ie(e,t,n){var r=na(e.Bd,function(r,i){var o=w(e.dc,i);if(K(o,"Missing index implementation for "+i),r===Sd){if(o.Ic(t.S)){for(var a=[],s=n.Xb(Tb),l=J(s);l;)l.name!=t.name&&a.push(l),l=J(s);return a.push(t),je(a,td(o))}return Sd}return o=n.get(t.name),a=r,o&&(a=a.remove(new F(t.name,o))),a.Oa(t,t.S)});return new he(r,e.dc)}function ke(e,t,n){var r=na(e.Bd,function(e){if(e===Sd)return e;var r=n.get(t.name);return r?e.remove(new F(t.name,r)):e});return new he(r,e.dc)}function tc(e,t){this.B=e,K(n(this.B)&&null!==this.B,"LeafNode shouldn't be created with null/undefined value."),this.aa=t||C,me(this.aa),this.Cb=null}function R(e,t,n){this.m=e,(this.aa=t)&&me(this.aa),e.e()&&K(!this.aa||this.aa.e(),"An empty node cannot have a priority"),this.wb=n,this.Cb=null}function ud(e,t){var n;return n=(n=qe(e,t))?(n=n.Sc())&&n.name:e.m.Sc(),n?new F(n,e.m.get(n)):null}function vd(e,t){var n;return n=(n=qe(e,t))?(n=n.fc())&&n.name:e.m.fc(),n?new F(n,e.m.get(n)):null}function qe(e,t){return t===Qd?null:e.wb.get(t.toString())}function M(e,t){if(null===e)return C;var n=null;if("object"==typeof e&&".priority"in e?n=e[".priority"]:"undefined"!=typeof t&&(n=t),K(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new tc(e,M(n));if(e instanceof Array){var i=C,o=e;return r(o,function(e,t){if(v(o,t)&&"."!==t.substring(0,1)){var n=M(e);(n.K()||!n.e())&&(i=i.U(t,n))}}),i.ga(M(n))}var a=[],s=!1,l=e;if(ib(l,function(e){if("string"!=typeof e||"."!==e.substring(0,1)){var t=M(l[e]);t.e()||(s=s||!t.C().e(),a.push(new F(e,t)))}}),0==a.length)return C;var u=je(a,Ub,function(e){return e.name},Wb);if(s){var c=je(a,td(N));return new R(u,M(n),new he({".priority":c},{".priority":N}))}return new R(u,M(n),le)}function se(e){this.count=parseInt(Math.log(e+1)/re,10),this.jf=this.count-1,this.eg=e+1&parseInt(Array(this.count+1).join("1"),2)}function te(e){var t=!(e.eg&1<<e.jf);return e.jf--,t}function je(e,t,n,r){function i(t,r){var o=r-t;if(0==o)return null;if(1==o){var a=e[t],s=n?n(a):a;return new fc(s,a.S,!1,null,null)}var a=parseInt(o/2,10)+t,o=i(t,a),l=i(a+1,r),a=e[a],s=n?n(a):a;return new fc(s,a.S,!1,o,l)}e.sort(t);var o=function(t){function r(t,r){var l=s-t,u=s;s-=t;var u=i(l+1,u),l=e[l],c=n?n(l):l,u=new fc(c,l.S,r,null,u);o?o.left=u:a=u,o=u}for(var o=null,a=null,s=e.length,l=0;l<t.count;++l){var u=te(t),c=Math.pow(2,t.count-(l+1));u?r(c,!1):(r(c,!1),r(c,!0))}return a}(new se(e.length));return null!==o?new ac(r||t,o):new ac(r||t)}function oe(e){return"number"==typeof e?"number:"+Xc(e):"string:"+e}function me(e){if(e.K()){var t=e.I();K("string"==typeof t||"number"==typeof t||"object"==typeof t&&v(t,".sv"),"Priority must be a string or number.")}else K(e===Vd||e.e(),"priority of unexpected type.");K(e===Vd||e.C().e(),"Priority nodes can't have a priority of their own.")}function ue(){R.call(this,new ac(Wb),C,le)}function Id(e,t){this.O=e,this.Yd=t}function Fd(e,t,n,r){return new Id(new tb(t,n,r),e.Yd)}function Jd(e){return e.O.ea?e.O.j():null}function ub(e){return e.Yd.ea?e.Yd.j():null}function ve(e,t){this.W=e;var n=e.n,r=new kd(n.g),n=S(n)?new kd(n.g):n.ja?new qd(n):new ld(n);this.Hf=new xd(n);var i=t.w(),o=t.O,a=r.xa(C,i.j(),null),s=n.xa(C,o.j(),null);this.Ka=new Id(new tb(s,o.ea,n.Na()),new tb(a,i.ea,r.Na())),this.Xa=[],this.lg=new cd(e)}function we(e){return e.W}function ye(e,t){var n=e.Ka.O,r=[];return n.j().K()||n.j().P(N,function(e,t){r.push(new D("child_added",t,e))}),n.ea&&r.push(Eb(n.j())),xe(e,r,n.j(),t)}function xe(e,t,n,r){return dd(e.lg,t,n,r?[r]:e.Xa)}function ze(e,t,n){this.type=Bd,this.source=e,this.path=t,this.children=n}function Ae(e,t){this.f=Mc("p:rest:"),this.F=e,this.Gb=t,this.Aa=null,this.$={}}function Be(e,t){return n(t)?"tag$"+t:(K(fe(e.n),"should have a tag if it's not a default query."),e.path.toString())}function Ce(e,t,n,r){n=n||{},n.format="export",e.Aa&&(n.auth=e.Aa);var i=(e.F.kb?"https://":"http://")+e.F.host+t+"?"+kb(n);e.f("Sending REST request for "+i);var o=new XMLHttpRequest;o.onreadystatechange=function(){if(r&&4===o.readyState){e.f("REST Response for "+i+" received. status:",o.status,"response:",o.responseText);var t=null;if(200<=o.status&&300>o.status){try{t=nb(o.responseText)}catch(n){O("Failed to parse JSON response for "+i+": "+o.responseText)}r(null,t)}else 401!==o.status&&404!==o.status&&O("Got unsuccessful REST response for "+i+" Status: "+o.status),r(o.status);r=null}},o.open("GET",i,!0),o.send()}function De(e){K(ea(e)&&0<e.length,"Requires a non-empty array"),this.Xf=e,this.Oc={}}function Ee(e,t){K(Ta(e.Xf,function(e){return e===t}),"Unknown event: "+t)}function Ge(){if(De.call(this,["online"]),this.kc=!0,"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener){var e=this;window.addEventListener("online",function(){e.kc||(e.kc=!0,e.fe("online",!0))},!1),window.addEventListener("offline",function(){e.kc&&(e.kc=!1,e.fe("online",!1))},!1)}}function He(){De.call(this,["visible"]);var e,t;if("undefined"!=typeof document&&"undefined"!=typeof document.addEventListener&&("undefined"!=typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!=typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!=typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!=typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.Ob=!0,t){var n=this;document.addEventListener(t,function(){var t=!document[e];t!==n.Ob&&(n.Ob=t,n.fe("visible",t))},!1)}}function L(e,t){if(1==arguments.length){this.o=e.split("/");for(var n=0,r=0;r<this.o.length;r++)0<this.o[r].length&&(this.o[n]=this.o[r],n++);this.o.length=n,this.Z=0}else this.o=e,this.Z=t}function T(e,t){var n=E(e);if(null===n)return t;if(n===E(t))return T(H(e),H(t));throw Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ie(e,t){for(var n=e.slice(),r=t.slice(),i=0;i<n.length&&i<r.length;i++){var o=Vb(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function E(e){return e.Z>=e.o.length?null:e.o[e.Z]}function Kd(e){return e.o.length-e.Z}function H(e){var t=e.Z;return t<e.o.length&&t++,new L(e.o,t)}function Ld(e){return e.Z<e.o.length?e.o[e.o.length-1]:null}function Je(e,t){this.Qa=e.slice(),this.Ha=Math.max(1,this.Qa.length),this.lf=t;for(var n=0;n<this.Qa.length;n++)this.Ha+=Zc(this.Qa[n]);Ke(this)}function Ke(e){if(768<e.Ha)throw Error(e.lf+"has a key path longer than 768 bytes ("+e.Ha+").");if(32<e.Qa.length)throw Error(e.lf+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Le(e))}function Le(e){return 0==e.Qa.length?"":"in property '"+e.Qa.join(".")+"'"}function Me(e,t){this.value=e,this.children=t||Ne}function Oe(e){var t=Pd;return r(e,function(e,n){t=t.set(new L(n),e)}),t}function Pe(e,t,n){if(null!=e.value&&n(e.value))return{path:G,value:e.value};if(t.e())return null;var r=E(t);return e=e.children.get(r),null!==e?(t=Pe(e,H(t),n),null!=t?{path:new L(r).u(t.path),value:t.value}:null):null}function Qe(e,t){return Pe(e,t,function(){return!0})}function Od(e,t,n){if(t.e())return n;var r=E(t);return t=Od(e.children.get(r)||Pd,H(t),n),r=t.e()?e.children.remove(r):e.children.Oa(r,t),new Me(e.value,r)}function Re(e,t){return Se(e,G,t)}function Se(e,t,n){var r={};return e.children.ia(function(e,i){r[e]=Se(i,t.u(e),n)}),n(t,e.value,r)}function Te(e,t,n){return Ue(e,t,G,n)}function Ue(e,t,n,r){var i=e.value?r(n,e.value):!1;return i?i:t.e()?null:(i=E(t),(e=e.children.get(i))?Ue(e,H(t),n.u(i),r):null)}function Ve(e,t,n){var r=G;if(!t.e()){var i=!0;e.value&&(i=n(r,e.value)),!0===i&&(i=E(t),(e=e.children.get(i))&&We(e,H(t),r.u(i),n))}}function We(e,t,n,r){if(t.e())return e;e.value&&r(n,e.value);var i=E(t);return(e=e.children.get(i))?We(e,H(t),n.u(i),r):Pd}function Md(e,t){Xe(e,G,t)}function Xe(e,t,n){e.children.ia(function(e,r){Xe(r,t.u(e),n)}),e.value&&n(t,e.value)}function Ye(e,t){e.children.ia(function(e,n){n.value&&t(e,n.value)})}function Ze(e,t,n){this.type=Ed,this.source=$e,this.path=e,this.Qb=t,this.Vd=n}function af(e,t,n,r){this.we=e,this.pf=t,this.Hb=n,this.af=r,K(!r||t,"Tagged queries must be from server.")}function cf(e){this.X=e}function ef(e,t,n){if(t.e())return new cf(new Me(n));var r=Qe(e.X,t);if(null!=r){var i=r.path,r=r.value;return t=T(i,t),r=r.G(t,n),new cf(e.X.set(i,r))}return e=Od(e.X,t,new Me(n)),new cf(e)}function ff(e,t,n){var r=e;return ib(n,function(e,n){r=ef(r,t.u(e),n)}),r}function gf(e,t){var n=Qe(e.X,t);return null!=n?e.X.get(n.path).Q(T(n.path,t)):null}function hf(e){var t=[],n=e.X.value;return null!=n?n.K()||n.P(N,function(e,n){t.push(new F(e,n))}):e.X.children.ia(function(e,n){null!=n.value&&t.push(new F(e,n.value))}),t}function jf(e,t){if(t.e())return e;var n=gf(e,t);return new cf(null!=n?new Me(n):e.X.subtree(t))}function kf(e,t,n){if(null!=t.value)return n.G(e,t.value);var r=null;return t.children.ia(function(t,i){".priority"===t?(K(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=kf(e.u(t),i,n)}),n.Q(e).e()||null===r||(n=n.G(e.u(".priority"),r)),n}function lf(){this.T=df,this.na=[],this.Mc=-1}function mf(e,t){for(var n=0;n<e.na.length;n++){var r=e.na[n];if(r.kd===t)return r}return null}function nf(e,t){return e.Ga?e.path.contains(t):!!ua(e.children,function(n,r){return e.path.u(r).contains(t)})}function pf(e){return e.visible}function of(e,t,n){for(var r=df,i=0;i<e.length;++i){var o=e[i];if(t(o)){var a=o.path;if(o.Ga)n.contains(a)?(a=T(n,a),r=ef(r,a,o.Ga)):a.contains(n)&&(a=T(a,n),r=ef(r,G,o.Ga.Q(a)));else{if(!o.children)throw Fc("WriteRecord should have .snap or .children");n.contains(a)?(a=T(n,a),r=ff(r,a,o.children)):a.contains(n)&&(a=T(a,n),a.e()?r=ff(r,G,o.children):(o=w(o.children,E(a)))&&(o=o.Q(H(a)),r=ef(r,G,o)))}}}return r}function qf(e,t){this.Mb=e,this.X=t}function rf(){this.ya={}}function tf(e){return Pa(ra(e.ya),function(e){return!S(e.W.n)})}function uf(e,t){if(S(t.n))return sf(e);var n=t.va();return w(e.ya,n)}function sf(e){return va(e.ya,function(e){return S(e.W.n)})||null}function vf(e){this.ta=Pd,this.ib=new lf,this.$e={},this.mc={},this.Nc=e}function wf(e,t,r,i,o){var a=e.ib,s=o;return K(i>a.Mc,"Stacking an older write on top of newer ones"),n(s)||(s=!0),a.na.push({path:t,Ga:r,kd:i,visible:s}),s&&(a.T=ef(a.T,t,r)),a.Mc=i,o?xf(e,new Xb($e,t,r)):[]}function yf(e,t,n,r){var i=e.ib;return K(r>i.Mc,"Stacking an older merge on top of newer ones"),i.na.push({path:t,children:n,kd:r,visible:!0}),i.T=ff(i.T,t,n),i.Mc=r,n=Oe(n),xf(e,new ze($e,t,n))}function zf(e,t,n){n=n||!1;var r=mf(e.ib,t);if(e.ib.Rd(t)){var i=Pd;return null!=r.Ga?i=i.set(G,!0):ib(r.children,function(e,t){i=i.set(new L(e),t)}),xf(e,new Ze(r.path,i,n))}return[]}function Af(e,t,n){return n=Oe(n),xf(e,new ze(bf,t,n))}function Bf(e,t,n,r){if(r=Cf(e,r),null!=r){var i=Df(r);return r=i.path,i=i.Hb,t=T(r,t),n=new Xb(new af(!1,!0,i,!0),t,n),Ef(e,r,n)}return[]}function Ff(e,t,n,r){if(r=Cf(e,r)){var i=Df(r);return r=i.path,i=i.Hb,t=T(r,t),n=Oe(n),n=new ze(new af(!1,!0,i,!0),t,n),Ef(e,r,n)}return[]}function Jf(e){return Re(e,function(e,t,n){if(t&&null!=sf(t))return[sf(t)];var i=[];return t&&(i=tf(t)),r(n,function(e){i=i.concat(e)}),i})}function Nf(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!S(r.n)){var r=Gf(r),i=e.mc[r];delete e.mc[r],delete e.$e["_"+i]}}}function Lf(e){return S(e.n)&&!fe(e.n)?e.Ib():e}function If(e,t,n){var i=t.path,o=Mf(e,t);if(n=Kf(e,n),t=e.Nc.Xe(Lf(t),o,n.xd,n.H),i=e.ta.subtree(i),o)K(null==sf(i.value),"If we're adding a query, it shouldn't be shadowed");else for(o=Re(i,function(e,t,n){if(!e.e()&&t&&null!=sf(t))return[we(sf(t))];var i=[];return t&&(i=i.concat(Qa(tf(t),function(e){return e.W}))),r(n,function(e){i=i.concat(e)}),i}),i=0;i<o.length;++i)n=o[i],e.Nc.ae(Lf(n),Mf(e,n));return t}function Kf(e,t){var n=t.W,r=Mf(e,n);return{xd:function(){return(t.w()||C).hash()},H:function(t){if("ok"===t){if(r){var i=n.path;if(t=Cf(e,r)){var o=Df(t);t=o.path,o=o.Hb,i=T(t,i),i=new Zb(new af(!1,!0,o,!0),i),t=Ef(e,t,i)}else t=[]}else t=xf(e,new Zb(bf,n.path));return t}return i="Unknown Error","too_big"===t?i="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==t?i="Client doesn't have permission to access the desired data.":"unavailable"==t&&(i="The service is unavailable"),i=Error(t+": "+i),i.code=t.toUpperCase(),e.jb(n,null,i)}}}function Gf(e){return e.path.toString()+"$"+e.va()}function Df(e){var t=e.indexOf("$");return K(-1!==t&&t<e.length-1,"Bad queryKey."),{Hb:e.substr(t+1),path:new L(e.substr(0,t))}}function Cf(e,t){var n=e.$e,r="_"+t;return r in n?n[r]:void 0}function Mf(e,t){var n=Gf(t);return w(e.mc,n)}function Ef(e,t,n){var r=e.ta.get(t);return K(r,"Missing sync point for query tag that we're tracking"),r.ab(n,new qf(t,e.ib),null)}function xf(e,t){return Of(e,t,e.ta,null,new qf(G,e.ib))}function Of(e,t,n,r,i){if(t.path.e())return Pf(e,t,n,r,i);var o=n.get(G);null==r&&null!=o&&(r=o.fb(G));var a=[],s=E(t.path),l=t.Xc(s);if((n=n.children.get(s))&&l)var u=r?r.R(s):null,s=i.u(s),a=a.concat(Of(e,l,n,u,s));return o&&(a=a.concat(o.ab(t,i,r))),a}function Pf(e,t,n,r,i){var o=n.get(G);null==r&&null!=o&&(r=o.fb(G));var a=[];return n.children.ia(function(n,o){var s=r?r.R(n):null,l=i.u(n),u=t.Xc(n);u&&(a=a.concat(Pf(e,u,o,s,l)))}),o&&(a=a.concat(o.ab(t,i,r))),a}function Qf(){this.children={},this.nd=0,this.value=null}function Rf(e,t,n){this.Gd=e?e:"",this.Zc=t?t:null,this.A=n?n:new Qf}function Sf(e,t){for(var n,r=t instanceof L?t:new L(t),i=e;null!==(n=E(r));)i=new Rf(n,i,w(i.A.children,n)||new Qf),r=H(r);return i}function Tf(e,t){K("undefined"!=typeof t,"Cannot set value to undefined"),e.A.value=t,Uf(e)}function Vf(e,t,n,r){n&&!r&&t(e),e.P(function(e){Vf(e,t,!0,r)}),n&&r&&t(e)}function Wf(e,t){for(var n=e.parent();null!==n&&!t(n);)n=n.parent()}function Uf(e){if(null!==e.Zc){var t=e.Zc,n=e.Gd,r=e.e(),i=v(t.A.children,n);r&&i?(delete t.A.children[n],t.A.nd--,Uf(t)):r||i||(t.A.children[n]=e.A,t.A.nd++,Uf(t))}}function $f(e){return p(e)&&0!==e.length&&!Xf.test(e)}function ag(e){return null===e||p(e)||ga(e)&&!Qc(e)||ia(e)&&v(e,".sv")}function bg(e,t,r,i){i&&!n(t)||cg(y(e,1,i),t,r)}function cg(e,t,r){if(r instanceof L&&(r=new Je(r,e)),!n(t))throw Error(e+"contains undefined "+Le(r));if(ha(t))throw Error(e+"contains a function "+Le(r)+" with contents: "+t.toString());if(Qc(t))throw Error(e+"contains "+t.toString()+" "+Le(r));if(p(t)&&t.length>10485760/3&&10485760<Zc(t))throw Error(e+"contains a string greater than 10485760 utf8 bytes "+Le(r)+" ('"+t.substring(0,50)+"...')");if(ia(t)){var i=!1,o=!1;if(ib(t,function(t,n){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(o=!0,!$f(t)))throw Error(e+" contains an invalid key ("+t+") "+Le(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(t),cg(e,n,r),r.pop()}),i&&o)throw Error(e+' contains ".value" child '+Le(r)+" in addition to actual children.")}}function dg(e,t){var n,r;for(n=0;n<t.length;n++){r=t[n];for(var i=r.slice(),o=0;o<i.length;o++)if((".priority"!==i[o]||o!==i.length-1)&&!$f(i[o]))throw Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}for(t.sort(Ie),i=null,n=0;n<t.length;n++){if(r=t[n],null!==i&&i.contains(r))throw Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}function eg(e,t,n){var r=y(e,1,!1);if(!ia(t)||ea(t))throw Error(r+" must be an object containing the children to replace.");var i=[];ib(t,function(e,t){var o=new L(e);if(cg(r,t,n.u(o)),".priority"===Ld(o)&&!ag(t))throw Error(r+"contains an invalid value for '"+o.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(o)}),dg(r,i)}function fg(e,t,n){if(Qc(n))throw Error(y(e,t,!1)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ag(n))throw Error(y(e,t,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}function gg(e,t,r){if(!r||n(t))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw Error(y(e,1,r)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function hg(e,t){if(n(t)&&!$f(t))throw Error(y(e,2,!0)+'was an invalid key: "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function ig(e,t){if(!p(t)||0===t.length||Yf.test(t))throw Error(y(e,1,!1)+'was an invalid path: "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function jg(e,t){if(".info"===E(t))throw Error(e+" failed: Can't modify data under /.info/")}function kg(e,t){if(!p(t))throw Error(y(e,1,!1)+"must be a valid credential (a string).")}function lg(e,t,n){if(!p(n))throw Error(y(e,t,!1)+"must be a valid string.")}function mg(e,t){if(lg(e,1,t),!Zf.test(t))throw Error(y(e,1,!1)+"'"+t+"' is not a valid authentication provider.")}function ng(e,t,r,i){if((!i||n(r))&&(!ia(r)||null===r))throw Error(y(e,t,i)+"must be a valid object.")}function og(e,t,n){if(!ia(t)||!v(t,n))throw Error(y(e,1,!1)+'must contain the key "'+n+'"');if(!p(w(t,n)))throw Error(y(e,1,!1)+'must contain the key "'+n+'" with type "string"')}function pg(){this.set={}}function qg(e,t){r(e.set,function(e,n){t(n,e)})}function qc(){this.m=this.B=null}function rg(e,t){if(t.e())return e.B=null,e.m=null,!0;if(null!==e.B){if(e.B.K())return!1;var n=e.B;return e.B=null,n.P(N,function(t,n){e.nc(new L(t),n)}),rg(e,t)}return null!==e.m?(n=E(t),t=H(t),e.m.contains(n)&&rg(e.m.get(n),t)&&e.m.remove(n),e.m.e()?(e.m=null,!0):!1):!0}function rc(e,t,n){null!==e.B?n(t,e.B):e.P(function(e,r){var i=new L(t.toString()+"/"+e);rc(r,i,n)})}function tg(e,t,n){this.od=e||{},this.ee=t||{},this.$a=n||{},this.od.remember||(this.od.remember="default")}function vg(e){var t={},n={};return ib(e||{},function(e,r){0<=Na(ug,e)?t[e]=r:n[e]=r}),new tg(t,{},n)}function wg(e,t){this.Qe=["session",e.Od,e.hc].join(":"),this.be=t}function xg(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function yg(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xg())}function zg(){return"undefined"!=typeof location&&/^file:\//.test(location.href)}function Ag(e){var t=xg();if(""===t)return!1;if("Microsoft Internet Explorer"===navigator.appName){if((t=t.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/))&&1<t.length)return parseFloat(t[1])>=e}else if(-1<t.indexOf("Trident")&&(t=t.match(/rv:([0-9]{2,2}[\.0-9]{0,})/))&&1<t.length)return parseFloat(t[1])>=e;return!1}function Bg(){var e,t=window.opener.frames;for(e=t.length-1;e>=0;e--)try{if(t[e].location.protocol===window.location.protocol&&t[e].location.host===window.location.host&&"__winchan_relay_frame"===t[e].name)return t[e]}catch(n){}return null}function Cg(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener&&e.addEventListener(t,n,!1)}function Dg(e,t,n){e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener&&e.removeEventListener(t,n,!1)}function Eg(e){/^https?:\/\//.test(e)||(e=window.location.href);var t=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(e);return t?t[1]:e}function Fg(e){var t="";try{e=e.replace("#","");var n=lb(e);n&&v(n,"__firebase_request_key")&&(t=w(n,"__firebase_request_key"))}catch(r){}return t}function Gg(){var e=Pc(sg);return e.scheme+"://"+e.host+"/v2"}function Hg(e){return Gg()+"/"+e+"/auth/channel"}function Ig(e){var t=this;if(this.Ac=e,this.ce="*",Ag(8)?this.Rc=this.zd=Bg():(this.Rc=window.opener,this.zd=window),!t.Rc)throw"Unable to find relay frame";Cg(this.zd,"message",q(this.jc,this)),Cg(this.zd,"message",q(this.Bf,this));try{Jg(this,{a:"ready"})}catch(n){Cg(this.Rc,"load",function(){
Jg(t,{a:"ready"})})}Cg(window,"unload",q(this.Bg,this))}function Jg(e,t){t=B(t),Ag(8)?e.Rc.doPost(t,e.ce):e.Rc.postMessage(t,e.ce)}function Kg(e){this.pc=Ga()+Ga()+Ga(),this.Ef=e}function Mg(e){var t=Error(w(Lg,e),e);return t.code=e,t}function Ng(e){var t;(t=!e.window_features)||(t=xg(),t=-1!==t.indexOf("Fennec/")||-1!==t.indexOf("Firefox/")&&-1!==t.indexOf("Android")),t&&(e.window_features=void 0),e.window_name||(e.window_name="_blank"),this.options=e}function Og(e){e.method||(e.method="GET"),e.headers||(e.headers={}),e.headers.content_type||(e.headers.content_type="application/json"),e.headers.content_type=e.headers.content_type.toLowerCase(),this.options=e}function Pg(e){this.pc=Ga()+Ga()+Ga(),this.Ef=e}function Qg(e){e.callback_parameter||(e.callback_parameter="callback"),this.options=e,window.__firebase_auth_jsonp=window.__firebase_auth_jsonp||{}}function Rg(e,t,n){setTimeout(function(){try{var r=document.createElement("script");r.type="text/javascript",r.id=e,r.async=!0,r.src=t,r.onerror=function(){var t=document.getElementById(e);null!==t&&t.parentNode.removeChild(t),n&&n(Mg("NETWORK_ERROR"))};var i=document.getElementsByTagName("head");(i&&0!=i.length?i[0]:document.documentElement).appendChild(r)}catch(o){n&&n(Mg("NETWORK_ERROR"))}},0)}function Sg(e,t,n,r){De.call(this,["auth_status"]),this.F=e,this.df=t,this.Vg=n,this.Le=r,this.sc=new wg(e,[xc,yc]),this.mb=null,this.Se=!1,Tg(this)}function Tg(e){yc.get("redirect_request_id")&&Ug(e);var t=e.sc.get();t&&t.token?(Vg(e,t),e.df(t.token,function(n,r){Wg(e,n,r,!1,t.token,t)},function(t,n){Xg(e,"resumeSession()",t,n)})):Vg(e,null)}function Yg(e,t,n,r,i,o){"firebaseio-demo.com"===e.F.domain&&O("Firebase authentication is not supported on demo Firebases (*.firebaseio-demo.com). To secure your Firebase, create a production Firebase at https://www.firebase.com."),e.df(t,function(o,a){Wg(e,o,a,!0,t,n,r||{},i)},function(t,n){Xg(e,"auth()",t,n,o)})}function Zg(e,t){e.sc.clear(),Vg(e,null),e.Vg(function(e,n){if("ok"===e)P(t,null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n),i=Error(i),i.code=r,P(t,i)}})}function Wg(e,t,n,r,i,o,a,s){"ok"===t?(r&&(t=n.auth,o.auth=t,o.expires=n.expires,o.token=bd(i)?i:"",n=null,t&&v(t,"uid")?n=w(t,"uid"):v(o,"uid")&&(n=w(o,"uid")),o.uid=n,n="custom",t&&v(t,"provider")?n=w(t,"provider"):v(o,"provider")&&(n=w(o,"provider")),o.provider=n,e.sc.clear(),bd(i)&&(a=a||{},n=xc,"sessionOnly"===a.remember&&(n=yc),"none"!==a.remember&&e.sc.set(o,n)),Vg(e,o)),P(s,null,o)):(e.sc.clear(),Vg(e,null),o=e=(t||"error").toUpperCase(),n&&(o+=": "+n),o=Error(o),o.code=e,P(s,o))}function Xg(e,t,n,r,i){O(t+" was canceled: "+r),e.sc.clear(),Vg(e,null),e=Error(r),e.code=n.toUpperCase(),P(i,e)}function $g(e,t,n,r,i){ah(e),n=new tg(r||{},{},n||{}),bh(e,[Og,Qg],"/auth/"+t,n,i)}function ch(e,t,n,r){ah(e);var i=[Ng,Pg];n=vg(n),"anonymous"===t||"password"===t?setTimeout(function(){P(r,Mg("TRANSPORT_UNAVAILABLE"))},0):(n.ee.window_features="menubar=yes,modal=yes,alwaysRaised=yeslocation=yes,resizable=yes,scrollbars=yes,status=yes,height=625,width=625,top="+("object"==typeof screen?.5*(screen.height-625):0)+",left="+("object"==typeof screen?.5*(screen.width-625):0),n.ee.relay_url=Hg(e.F.hc),n.ee.requestWithCredential=q(e.qc,e),bh(e,i,"/auth/"+t,n,r))}function Ug(e){var t=yc.get("redirect_request_id");if(t){var n=yc.get("redirect_client_options");yc.remove("redirect_request_id"),yc.remove("redirect_client_options");var r=[Og,Qg],t={requestId:t,requestKey:Fg(document.location.hash)},n=new tg(n,{},t);e.Se=!0;try{document.location.hash=document.location.hash.replace(/&__firebase_request_key=([a-zA-z0-9]*)/,"")}catch(i){}bh(e,r,"/auth/session",n,function(){this.Se=!1}.bind(e))}}function bh(e,t,n,r,i){dh(e,t,n,r,function(t,n){!t&&n&&n.token&&n.uid?Yg(e,n.token,n,r.od,function(e,t){e?P(i,e):P(i,null,t)}):P(i,t||Mg("UNKNOWN_ERROR"))})}function dh(e,t,n,r,i){t=Pa(t,function(e){return"function"==typeof e.isAvailable&&e.isAvailable()}),0===t.length?setTimeout(function(){P(i,Mg("TRANSPORT_UNAVAILABLE"))},0):(t=new(t.shift())(r.ee),r=jb(r.$a),r.v="js-"+hb,r.transport=t.Cc(),r.suppress_status_codes=!0,e=Gg()+"/"+e.F.hc+n,t.open(e,r,function(e,t){if(e)P(i,e);else if(t&&t.error){var n=Error(t.error.message);n.code=t.error.code,n.details=t.error.details,P(i,n)}else P(i,null,t)}))}function Vg(e,t){var n=null!==e.mb||null!==t;e.mb=t,n&&e.fe("auth_status",t),e.Le(null!==t)}function ah(e){var t=e.F;if("firebaseio.com"!==t.domain&&"firebaseio-demo.com"!==t.domain&&"auth.firebase.com"===sg)throw Error("This custom Firebase server ('"+e.F.domain+"') does not support delegated login.")}function eh(e){this.jc=e,this.Nd=[],this.Sb=0,this.qe=-1,this.Fb=null}function fh(e,t,n){e.qe=t,e.Fb=n,e.qe<e.Sb&&(e.Fb(),e.Fb=null)}function gh(e,t,n){for(e.Nd[t]=n;e.Nd[e.Sb];){var r=e.Nd[e.Sb];delete e.Nd[e.Sb];for(var i=0;i<r.length;++i)if(r[i]){var o=e;Db(function(){o.jc(r[i])})}if(e.Sb===e.qe){e.Fb&&(clearTimeout(e.Fb),e.Fb(),e.Fb=null);break}e.Sb++}}function hh(e,t,n,r){this.re=e,this.f=Mc(e),this.nb=this.ob=0,this.Ua=Rb(t),this.Qf=n,this.Hc=!1,this.Bb=r,this.jd=function(e){return Bc(t,Dc,e)}}function lh(e,t){var n=B(t).length;e.nb+=n,Ob(e.Ua,"bytes_received",n)}function kh(e,t,n,r){if(this.jd=r,this.hb=n,this.Pe=new pg,this.ad=[],this.te=Math.floor(1e8*Math.random()),this.Xd=!0,this.he=Ec(),window["pLPCommand"+this.he]=e,window["pRTLPCB"+this.he]=t,e=document.createElement("iframe"),e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Cb("No IE domain setting required")}catch(i){e.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}e.contentDocument?e.eb=e.contentDocument:e.contentWindow?e.eb=e.contentWindow.document:e.document&&(e.eb=e.document),this.Ea=e,e="",this.Ea.src&&"javascript:"===this.Ea.src.substr(0,11)&&(e='<script>document.domain="'+document.domain+'";</script>'),e="<html><body>"+e+"</body></html>";try{this.Ea.eb.open(),this.Ea.eb.write(e),this.Ea.eb.close()}catch(o){Cb("frame writing exception"),o.stack&&Cb(o.stack),Cb(o)}}function nh(e){if(e.le&&e.Xd&&e.Pe.count()<(0<e.ad.length?2:1)){e.te++;var t={};t.id=e.ug,t.pw=e.vg,t.ser=e.te;for(var t=e.jd(t),n="",r=0;0<e.ad.length&&1870>=e.ad[0].kf.length+30+n.length;){var i=e.ad.shift(),n=n+"&seg"+r+"="+i.Mg+"&ts"+r+"="+i.Ug+"&d"+r+"="+i.kf;r++}return oh(e,t+n,e.te),!0}return!1}function oh(e,t,n){function r(){e.Pe.remove(n),nh(e)}e.Pe.add(n,1);var i=setTimeout(r,Math.floor(25e3));mh(e,t,function(){clearTimeout(i),r()})}function mh(e,t,n){setTimeout(function(){try{if(e.Xd){var r=e.Ea.eb.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=function(){Cb("Long-poll script failed to load: "+t),e.Xd=!1,e.close()},e.Ea.eb.body.appendChild(r)}}catch(i){}},Math.floor(1))}function qh(e,t,n,r){this.re=e,this.f=Mc(this.re),this.frames=this.Kc=null,this.nb=this.ob=this.bf=0,this.Ua=Rb(t),e={v:"5"},"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(e.r="f"),n&&(e.s=n),r&&(e.ls=r),this.ef=Bc(t,Cc,e)}function th(e,t){if(e.frames.push(t),e.frames.length==e.bf){var n=e.frames.join("");e.frames=null,n=nb(n),e.zg(n)}}function sh(e){clearInterval(e.Kc),e.Kc=setInterval(function(){e.ua&&e.ua.send("0"),sh(e)},Math.floor(45e3))}function uh(e){vh(this,e)}function vh(e,t){var n=qh&&qh.isAvailable(),r=n&&!(xc.wf||!0===xc.get("previous_websocket_failure"));if(t.Wg&&(n||O("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)e.gd=[qh];else{var i=e.gd=[];Wc(wh,function(e,t){t&&t.isAvailable()&&i.push(t)})}}function xh(e){if(0<e.gd.length)return e.gd[0];throw Error("No transports available")}function yh(e,t,n,r,i,o,a){this.id=e,this.f=Mc("c:"+this.id+":"),this.jc=n,this.Wc=r,this.la=i,this.Ne=o,this.F=t,this.Md=[],this.ff=0,this.Pf=new uh(t),this.Ta=0,this.Bb=a,this.f("Connection created"),zh(this)}function zh(e){var t=xh(e.Pf);e.J=new t("c:"+e.id+":"+e.ff++,e.F,void 0,e.Bb),e.Re=t.responsesRequiredToBeHealthy||0;var n=Ah(e,e.J),r=Bh(e,e.J);e.hd=e.J,e.cd=e.J,e.D=null,e.Ab=!1,setTimeout(function(){e.J&&e.J.open(n,r)},Math.floor(0)),t=t.healthyTimeout||0,t>0&&(e.yd=setTimeout(function(){e.yd=null,e.Ab||(e.J&&102400<e.J.nb?(e.f("Connection exceeded healthy timeout but has received "+e.J.nb+" bytes.  Marking connection healthy."),e.Ab=!0,e.J.Ed()):e.J&&10240<e.J.ob?e.f("Connection exceeded healthy timeout but has sent "+e.J.ob+" bytes.  Leaving connection alive."):(e.f("Closing unhealthy connection after timeout."),e.close()))},Math.floor(t)))}function Bh(e,t){return function(n){t===e.J?(e.J=null,n||0!==e.Ta?1===e.Ta&&e.f("Realtime connection lost."):(e.f("Realtime connection failed."),"s-"===e.F.Ya.substr(0,2)&&(xc.remove("host:"+e.F.host),e.F.Ya=e.F.host)),e.close()):t===e.D?(e.f("Secondary connection lost."),n=e.D,e.D=null,e.hd!==n&&e.cd!==n||e.close()):e.f("closing an old connection")}}function Ah(e,t){return function(n){if(2!=e.Ta)if(t===e.cd){var r=Tc("t",n);if(n=Tc("d",n),"c"==r){if(r=Tc("t",n),"d"in n)if(n=n.d,"h"===r){var r=n.ts,i=n.v,o=n.h;e.Nf=n.s,Ac(e.F,o),0==e.Ta&&(e.J.start(),Ch(e,e.J,r),"5"!==i&&O("Protocol version mismatch detected"),n=e.Pf,(n=1<n.gd.length?n.gd[1]:null)&&Dh(e,n))}else if("n"===r){for(e.f("recvd end transmission on primary"),e.cd=e.D,n=0;n<e.Md.length;++n)e.Id(e.Md[n]);e.Md=[],Eh(e)}else"s"===r?(e.f("Connection shutdown command received. Shutting down..."),e.Ne&&(e.Ne(n),e.Ne=null),e.la=null,e.close()):"r"===r?(e.f("Reset packet received.  New host: "+n),Ac(e.F,n),1===e.Ta?e.close():(Fh(e),zh(e))):"e"===r?Nc("Server Error: "+n):"o"===r?(e.f("got pong on primary."),Gh(e),Hh(e)):Nc("Unknown control packet command: "+r)}else"d"==r&&e.Id(n)}else if(t===e.D)if(r=Tc("t",n),n=Tc("d",n),"c"==r)"t"in n&&(n=n.t,"a"===n?Ih(e):"r"===n?(e.f("Got a reset on secondary, closing it"),e.D.close(),e.hd!==e.D&&e.cd!==e.D||e.close()):"o"===n&&(e.f("got pong on secondary."),e.Mf--,Ih(e)));else{if("d"!=r)throw Error("Unknown protocol layer: "+r);e.Md.push(n)}else e.f("message on old connection")}}function Eh(e){e.hd===e.D&&e.cd===e.D&&(e.f("cleaning up and promoting a connection: "+e.D.re),e.J=e.D,e.D=null)}function Ih(e){0>=e.Mf?(e.f("Secondary connection is healthy."),e.Ab=!0,e.D.Ed(),e.D.start(),e.f("sending client ack on secondary"),e.D.send({t:"c",d:{t:"a",d:{}}}),e.f("Ending transmission on primary"),e.J.send({t:"c",d:{t:"n",d:{}}}),e.hd=e.D,Eh(e)):(e.f("sending ping on secondary."),e.D.send({t:"c",d:{t:"p",d:{}}}))}function Gh(e){e.Ab||(e.Re--,0>=e.Re&&(e.f("Primary connection is healthy."),e.Ab=!0,e.J.Ed()))}function Dh(e,t){e.D=new t("c:"+e.id+":"+e.ff++,e.F,e.Nf),e.Mf=t.responsesRequiredToBeHealthy||0,e.D.open(Ah(e,e.D),Bh(e,e.D)),setTimeout(function(){e.D&&(e.f("Timed out trying to upgrade."),e.D.close())},Math.floor(6e4))}function Ch(e,t,n){e.f("Realtime connection established."),e.J=t,e.Ta=1,e.Wc&&(e.Wc(n,e.Nf),e.Wc=null),0===e.Re?(e.f("Primary connection is healthy."),e.Ab=!0):setTimeout(function(){Hh(e)},Math.floor(5e3))}function Hh(e){e.Ab||1!==e.Ta||(e.f("sending ping on primary."),Jh(e,{t:"c",d:{t:"p",d:{}}}))}function Jh(e,t){if(1!==e.Ta)throw"Connection is not connected";e.hd.send(t)}function Fh(e){e.f("Shutting down all connections"),e.J&&(e.J.close(),e.J=null),e.D&&(e.D.close(),e.D=null),e.yd&&(clearTimeout(e.yd),e.yd=null)}function Kh(e,t,n,r){this.id=Lh++,this.f=Mc("p:"+this.id+":"),this.xf=this.Ee=!1,this.$={},this.qa=[],this.Yc=0,this.Vc=[],this.oa=!1,this.Za=1e3,this.Fd=3e5,this.Gb=t,this.Uc=n,this.Oe=r,this.F=e,this.sb=this.Aa=this.Ia=this.Bb=this.We=null,this.Ob=!1,this.Td={},this.Lg=0,this.nf=!0,this.Lc=this.Ge=null,Mh(this,0),He.ub().Eb("visible",this.Cg,this),-1===e.host.indexOf("fblocal")&&Ge.ub().Eb("online",this.Ag,this)}function Oh(e,t){var n=t.Ig,r=n.path.toString(),i=n.va();e.f("Listen on "+r+" for "+i);var o={p:r};t.tag&&(o.q=ee(n.n),o.t=t.tag),o.h=t.xd(),e.Fa("q",o,function(o){var a=o.d,s=o.s;if(a&&"object"==typeof a&&v(a,"w")){var l=w(a,"w");ea(l)&&0<=Na(l,"no_index")&&O("Using an unspecified index. Consider adding "+('".indexOn": "'+n.n.g.toString()+'"')+" at "+n.path.toString()+" to your security rules for better performance")}(e.$[r]&&e.$[r][i])===t&&(e.f("listen response",o),"ok"!==s&&Ph(e,r,i),t.H&&t.H(s,a))})}function Qh(e){var t=e.Aa;e.oa&&t&&e.Fa("auth",{cred:t.ig},function(n){var r=n.s;n=n.d||"error","ok"!==r&&e.Aa===t&&delete e.Aa,t.of?"ok"!==r&&t.md&&t.md(r,n):(t.of=!0,t.zc&&t.zc(r,n))})}function Rh(e,t,n,r,i){n={p:n,d:r},e.f("onDisconnect "+t,n),e.Fa(t,n,function(e){i&&setTimeout(function(){i(e.s,e.d)},Math.floor(0))})}function Sh(e,t,r,i,o,a){i={p:r,d:i},n(a)&&(i.h=a),e.qa.push({action:t,Jf:i,H:o}),e.Yc++,t=e.qa.length-1,e.oa?Th(e,t):e.f("Buffering put: "+r)}function Th(e,t){var n=e.qa[t].action,r=e.qa[t].Jf,i=e.qa[t].H;e.qa[t].Jg=e.oa,e.Fa(n,r,function(r){e.f(n+" response",r),delete e.qa[t],e.Yc--,0===e.Yc&&(e.qa=[]),i&&i(r.s,r.d)})}function Mh(e,t){K(!e.Ia,"Scheduling a connect when we're already connected/ing?"),e.sb&&clearTimeout(e.sb),e.sb=setTimeout(function(){e.sb=null,Wh(e)},Math.floor(t))}function Wh(e){if(Xh(e)){e.f("Making a connection attempt"),e.Ge=(new Date).getTime(),e.Lc=null;var t=q(e.Id,e),n=q(e.Wc,e),r=q(e.Df,e),i=e.id+":"+Nh++;e.Ia=new yh(i,e.F,t,n,r,function(t){O(t+" ("+e.F.toString()+")"),e.xf=!0},e.Bb)}}function Uh(e,t,n){n=n?Qa(n,function(e){return Uc(e)}).join("$"):"default",(e=Ph(e,t,n))&&e.H&&e.H("permission_denied")}function Ph(e,t,r){t=new L(t).toString();var i;return n(e.$[t])?(i=e.$[t][r],delete e.$[t][r],0===pa(e.$[t])&&delete e.$[t]):i=void 0,i}function Vh(e){Qh(e),r(e.$,function(t){r(t,function(t){Oh(e,t)})});for(var t=0;t<e.qa.length;t++)e.qa[t]&&Th(e,t);for(;e.Vc.length;)t=e.Vc.shift(),Rh(e,t.action,t.$c,t.data,t.H)}function Xh(e){var t;return t=Ge.ub().kc,!e.xf&&!e.Ee&&t}function Q(e,t,n){this.A=e,this.W=t,this.g=n}function Yh(e,t){this.F=e,this.Ua=Rb(e),this.fd=null,this.da=new vb,this.Hd=1,this.Ra=null,t||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)?(this.ba=new Ae(this.F,q(this.Gb,this)),setTimeout(q(this.Uc,this,!0),0)):this.ba=this.Ra=new Kh(this.F,q(this.Gb,this),q(this.Uc,this),q(this.Oe,this)),this.Sg=Sb(e,q(function(){return new Mb(this.Ua,this.ba)},this)),this.uc=new Rf,this.Ce=new ob;var n=this;this.Cd=new vf({Xe:function(e,t,r,i){return t=[],r=n.Ce.j(e.path),r.e()||(t=xf(n.Cd,new Xb(bf,e.path,r)),setTimeout(function(){i("ok")},0)),t},ae:ba}),Zh(this,"connected",!1),this.la=new qc,this.M=new Sg(e,q(this.ba.M,this.ba),q(this.ba.ge,this.ba),q(this.Le,this)),this.sd=0,this.De=null,this.L=new vf({Xe:function(e,t,r,i){return n.ba.yf(e,r,t,function(t,r){var o=i(t,r);Ab(n.da,e.path,o)}),[]},ae:function(e,t){n.ba.Rf(e,t)}})}function $h(e){return e=e.Ce.j(new L(".info/serverTimeOffset")).I()||0,(new Date).getTime()+e}function ai(e){return e=e={timestamp:$h(e)},e.timestamp=e.timestamp||(new Date).getTime(),e}function Zh(e,t,n){t=new L("/.info/"+t),n=M(n);var r=e.Ce;r.Wd=r.Wd.G(t,n),n=xf(e.Cd,new Xb(bf,t,n)),Ab(e.da,t,n)}function ci(e){e.f("onDisconnectEvents");var t=ai(e),n=[];rc(pc(e.la,t),G,function(t,r){n=n.concat(xf(e.L,new Xb(bf,t,r)));var i=ei(e,t);bi(e,i)}),e.la=new qc,Ab(e.da,G,n)}function fi(e,t,n,r){var i=M(n);e.ba.Me(t.toString(),i.I(!0),function(n,o){"ok"===n&&e.la.nc(t,i),di(r,n,o)})}function gi(e,t,n,r,i){var o=M(n,r);e.ba.Me(t.toString(),o.I(!0),function(n,r){"ok"===n&&e.la.nc(t,o),di(i,n,r)})}function hi(e,t,n,r){var i,o=!0;for(i in n)o=!1;o?(Cb("onDisconnect().update() called with empty data.  Don't do anything."),di(r,"ok")):e.ba.Cf(t.toString(),n,function(i,o){if("ok"===i)for(var a in n){var s=M(n[a]);e.la.nc(t.u(a),s)}di(r,i,o)})}function ii(e,t,n){n=".info"===E(t.path)?e.Cd.Pb(t,n):e.L.Pb(t,n),yb(e.da,t.path,n)}function di(e,t,n){e&&Db(function(){if("ok"==t)e(null);else{var r=(t||"error").toUpperCase(),i=r;n&&(i+=": "+n),i=Error(i),i.code=r,e(i)}})}function ji(e,t,r,i,o){function a(){}e.f("transaction on "+t);var s=new U(e,t);if(s.Eb("value",a),r={path:t,update:r,H:i,status:null,Ff:Ec(),cf:o,Lf:0,ie:function(){s.ic("value",a)},ke:null,Ba:null,pd:null,qd:null,rd:null},i=e.L.za(t,void 0)||C,r.pd=i,i=r.update(i.I()),n(i)){cg("transaction failed: Data returned ",i,r.path),r.status=1,o=Sf(e.uc,t);var l=o.Ca()||[];l.push(r),Tf(o,l),"object"==typeof i&&null!==i&&v(i,".priority")?(l=w(i,".priority"),K(ag(l),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):l=(e.L.za(t)||C).C().I(),o=ai(e),i=M(i,l),o=sc(i,o),r.qd=i,r.rd=o,r.Ba=e.Hd++,r=wf(e.L,t,o,r.Ba,r.cf),Ab(e.da,t,r),ki(e)}else r.ie(),r.qd=null,r.rd=null,r.H&&(e=new Q(r.pd,new U(e,r.path),N),r.H(null,!1,e))}function ki(e,t){var n=t||e.uc;if(t||li(e,n),null!==n.Ca()){var r=mi(e,n);K(0<r.length,"Sending zero length transaction queue"),Sa(r,function(e){return 1===e.status})&&ni(e,n.path(),r)}else n.wd()&&n.P(function(t){ki(e,t)})}function ni(e,t,n){for(var r=Qa(n,function(e){return e.Ba}),i=e.L.za(t,r)||C,r=i,i=i.hash(),o=0;o<n.length;o++){var a=n[o];K(1===a.status,"tryToSendTransactionQueue_: items in queue should all be run."),a.status=2,a.Lf++;var s=T(t,a.path),r=r.G(s,a.qd)}r=r.I(!0),e.ba.put(t.toString(),r,function(r){e.f("transaction put response",{path:t.toString(),status:r});var i=[];if("ok"===r){for(r=[],o=0;o<n.length;o++){if(n[o].status=3,i=i.concat(zf(e.L,n[o].Ba)),n[o].H){var a=n[o].rd,s=new U(e,n[o].path);r.push(q(n[o].H,null,null,!0,new Q(a,s,N)))}n[o].ie()}for(li(e,Sf(e.uc,t)),ki(e),Ab(e.da,t,i),o=0;o<r.length;o++)Db(r[o])}else{if("datastale"===r)for(o=0;o<n.length;o++)n[o].status=4===n[o].status?5:1;else for(O("transaction at "+t.toString()+" failed: "+r),o=0;o<n.length;o++)n[o].status=5,n[o].ke=r;bi(e,t)}},i)}function bi(e,t){var n=oi(e,t),r=n.path(),n=mi(e,n);return pi(e,n,r),r}function pi(e,t,r){if(0!==t.length){for(var i=[],o=[],a=Qa(t,function(e){return e.Ba}),s=0;s<t.length;s++){var l,u=t[s],c=T(r,u.path),d=!1;if(K(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),5===u.status)d=!0,l=u.ke,o=o.concat(zf(e.L,u.Ba,!0));else if(1===u.status)if(25<=u.Lf)d=!0,l="maxretry",o=o.concat(zf(e.L,u.Ba,!0));else{var h=e.L.za(u.path,a)||C;u.pd=h;var p=t[s].update(h.I());n(p)?(cg("transaction failed: Data returned ",p,u.path),c=M(p),"object"==typeof p&&null!=p&&v(p,".priority")||(c=c.ga(h.C())),h=u.Ba,p=ai(e),p=sc(c,p),u.qd=c,u.rd=p,u.Ba=e.Hd++,Va(a,h),o=o.concat(wf(e.L,u.path,p,u.Ba,u.cf)),o=o.concat(zf(e.L,h,!0))):(d=!0,l="nodata",o=o.concat(zf(e.L,u.Ba,!0)))}Ab(e.da,r,o),o=[],d&&(t[s].status=3,setTimeout(t[s].ie,Math.floor(0)),t[s].H&&("nodata"===l?(u=new U(e,t[s].path),i.push(q(t[s].H,null,null,!1,new Q(t[s].pd,u,N)))):i.push(q(t[s].H,null,Error(l),!1,null))))}for(li(e,e.uc),s=0;s<i.length;s++)Db(i[s]);ki(e)}}function oi(e,t){for(var n,r=e.uc;null!==(n=E(t))&&null===r.Ca();)r=Sf(r,n),t=H(t);return r}function mi(e,t){var n=[];return qi(e,t,n),n.sort(function(e,t){return e.Ff-t.Ff}),n}function qi(e,t,n){var r=t.Ca();if(null!==r)for(var i=0;i<r.length;i++)n.push(r[i]);t.P(function(t){qi(e,t,n)})}function li(e,t){var n=t.Ca();if(n){for(var r=0,i=0;i<n.length;i++)3!==n[i].status&&(n[r]=n[i],r++);n.length=r,Tf(t,0<n.length?n:null)}t.P(function(t){li(e,t)})}function ei(e,t){var n=oi(e,t).path(),r=Sf(e.uc,t);return Wf(r,function(t){ri(e,t)}),ri(e,r),Vf(r,function(t){ri(e,t)}),n}function ri(e,t){var n=t.Ca();if(null!==n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)4!==n[a].status&&(2===n[a].status?(K(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=4,n[a].ke="set"):(K(1===n[a].status,"Unexpected transaction status in abort"),n[a].ie(),i=i.concat(zf(e.L,n[a].Ba,!0)),n[a].H&&r.push(q(n[a].H,null,Error("set"),!1,null))));for(-1===o?Tf(t,null):n.length=o+1,Ab(e.da,t.path(),i),a=0;a<r.length;a++)Db(r[a])}}function W(){this.oc={},this.Sf=!1}function X(e,t){this.bd=e,this.ra=t}function Y(e,t,n,r){this.k=e,this.path=t,this.n=n,this.lc=r}function si(e){var t=null,n=null;if(e.ma&&(t=nd(e)),e.pa&&(n=pd(e)),e.g===Qd){if(e.ma){if("[MIN_NAME]"!=md(e))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof t)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}if(e.pa){if("[MAX_NAME]"!=od(e))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof n)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}}else if(e.g===N){if(null!=t&&!ag(t)||null!=n&&!ag(n))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(K(e.g instanceof Ud||e.g===$d,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")}function ti(e){if(e.ma&&e.pa&&e.ja&&(!e.ja||""===e.Nb))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")}function ui(e,t){if(!0===e.lc)throw Error(t+": You can't combine multiple orderBy calls.")}function vi(e,t,n){var r={cancel:null,Ma:null};if(t&&n)r.cancel=t,A(e,3,r.cancel,!0),r.Ma=n,mb(e,4,r.Ma);else if(t)if("object"==typeof t&&null!==t)r.Ma=t;else{if("function"!=typeof t)throw Error(y(e,3,!0)+" must either be a cancel callback or a context object.");r.cancel=t}return r}function U(e,t){var n,r,i;if(e instanceof Yh)n=e,r=t;else{x("new Firebase",1,2,arguments.length),r=Pc(arguments[0]),n=r.Tg,"firebase"===r.domain&&Oc(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||Oc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.kb||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&O("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),n=new zc(r.host,r.kb,n,"ws"===r.scheme||"wss"===r.scheme),r=new L(r.$c),i=r.toString();var o;if(!(o=!p(n.host)||0===n.host.length||!$f(n.hc))&&(o=0!==i.length)&&(i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),o=!(p(i)&&0!==i.length&&!Yf.test(i))),o)throw Error(y("new Firebase",1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".');if(t)if(t instanceof W)i=t;else{if(!p(t))throw Error("Expected a valid Firebase.Context for second argument to new Firebase()");i=W.ub(),n.Od=t}else i=W.ub();o=n.toString();var a=w(i.oc,o);a||(a=new Yh(n,i.Sf),i.oc[o]=a),n=a}Y.call(this,n,r,be,!1)}function Lc(e,t){K(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?("undefined"!=typeof console&&("function"==typeof console.log?Bb=q(console.log,console):"object"==typeof console.log&&(Bb=function(e){console.log(e)})),t&&yc.set("logging_enabled",!0)):e?Bb=e:(Bb=null,yc.remove("logging_enabled"))}var g,aa=this,la=Date.now||function(){return+new Date},ya="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Ea={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\x0B":"\\u000b"},Fa=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,Ha;e:{var Ia=aa.navigator;if(Ia){var Ja=Ia.userAgent;if(Ja){Ha=Ja;break e}}Ha=""}ma(La,Ka),La.prototype.reset=function(){this.N[0]=1732584193,this.N[1]=4023233417,this.N[2]=2562383102,this.N[3]=271733878,this.N[4]=3285377520,this.de=this.ac=0},La.prototype.update=function(e,t){if(null!=e){n(t)||(t=e.length);for(var r=t-this.Va,i=0,o=this.me,a=this.ac;t>i;){if(0==a)for(;r>=i;)Ma(this,e,i),i+=this.Va;if(p(e)){for(;t>i;)if(o[a]=e.charCodeAt(i),++a,++i,a==this.Va){Ma(this,o),a=0;break}}else for(;t>i;)if(o[a]=e[i],++a,++i,a==this.Va){Ma(this,o),a=0;break}}this.ac=a,this.de+=t}};var u=Array.prototype,Na=u.indexOf?function(e,t,n){return u.indexOf.call(e,t,n)}:function(e,t,n){if(n=null==n?0:0>n?Math.max(0,e.length+n):n,p(e))return p(t)&&1==t.length?e.indexOf(t,n):-1;for(;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Oa=u.forEach?function(e,t,n){u.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=p(e)?e.split(""):e,o=0;r>o;o++)o in i&&t.call(n,i[o],o,e)},Pa=u.filter?function(e,t,n){return u.filter.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=[],o=0,a=p(e)?e.split(""):e,s=0;r>s;s++)if(s in a){var l=a[s];t.call(n,l,s,e)&&(i[o++]=l)}return i},Qa=u.map?function(e,t,n){return u.map.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=Array(r),o=p(e)?e.split(""):e,a=0;r>a;a++)a in o&&(i[a]=t.call(n,o[a],a,e));return i},Ra=u.reduce?function(e,t,n,r){for(var i=[],o=1,a=arguments.length;a>o;o++)i.push(arguments[o]);return r&&(i[0]=q(t,r)),u.reduce.apply(e,i)}:function(e,t,n,r){var i=n;return Oa(e,function(n,o){i=t.call(r,i,n,o,e)}),i},Sa=u.every?function(e,t,n){return u.every.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=p(e)?e.split(""):e,o=0;r>o;o++)if(o in i&&!t.call(n,i[o],o,e))return!1;return!0},Za=-1!=Ha.indexOf("Opera")||-1!=Ha.indexOf("OPR"),$a=-1!=Ha.indexOf("Trident")||-1!=Ha.indexOf("MSIE"),ab=-1!=Ha.indexOf("Gecko")&&-1==Ha.toLowerCase().indexOf("webkit")&&!(-1!=Ha.indexOf("Trident")||-1!=Ha.indexOf("MSIE")),bb=-1!=Ha.toLowerCase().indexOf("webkit");!function(){var e,t="";return Za&&aa.opera?(t=aa.opera.version,ha(t)?t():t):(ab?e=/rv\:([^\);]+)(\)|;)/:$a?e=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:bb&&(e=/WebKit\/(\S+)/),e&&(t=(t=e.exec(Ha))?t[1]:""),$a&&(e=(e=aa.document)?e.documentMode:void 0,e>parseFloat(t))?String(e):t)}();var cb=null,db=null,eb=null,hb=hb||"2.3.1";ob.prototype.j=function(e){return this.Wd.Q(e)},ob.prototype.toString=function(){return this.Wd.toString()},pb.prototype.qf=function(){return null},pb.prototype.ye=function(){return null};var qb=new pb;rb.prototype.qf=function(e){var t=this.Ka.O;return sb(t,e)?t.j().R(e):(t=null!=this.Kd?new tb(this.Kd,!0,!1):this.Ka.w(),this.Tf.xc(e,t))},rb.prototype.ye=function(e,t,n){var r=null!=this.Kd?this.Kd:ub(this.Ka);return e=this.Tf.ne(r,t,1,n,e),0===e.length?null:e[0]},xb.prototype.add=function(e){this.vd.push(e)},xb.prototype.Zb=function(){return this.ra};var Fb="value";Gb.prototype.Zb=function(){var e=this.Zd.Ib();return"value"===this.ud?e.path:e.parent().path},Gb.prototype.ze=function(){return this.ud},Gb.prototype.Vb=function(){return this.ue.Vb(this)},Gb.prototype.toString=function(){return this.Zb().toString()+":"+this.ud+":"+B(this.Zd.mf())},Hb.prototype.Zb=function(){return this.path},Hb.prototype.ze=function(){return"cancel"},Hb.prototype.Vb=function(){return this.ue.Vb(this)},Hb.prototype.toString=function(){return this.path.toString()+":cancel"},tb.prototype.j=function(){return this.A},Lb.prototype.get=function(){var e=this.gg.get(),t=xa(e);if(this.Dd)for(var n in this.Dd)t[n]-=this.Dd[n];return this.Dd=e,t},Mb.prototype.If=function(){var e,t=this.fd.get(),n={},r=!1;for(e in t)0<t[e]&&v(this.Of,e)&&(n[e]=t[e],r=!0);r&&this.ba.Ue(n),setTimeout(q(this.If,this),Math.floor(6e5*Math.random()))},Nb.prototype.get=function(){return xa(this.Ec)};var Pb={},Qb={};Xb.prototype.Xc=function(e){return this.path.e()?new Xb(this.source,G,this.Ga.R(e)):new Xb(this.source,H(this.path),this.Ga)},Xb.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Ga.toString()+")"},Zb.prototype.Xc=function(){return this.path.e()?new Zb(this.source,G):new Zb(this.source,H(this.path))},Zb.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"},g=ac.prototype,g.Oa=function(e,t){return new ac(this.La,this.wa.Oa(e,t,this.La).Y(null,null,!1,null,null))},g.remove=function(e){return new ac(this.La,this.wa.remove(e,this.La).Y(null,null,!1,null,null))},g.get=function(e){for(var t,n=this.wa;!n.e();){if(t=this.La(e,n.key),0===t)return n.value;0>t?n=n.left:t>0&&(n=n.right)}return null},g.e=function(){return this.wa.e()},g.count=function(){return this.wa.count()},g.Sc=function(){return this.wa.Sc()},g.fc=function(){return this.wa.fc()},g.ia=function(e){return this.wa.ia(e)},g.Xb=function(e){return new dc(this.wa,null,this.La,!1,e)},g.Yb=function(e,t){return new dc(this.wa,e,this.La,!1,t)},g.$b=function(e,t){return new dc(this.wa,e,this.La,!0,t)},g.sf=function(e){return new dc(this.wa,null,this.La,!0,e)},g=fc.prototype,g.Y=function(e,t,n,r,i){return new fc(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},g.count=function(){return this.left.count()+1+this.right.count()},g.e=function(){return!1},g.ia=function(e){return this.left.ia(e)||e(this.key,this.value)||this.right.ia(e)},g.Sc=function(){return gc(this).key},g.fc=function(){return this.right.e()?this.key:this.right.fc()},g.Oa=function(e,t,n){var r,i;return i=this,r=n(e,i.key),i=0>r?i.Y(null,null,null,i.left.Oa(e,t,n),null):0===r?i.Y(null,t,null,null,null):i.Y(null,null,null,null,i.right.Oa(e,t,n)),hc(i)},g.remove=function(e,t){var n,r;if(n=this,0>t(e,n.key))n.left.e()||n.left.fa()||n.left.left.fa()||(n=jc(n)),n=n.Y(null,null,null,n.left.remove(e,t),null);else{if(n.left.fa()&&(n=kc(n)),n.right.e()||n.right.fa()||n.right.left.fa()||(n=lc(n),n.left.left.fa()&&(n=kc(n),n=lc(n))),0===t(e,n.key)){if(n.right.e())return bc;r=gc(n.right),n=n.Y(r.key,r.value,null,null,ic(n.right))}n=n.Y(null,null,null,null,n.right.remove(e,t))}return hc(n)},g.fa=function(){return this.color},g=nc.prototype,g.Y=function(){return this},g.Oa=function(e,t){return new fc(e,t,null)},g.remove=function(){return this},g.count=function(){return 0},g.e=function(){return!0},g.ia=function(){return!1},g.Sc=function(){return null},g.fc=function(){return null},g.fa=function(){return!1};var bc=new nc;uc.prototype.set=function(e,t){null==t?delete this.wc[e]:this.wc[e]=t},uc.prototype.get=function(e){return v(this.wc,e)?this.wc[e]:null},uc.prototype.remove=function(e){delete this.wc[e]},uc.prototype.wf=!0,g=vc.prototype,g.set=function(e,t){null==t?this.Fc.removeItem(this.Pd+e):this.Fc.setItem(this.Pd+e,B(t))},g.get=function(e){return e=this.Fc.getItem(this.Pd+e),null==e?null:nb(e)},g.remove=function(e){this.Fc.removeItem(this.Pd+e)},g.wf=!1,g.toString=function(){return this.Fc.toString()};var xc=wc("localStorage"),yc=wc("sessionStorage");zc.prototype.toString=function(){var e=(this.kb?"https://":"http://")+this.host;return this.Od&&(e+="<"+this.Od+">"),e};var Ec=function(){var e=1;return function(){return e++}}(),Bb=null,Kc=!0,Yc=/^-?\d{1,10}$/;cd.prototype.hg=function(e,t){if(null==e.Wa||null==t.Wa)throw Fc("Should only compare child_ events.");return this.g.compare(new F(e.Wa,e.Ja),new F(t.Wa,t.Ja))},g=id.prototype,g.Kf=function(e){return"value"===e},g.createEvent=function(e,t){var n=t.n.g;return new Gb("value",this,new Q(e.Ja,t.Ib(),n))},g.Vb=function(e){var t=this.rb;if("cancel"===e.ze()){K(this.pb,"Raising a cancel event on a listener with no cancel callback");var n=this.pb;return function(){n.call(t,e.error)}}var r=this.Rb;return function(){r.call(t,e.Zd)}},g.gf=function(e,t){return this.pb?new Hb(this,e,t):null},g.matches=function(e){return e instanceof id?e.Rb&&this.Rb?e.Rb===this.Rb&&e.rb===this.rb:!0:!1},g.tf=function(){return null!==this.Rb},g=jd.prototype,g.Kf=function(e){return e="children_added"===e?"child_added":e,("children_removed"===e?"child_removed":e)in this.ha},g.gf=function(e,t){return this.pb?new Hb(this,e,t):null},g.createEvent=function(e,t){K(null!=e.Wa,"Child events should have a childName.");var n=t.Ib().u(e.Wa);return new Gb(e.type,this,new Q(e.Ja,n,t.n.g),e.Qd)},g.Vb=function(e){var t=this.rb;if("cancel"===e.ze()){
K(this.pb,"Raising a cancel event on a listener with no cancel callback");var n=this.pb;return function(){n.call(t,e.error)}}var r=this.ha[e.ud];return function(){r.call(t,e.Zd,e.Qd)}},g.matches=function(e){if(e instanceof jd){if(!this.ha||!e.ha)return!0;if(this.rb===e.rb){var t=pa(e.ha);if(t===pa(this.ha)){if(1===t){var t=qa(e.ha),n=qa(this.ha);return!(n!==t||e.ha[t]&&this.ha[n]&&e.ha[t]!==this.ha[n])}return oa(this.ha,function(t,n){return e.ha[n]===t})}}}return!1},g.tf=function(){return null!==this.ha},g=kd.prototype,g.G=function(e,t,n,r,i,o){return K(e.Jc(this.g),"A node must be indexed if only a child is updated"),i=e.R(t),i.Q(r).ca(n.Q(r))&&i.e()==n.e()?e:(null!=o&&(n.e()?e.Da(t)?hd(o,new D("child_removed",i,t)):K(e.K(),"A child remove without an old child only makes sense on a leaf node"):i.e()?hd(o,new D("child_added",n,t)):hd(o,new D("child_changed",n,t,i))),e.K()&&n.e()?e:e.U(t,n).lb(this.g))},g.xa=function(e,t,n){return null!=n&&(e.K()||e.P(N,function(e,r){t.Da(e)||hd(n,new D("child_removed",r,e))}),t.K()||t.P(N,function(t,r){if(e.Da(t)){var i=e.R(t);i.ca(r)||hd(n,new D("child_changed",r,t,i))}else hd(n,new D("child_added",r,t))})),t.lb(this.g)},g.ga=function(e,t){return e.e()?C:e.ga(t)},g.Na=function(){return!1},g.Wb=function(){return this},g=ld.prototype,g.matches=function(e){return 0>=this.g.compare(this.ed,e)&&0>=this.g.compare(e,this.Gc)},g.G=function(e,t,n,r,i,o){return this.matches(new F(t,n))||(n=C),this.Be.G(e,t,n,r,i,o)},g.xa=function(e,t,n){t.K()&&(t=C);var r=t.lb(this.g),r=r.ga(C),i=this;return t.P(N,function(e,t){i.matches(new F(e,t))||(r=r.U(e,C))}),this.Be.xa(e,r,n)},g.ga=function(e){return e},g.Na=function(){return!0},g.Wb=function(){return this.Be},g=qd.prototype,g.G=function(e,t,n,r,i,o){return this.sa.matches(new F(t,n))||(n=C),e.R(t).ca(n)?e:e.Db()<this.ka?this.sa.Wb().G(e,t,n,r,i,o):sd(this,e,t,n,i,o)},g.xa=function(e,t,n){var r;if(t.K()||t.e())r=C.lb(this.g);else if(2*this.ka<t.Db()&&t.Jc(this.g)){r=C.lb(this.g),t=this.Jb?t.$b(this.sa.Gc,this.g):t.Yb(this.sa.ed,this.g);for(var i=0;0<t.Pa.length&&i<this.ka;){var o,a=J(t);if(!(o=this.Jb?0>=this.g.compare(this.sa.ed,a):0>=this.g.compare(a,this.sa.Gc)))break;r=r.U(a.name,a.S),i++}}else{r=t.lb(this.g),r=r.ga(C);var s,l,u;if(this.Jb){t=r.sf(this.g),s=this.sa.Gc,l=this.sa.ed;var c=td(this.g);u=function(e,t){return c(t,e)}}else t=r.Xb(this.g),s=this.sa.ed,l=this.sa.Gc,u=td(this.g);for(var i=0,d=!1;0<t.Pa.length;)a=J(t),!d&&0>=u(s,a)&&(d=!0),(o=d&&i<this.ka&&0>=u(a,l))?i++:r=r.U(a.name,C)}return this.sa.Wb().xa(e,r,n)},g.ga=function(e){return e},g.Na=function(){return!0},g.Wb=function(){return this.sa.Wb()},xd.prototype.ab=function(e,t,n,r){var i,o=new gd;if(t.type===Yb)t.source.we?n=yd(this,e,t.path,t.Ga,n,r,o):(K(t.source.pf,"Unknown source."),i=t.source.af||Jb(e.w())&&!t.path.e(),n=Ad(this,e,t.path,t.Ga,n,r,i,o));else if(t.type===Bd)t.source.we?n=Cd(this,e,t.path,t.children,n,r,o):(K(t.source.pf,"Unknown source."),i=t.source.af||Jb(e.w()),n=Dd(this,e,t.path,t.children,n,r,i,o));else if(t.type===Ed)if(t.Vd)if(t=t.path,null!=n.tc(t))n=e;else{if(i=new rb(n,e,r),r=e.O.j(),t.e()||".priority"===E(t))Ib(e.w())?t=n.za(ub(e)):(t=e.w().j(),K(t instanceof R,"serverChildren would be complete if leaf node"),t=n.yc(t)),t=this.V.xa(r,t,o);else{var a=E(t),s=n.xc(a,e.w());null==s&&sb(e.w(),a)&&(s=r.R(a)),t=null!=s?this.V.G(r,a,s,H(t),i,o):e.O.j().Da(a)?this.V.G(r,a,C,H(t),i,o):r,t.e()&&Ib(e.w())&&(r=n.za(ub(e)),r.K()&&(t=this.V.xa(t,r,o)))}r=Ib(e.w())||null!=n.tc(G),n=Fd(e,t,r,this.V.Na())}else n=Gd(this,e,t.path,t.Qb,n,r,o);else{if(t.type!==$b)throw Fc("Unknown operation type: "+t.type);r=t.path,t=e.w(),i=t.j(),a=t.ea||r.e(),n=Hd(this,new Id(e.O,new tb(i,a,t.Ub)),r,n,qb,o)}return o=ra(o.bb),r=n,t=r.O,t.ea&&(i=t.j().K()||t.j().e(),a=Jd(e),(0<o.length||!e.O.ea||i&&!t.j().ca(a)||!t.j().C().ca(a.C()))&&o.push(Eb(Jd(r)))),new wd(n,o)};var Sd={};Rd.prototype.Ad=function(e,t){return 0!==this.compare(new F("[MIN_NAME]",e),new F("[MIN_NAME]",t))},Rd.prototype.Tc=function(){return Td},ma(Ud,Rd),g=Ud.prototype,g.Ic=function(e){return!e.Q(this.cc).e()},g.compare=function(e,t){var n=e.S.Q(this.cc),r=t.S.Q(this.cc),n=n.Dc(r);return 0===n?Vb(e.name,t.name):n},g.Pc=function(e,t){var n=M(e),n=C.G(this.cc,n);return new F(t,n)},g.Qc=function(){var e=C.G(this.cc,Vd);return new F("[MAX_NAME]",e)},g.toString=function(){return this.cc.slice().join("/")},ma(Wd,Rd),g=Wd.prototype,g.compare=function(e,t){var n=e.S.C(),r=t.S.C(),n=n.Dc(r);return 0===n?Vb(e.name,t.name):n},g.Ic=function(e){return!e.C().e()},g.Ad=function(e,t){return!e.C().ca(t.C())},g.Tc=function(){return Td},g.Qc=function(){return new F("[MAX_NAME]",new tc("[PRIORITY-POST]",Vd))},g.Pc=function(e,t){var n=M(e);return new F(t,new tc("[PRIORITY-POST]",n))},g.toString=function(){return".priority"};var N=new Wd;ma(Xd,Rd),g=Xd.prototype,g.compare=function(e,t){return Vb(e.name,t.name)},g.Ic=function(){throw Fc("KeyIndex.isDefinedOn not expected to be called.")},g.Ad=function(){return!1},g.Tc=function(){return Td},g.Qc=function(){return new F("[MAX_NAME]",C)},g.Pc=function(e){return K(p(e),"KeyIndex indexValue must always be a string."),new F(e,C)},g.toString=function(){return".key"};var Qd=new Xd;ma(Yd,Rd),g=Yd.prototype,g.compare=function(e,t){var n=e.S.Dc(t.S);return 0===n?Vb(e.name,t.name):n},g.Ic=function(){return!0},g.Ad=function(e,t){return!e.ca(t)},g.Tc=function(){return Td},g.Qc=function(){return Zd},g.Pc=function(e,t){var n=M(e);return new F(t,n)},g.toString=function(){return".value"};var $d=new Yd,be=new ae;g=ae.prototype,g.He=function(e){var t=ce(this);return t.ja=!0,t.ka=e,t.Nb="",t},g.Ie=function(e){var t=ce(this);return t.ja=!0,t.ka=e,t.Nb="l",t},g.Je=function(e){var t=ce(this);return t.ja=!0,t.ka=e,t.Nb="r",t},g.$d=function(e,t){var r=ce(this);return r.ma=!0,n(e)||(e=null),r.ec=e,null!=t?(r.Lb=!0,r.xb=t):(r.Lb=!1,r.xb=""),r},g.td=function(e,t){var r=ce(this);return r.pa=!0,n(e)||(e=null),r.bc=e,n(t)?(r.Tb=!0,r.vb=t):(r.ah=!1,r.vb=""),r},g.toString=function(){return B(ee(this))},he.prototype.get=function(e){var t=w(this.Bd,e);if(!t)throw Error("No index defined for "+e);return t===Sd?null:t};var le=new he({".priority":Sd},{".priority":N}),ne=["object","boolean","number","string"];g=tc.prototype,g.K=function(){return!0},g.C=function(){return this.aa},g.ga=function(e){return new tc(this.B,e)},g.R=function(e){return".priority"===e?this.aa:C},g.Q=function(e){return e.e()?this:".priority"===E(e)?this.aa:C},g.Da=function(){return!1},g.rf=function(){return null},g.U=function(e,t){return".priority"===e?this.ga(t):t.e()&&".priority"!==e?this:C.U(e,t).ga(this.aa)},g.G=function(e,t){var n=E(e);return null===n?t:t.e()&&".priority"!==n?this:(K(".priority"!==n||1===Kd(e),".priority must be the last token in a path"),this.U(n,C.G(H(e),t)))},g.e=function(){return!1},g.Db=function(){return 0},g.P=function(){return!1},g.I=function(e){return e&&!this.C().e()?{".value":this.Ca(),".priority":this.C().I()}:this.Ca()},g.hash=function(){if(null===this.Cb){var e="";this.aa.e()||(e+="priority:"+oe(this.aa.I())+":");var t=typeof this.B,e=e+(t+":"),e="number"===t?e+Xc(this.B):e+this.B;this.Cb=Hc(e)}return this.Cb},g.Ca=function(){return this.B},g.Dc=function(e){if(e===C)return 1;if(e instanceof R)return-1;K(e.K(),"Unknown node type");var t=typeof e.B,n=typeof this.B,r=Na(ne,t),i=Na(ne,n);return K(r>=0,"Unknown leaf type: "+t),K(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.B<e.B?-1:this.B===e.B?0:1:i-r},g.lb=function(){return this},g.Jc=function(){return!0},g.ca=function(e){return e===this?!0:e.K()?this.B===e.B&&this.aa.ca(e.aa):!1},g.toString=function(){return B(this.I(!0))},g=R.prototype,g.K=function(){return!1},g.C=function(){return this.aa||C},g.ga=function(e){return this.m.e()?this:new R(this.m,e,this.wb)},g.R=function(e){return".priority"===e?this.C():(e=this.m.get(e),null===e?C:e)},g.Q=function(e){var t=E(e);return null===t?this:this.R(t).Q(H(e))},g.Da=function(e){return null!==this.m.get(e)},g.U=function(e,t){if(K(t,"We should always be passing snapshot nodes"),".priority"===e)return this.ga(t);var n,r,i=new F(e,t);return t.e()?(n=this.m.remove(e),i=ke(this.wb,i,this.m)):(n=this.m.Oa(e,t),i=ie(this.wb,i,this.m)),r=n.e()?C:this.aa,new R(n,r,i)},g.G=function(e,t){var n=E(e);if(null===n)return t;K(".priority"!==E(e)||1===Kd(e),".priority must be the last token in a path");var r=this.R(n).G(H(e),t);return this.U(n,r)},g.e=function(){return this.m.e()},g.Db=function(){return this.m.count()};var pe=/^(0|[1-9]\d*)$/;g=R.prototype,g.I=function(e){if(this.e())return null;var t={},n=0,r=0,i=!0;if(this.P(N,function(o,a){t[o]=a.I(e),n++,i&&pe.test(o)?r=Math.max(r,Number(o)):i=!1}),!e&&i&&2*n>r){var o,a=[];for(o in t)a[o]=t[o];return a}return e&&!this.C().e()&&(t[".priority"]=this.C().I()),t},g.hash=function(){if(null===this.Cb){var e="";this.C().e()||(e+="priority:"+oe(this.C().I())+":"),this.P(N,function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.Cb=""===e?"":Hc(e)}return this.Cb},g.rf=function(e,t,n){return(n=qe(this,n))?(e=cc(n,new F(e,t)))?e.name:null:cc(this.m,e)},g.P=function(e,t){var n=qe(this,e);return n?n.ia(function(e){return t(e.name,e.S)}):this.m.ia(t)},g.Xb=function(e){return this.Yb(e.Tc(),e)},g.Yb=function(e,t){var n=qe(this,t);if(n)return n.Yb(e,function(e){return e});for(var n=this.m.Yb(e.name,Tb),r=ec(n);null!=r&&0>t.compare(r,e);)J(n),r=ec(n);return n},g.sf=function(e){return this.$b(e.Qc(),e)},g.$b=function(e,t){var n=qe(this,t);if(n)return n.$b(e,function(e){return e});for(var n=this.m.$b(e.name,Tb),r=ec(n);null!=r&&0<t.compare(r,e);)J(n),r=ec(n);return n},g.Dc=function(e){return this.e()?e.e()?0:-1:e.K()||e.e()?1:e===Vd?-1:0},g.lb=function(e){if(e===Qd||ta(this.wb.dc,e.toString()))return this;var t=this.wb,n=this.m;K(e!==Qd,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,n=n.Xb(Tb),o=J(n);o;)i=i||e.Ic(o.S),r.push(o),o=J(n);return r=i?je(r,td(e)):Sd,i=e.toString(),n=xa(t.dc),n[i]=e,e=xa(t.Bd),e[i]=r,new R(this.m,this.aa,new he(e,n))},g.Jc=function(e){return e===Qd||ta(this.wb.dc,e.toString())},g.ca=function(e){if(e===this)return!0;if(e.K())return!1;if(this.C().ca(e.C())&&this.m.count()===e.m.count()){var t=this.Xb(N);e=e.Xb(N);for(var n=J(t),r=J(e);n&&r;){if(n.name!==r.name||!n.S.ca(r.S))return!1;n=J(t),r=J(e)}return null===n&&null===r}return!1},g.toString=function(){return B(this.I(!0))};var re=Math.log(2),C=new R(new ac(Wb),null,le);ma(ue,R),g=ue.prototype,g.Dc=function(e){return e===this?0:1},g.ca=function(e){return e===this},g.C=function(){return this},g.R=function(){return C},g.e=function(){return!1};var Vd=new ue,Td=new F("[MIN_NAME]",C),Zd=new F("[MAX_NAME]",Vd);Id.prototype.w=function(){return this.Yd},g=ve.prototype,g.w=function(){return this.Ka.w().j()},g.fb=function(e){var t=ub(this.Ka);return t&&(S(this.W.n)||!e.e()&&!t.R(E(e)).e())?t.Q(e):null},g.e=function(){return 0===this.Xa.length},g.Pb=function(e){this.Xa.push(e)},g.jb=function(e,t){var n=[];if(t){K(null==e,"A cancel should cancel all event registrations.");var r=this.W.path;Oa(this.Xa,function(e){(e=e.gf(t,r))&&n.push(e)})}if(e){for(var i=[],o=0;o<this.Xa.length;++o){var a=this.Xa[o];if(a.matches(e)){if(e.tf()){i=i.concat(this.Xa.slice(o+1));break}}else i.push(a)}this.Xa=i}else this.Xa=[];return n},g.ab=function(e,t,n){e.type===Bd&&null!==e.source.Hb&&(K(ub(this.Ka),"We should always have a full cache before handling merges"),K(Jd(this.Ka),"Missing event cache, even though we have a server cache"));var r=this.Ka;return e=this.Hf.ab(r,e,t,n),t=this.Hf,n=e.je,K(n.O.j().Jc(t.V.g),"Event snap not indexed"),K(n.w().j().Jc(t.V.g),"Server snap not indexed"),K(Ib(e.je.w())||!Ib(r.w()),"Once a server snap is complete, it should never go back"),this.Ka=e.je,xe(this,e.fg,e.je.O.j(),null)},ze.prototype.Xc=function(e){return this.path.e()?(e=this.children.subtree(new L(e)),e.e()?null:e.value?new Xb(this.source,G,e.value):new ze(this.source,G,e)):(K(E(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ze(this.source,H(this.path),this.children))},ze.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},g=Ae.prototype,g.yf=function(e,t,n,r){var i=e.path.toString();this.f("Listen called for "+i+" "+e.va());var o=Be(e,n),a={};this.$[o]=a,e=ge(e.n);var s=this;Ce(this,i+".json",e,function(e,t){var l=t;404===e&&(e=l=null),null===e&&s.Gb(i,l,!1,n),w(s.$,o)===a&&r(e?401==e?"permission_denied":"rest_error:"+e:"ok",null)})},g.Rf=function(e,t){var n=Be(e,t);delete this.$[n]},g.M=function(e,t){this.Aa=e;var n=$c(e),r=n.data,n=n.Bc&&n.Bc.exp;t&&t("ok",{auth:r,expires:n})},g.ge=function(e){this.Aa=null,e("ok",null)},g.Me=function(){},g.Cf=function(){},g.Jd=function(){},g.put=function(){},g.zf=function(){},g.Ue=function(){},De.prototype.fe=function(e,t){var n;n=this.Oc[e]||[];var r=n.length;if(r>0){for(var i=Array(r),o=0;r>o;o++)i[o]=n[o];n=i}else n=[];for(r=0;r<n.length;r++)n[r].zc.apply(n[r].Ma,Array.prototype.slice.call(arguments,1))},De.prototype.Eb=function(e,t,n){Ee(this,e),this.Oc[e]=this.Oc[e]||[],this.Oc[e].push({zc:t,Ma:n}),(e=this.Ae(e))&&t.apply(n,e)},De.prototype.ic=function(e,t,n){Ee(this,e),e=this.Oc[e]||[];for(var r=0;r<e.length;r++)if(e[r].zc===t&&(!n||n===e[r].Ma)){e.splice(r,1);break}};var Fe=function(){var e=0,t=[];return function(n){var r=n===e;e=n;for(var i=Array(8),o=7;o>=0;o--)i[o]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(n%64),n=Math.floor(n/64);if(K(0===n,"Cannot push at time == 0"),n=i.join(""),r){for(o=11;o>=0&&63===t[o];o--)t[o]=0;t[o]++}else for(o=0;12>o;o++)t[o]=Math.floor(64*Math.random());for(o=0;12>o;o++)n+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(t[o]);return K(20===n.length,"nextPushId: Length should be 20."),n}}();ma(Ge,De),Ge.prototype.Ae=function(e){return K("online"===e,"Unknown event type: "+e),[this.kc]},ca(Ge),ma(He,De),He.prototype.Ae=function(e){return K("visible"===e,"Unknown event type: "+e),[this.Ob]},ca(He),g=L.prototype,g.toString=function(){for(var e="",t=this.Z;t<this.o.length;t++)""!==this.o[t]&&(e+="/"+this.o[t]);return e||"/"},g.slice=function(e){return this.o.slice(this.Z+(e||0))},g.parent=function(){if(this.Z>=this.o.length)return null;for(var e=[],t=this.Z;t<this.o.length-1;t++)e.push(this.o[t]);return new L(e,0)},g.u=function(e){for(var t=[],n=this.Z;n<this.o.length;n++)t.push(this.o[n]);if(e instanceof L)for(n=e.Z;n<e.o.length;n++)t.push(e.o[n]);else for(e=e.split("/"),n=0;n<e.length;n++)0<e[n].length&&t.push(e[n]);return new L(t,0)},g.e=function(){return this.Z>=this.o.length},g.ca=function(e){if(Kd(this)!==Kd(e))return!1;for(var t=this.Z,n=e.Z;t<=this.o.length;t++,n++)if(this.o[t]!==e.o[n])return!1;return!0},g.contains=function(e){var t=this.Z,n=e.Z;if(Kd(this)>Kd(e))return!1;for(;t<this.o.length;){if(this.o[t]!==e.o[n])return!1;++t,++n}return!0};var G=new L("");Je.prototype.push=function(e){0<this.Qa.length&&(this.Ha+=1),this.Qa.push(e),this.Ha+=Zc(e),Ke(this)},Je.prototype.pop=function(){var e=this.Qa.pop();this.Ha-=Zc(e),0<this.Qa.length&&--this.Ha};var Ne=new ac(function(e,t){return e===t?0:t>e?-1:1});g=Me.prototype,g.e=function(){return null===this.value&&this.children.e()},g.subtree=function(e){if(e.e())return this;var t=this.children.get(E(e));return null!==t?t.subtree(H(e)):Pd},g.set=function(e,t){if(e.e())return new Me(t,this.children);var n=E(e),r=(this.children.get(n)||Pd).set(H(e),t),n=this.children.Oa(n,r);return new Me(this.value,n)},g.remove=function(e){if(e.e())return this.children.e()?Pd:new Me(null,this.children);var t=E(e),n=this.children.get(t);return n?(e=n.remove(H(e)),t=e.e()?this.children.remove(t):this.children.Oa(t,e),null===this.value&&t.e()?Pd:new Me(this.value,t)):this},g.get=function(e){if(e.e())return this.value;var t=this.children.get(E(e));return t?t.get(H(e)):null};var Pd=new Me(null);Me.prototype.toString=function(){var e={};return Md(this,function(t,n){e[t.toString()]=n.toString()}),B(e)},Ze.prototype.Xc=function(e){return this.path.e()?null!=this.Qb.value?(K(this.Qb.children.e(),"affectedTree should not have overlapping affected paths."),this):(e=this.Qb.subtree(new L(e)),new Ze(G,e,this.Vd)):(K(E(this.path)===e,"operationForChild called for unrelated child."),new Ze(H(this.path),this.Qb,this.Vd))},Ze.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Vd+" affectedTree="+this.Qb+")"};var Yb=0,Bd=1,Ed=2,$b=3,$e=new af(!0,!1,null,!1),bf=new af(!1,!0,null,!1);af.prototype.toString=function(){return this.we?"user":this.af?"server(queryID="+this.Hb+")":"server"};var df=new cf(new Me(null));cf.prototype.Rd=function(e){return e.e()?df:(e=Od(this.X,e,Pd),new cf(e))},cf.prototype.e=function(){return this.X.e()},cf.prototype.apply=function(e){return kf(G,this.X,e)},g=lf.prototype,g.Rd=function(e){var t=Ua(this.na,function(t){return t.kd===e});K(t>=0,"removeWrite called with nonexistent writeId.");var n=this.na[t];this.na.splice(t,1);for(var i=n.visible,o=!1,a=this.na.length-1;i&&a>=0;){var s=this.na[a];s.visible&&(a>=t&&nf(s,n.path)?i=!1:n.path.contains(s.path)&&(o=!0)),a--}if(i){if(o)this.T=of(this.na,pf,G),this.Mc=0<this.na.length?this.na[this.na.length-1].kd:-1;else if(n.Ga)this.T=this.T.Rd(n.path);else{var l=this;r(n.children,function(e,t){l.T=l.T.Rd(n.path.u(t))})}return!0}return!1},g.za=function(e,t,n,r){if(n||r){var i=jf(this.T,e);return!r&&i.e()?t:r||null!=t||null!=gf(i,G)?(i=of(this.na,function(t){return(t.visible||r)&&(!n||!(0<=Na(n,t.kd)))&&(t.path.contains(e)||e.contains(t.path))},e),t=t||C,i.apply(t)):null}return i=gf(this.T,e),null!=i?i:(i=jf(this.T,e),i.e()?t:null!=t||null!=gf(i,G)?(t=t||C,i.apply(t)):null)},g.yc=function(e,t){var n=C,r=gf(this.T,e);if(r)r.K()||r.P(N,function(e,t){n=n.U(e,t)});else if(t){var i=jf(this.T,e);t.P(N,function(e,t){var r=jf(i,new L(e)).apply(t);n=n.U(e,r)}),Oa(hf(i),function(e){n=n.U(e.name,e.S)})}else i=jf(this.T,e),Oa(hf(i),function(e){n=n.U(e.name,e.S)});return n},g.ld=function(e,t,n,r){return K(n||r,"Either existingEventSnap or existingServerSnap must exist"),e=e.u(t),null!=gf(this.T,e)?null:(e=jf(this.T,e),e.e()?r.Q(t):e.apply(r.Q(t)))},g.xc=function(e,t,n){e=e.u(t);var r=gf(this.T,e);return null!=r?r:sb(n,t)?jf(this.T,e).apply(n.j().R(t)):null},g.tc=function(e){return gf(this.T,e)},g.ne=function(e,t,n,r,i,o){var a;if(e=jf(this.T,e),a=gf(e,G),null==a){if(null==t)return[];a=e.apply(t)}if(a=a.lb(o),a.e()||a.K())return[];for(t=[],e=td(o),i=i?a.$b(n,o):a.Yb(n,o),o=J(i);o&&t.length<r;)0!==e(o,n)&&t.push(o),o=J(i);return t},g=qf.prototype,g.za=function(e,t,n){return this.X.za(this.Mb,e,t,n)},g.yc=function(e){return this.X.yc(this.Mb,e)},g.ld=function(e,t,n){return this.X.ld(this.Mb,e,t,n)},g.tc=function(e){return this.X.tc(this.Mb.u(e))},g.ne=function(e,t,n,r,i){return this.X.ne(this.Mb,e,t,n,r,i)},g.xc=function(e,t){return this.X.xc(this.Mb,e,t)},g.u=function(e){return new qf(this.Mb.u(e),this.X)},g=rf.prototype,g.e=function(){return wa(this.ya)},g.ab=function(e,t,n){var i=e.source.Hb;if(null!==i)return i=w(this.ya,i),K(null!=i,"SyncTree gave us an op for an invalid query."),i.ab(e,t,n);var o=[];return r(this.ya,function(r){o=o.concat(r.ab(e,t,n))}),o},g.Pb=function(e,t,n,r,i){var o=e.va(),a=w(this.ya,o);if(!a){var a=n.za(i?r:null),s=!1;a?s=!0:(a=r instanceof R?n.yc(r):C,s=!1),a=new ve(e,new Id(new tb(a,s,!1),new tb(r,i,!1))),this.ya[o]=a}return a.Pb(t),ye(a,t)},g.jb=function(e,t,n){var i=e.va(),o=[],a=[],s=null!=sf(this);if("default"===i){var l=this;r(this.ya,function(e,r){a=a.concat(e.jb(t,n)),e.e()&&(delete l.ya[r],S(e.W.n)||o.push(e.W))})}else{var u=w(this.ya,i);u&&(a=a.concat(u.jb(t,n)),u.e()&&(delete this.ya[i],S(u.W.n)||o.push(u.W)))}return s&&null==sf(this)&&o.push(new U(e.k,e.path)),{Kg:o,mg:a}},g.fb=function(e){var t=null;return r(this.ya,function(n){t=t||n.fb(e)}),t},vf.prototype.Pb=function(e,t){var n=e.path,r=null,i=!1;Ve(this.ta,n,function(e,t){var o=T(e,n);return r=t.fb(o),i=i||null!=sf(t),!r});var o=this.ta.get(n);o?(i=i||null!=sf(o),r=r||o.fb(G)):(o=new rf,this.ta=this.ta.set(n,o));var a;null!=r?a=!0:(a=!1,r=C,Ye(this.ta.subtree(n),function(e,t){var n=t.fb(G);n&&(r=r.U(e,n))}));var s=null!=uf(o,e);if(!s&&!S(e.n)){var l=Gf(e);K(!(l in this.mc),"View does not exist, but we have a tag");var u=Hf++;this.mc[l]=u,this.$e["_"+u]=l}return a=o.Pb(e,t,new qf(n,this.ib),r,a),s||i||(o=uf(o,e),a=a.concat(If(this,e,o))),a},vf.prototype.jb=function(e,t,n){var r=e.path,i=this.ta.get(r),o=[];if(i&&("default"===e.va()||null!=uf(i,e))){o=i.jb(e,t,n),i.e()&&(this.ta=this.ta.remove(r)),i=o.Kg,o=o.mg,t=-1!==Ua(i,function(e){return S(e.n)});var a=Te(this.ta,r,function(e,t){return null!=sf(t)});if(t&&!a&&(r=this.ta.subtree(r),!r.e()))for(var r=Jf(r),s=0;s<r.length;++s){var l=r[s],u=l.W,l=Kf(this,l);this.Nc.Xe(Lf(u),Mf(this,u),l.xd,l.H)}if(!a&&0<i.length&&!n)if(t)this.Nc.ae(Lf(e),null);else{var c=this;Oa(i,function(e){e.va();var t=c.mc[Gf(e)];c.Nc.ae(Lf(e),t)})}Nf(this,i)}return o},vf.prototype.za=function(e,t){var n=this.ib,r=Te(this.ta,e,function(t,n){var r=T(t,e);return(r=n.fb(r))?r:void 0});return n.za(e,r,t,!0)};var Hf=1;g=Rf.prototype,g.Ca=function(){return this.A.value},g.clear=function(){this.A.value=null,this.A.children={},this.A.nd=0,Uf(this)},g.wd=function(){return 0<this.A.nd},g.e=function(){return null===this.Ca()&&!this.wd()},g.P=function(e){var t=this;r(this.A.children,function(n,r){e(new Rf(r,t,n))})},g.path=function(){return new L(null===this.Zc?this.Gd:this.Zc.path()+"/"+this.Gd)},g.name=function(){return this.Gd},g.parent=function(){return this.Zc};var Xf=/[\[\].#$\/\u0000-\u001F\u007F]/,Yf=/[\[\].#$\u0000-\u001F\u007F]/,Zf=/^[a-zA-Z][a-zA-Z._\-+]+$/;g=pg.prototype,g.add=function(e,t){this.set[e]=null!==t?t:!0},g.contains=function(e){return v(this.set,e)},g.get=function(e){return this.contains(e)?this.set[e]:void 0},g.remove=function(e){delete this.set[e]},g.clear=function(){this.set={}},g.e=function(){return wa(this.set)},g.count=function(){return pa(this.set)},g.keys=function(){var e=[];return r(this.set,function(t,n){e.push(n)}),e},qc.prototype.find=function(e){if(null!=this.B)return this.B.Q(e);if(e.e()||null==this.m)return null;var t=E(e);return e=H(e),this.m.contains(t)?this.m.get(t).find(e):null},qc.prototype.nc=function(e,t){if(e.e())this.B=t,this.m=null;else if(null!==this.B)this.B=this.B.G(e,t);else{null==this.m&&(this.m=new pg);var n=E(e);this.m.contains(n)||this.m.add(n,new qc),n=this.m.get(n),e=H(e),n.nc(e,t)}},qc.prototype.P=function(e){null!==this.m&&qg(this.m,function(t,n){e(t,n)})};var sg="auth.firebase.com",ug=["remember","redirectTo"];wg.prototype.set=function(e,t){if(!t){if(!this.be.length)throw Error("fb.login.SessionManager : No storage options available!");t=this.be[0]}t.set(this.Qe,e)},wg.prototype.get=function(){var e=Qa(this.be,q(this.qg,this)),e=Pa(e,function(e){return null!==e});return Xa(e,function(e,t){return ad(t.token)-ad(e.token)}),0<e.length?e.shift():null},wg.prototype.qg=function(e){try{var t=e.get(this.Qe);if(t&&t.token)return t}catch(n){}return null},wg.prototype.clear=function(){var e=this;Oa(this.be,function(t){t.remove(e.Qe)})},Ig.prototype.jc=function(e){var t,n=this;try{t=nb(e.data)}catch(r){}t&&"request"===t.a&&(Dg(window,"message",this.jc),this.ce=e.origin,this.Ac&&setTimeout(function(){n.Ac(n.ce,t.d,function(e,t){n.dg=!t,n.Ac=void 0,Jg(n,{a:"response",d:e,forceKeepWindowOpen:t})})},0))},Ig.prototype.Bg=function(){try{Dg(this.zd,"message",this.Bf)}catch(e){}this.Ac&&(Jg(this,{a:"error",d:"unknown closed window"}),this.Ac=void 0);try{window.close()}catch(t){}},Ig.prototype.Bf=function(e){if(this.dg&&"die"===e.data)try{window.close()}catch(t){}},Kg.prototype.open=function(e,t){yc.set("redirect_request_id",this.pc),yc.set("redirect_request_id",this.pc),t.requestId=this.pc,t.redirectTo=t.redirectTo||window.location.href,e+=(/\?/.test(e)?"":"?")+kb(t),window.location=e},Kg.isAvailable=function(){return!zg()&&!yg()},Kg.prototype.Cc=function(){return"redirect"};var Lg={NETWORK_ERROR:"Unable to contact the Firebase server.",SERVER_ERROR:"An unknown server error occurred.",TRANSPORT_UNAVAILABLE:"There are no login transports available for the requested method.",REQUEST_INTERRUPTED:"The browser redirected the page before the login request could complete.",USER_CANCELLED:"The user cancelled authentication."};Ng.prototype.open=function(e,t,n){function r(e){if(o&&(document.body.removeChild(o),o=void 0),c&&(c=clearInterval(c)),Dg(window,"message",i),Dg(window,"unload",r),u&&!e)try{u.close()}catch(t){a.postMessage("die",l)}u=a=void 0}function i(e){if(e.origin===l)try{var t=nb(e.data);"ready"===t.a?a.postMessage(d,l):"error"===t.a?(r(!1),n&&(n(t.d),n=null)):"response"===t.a&&(r(t.forceKeepWindowOpen),n&&(n(null,t.d),n=null))}catch(i){}}var o,a,s=Ag(8);if(!this.options.relay_url)return n(Error("invalid arguments: origin of url and relay_url must match"));var l=Eg(e);if(l!==Eg(this.options.relay_url))n&&setTimeout(function(){n(Error("invalid arguments: origin of url and relay_url must match"))},0);else{s&&(o=document.createElement("iframe"),o.setAttribute("src",this.options.relay_url),o.style.display="none",o.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(o),a=o.contentWindow),e+=(/\?/.test(e)?"":"?")+kb(t);var u=window.open(e,this.options.window_name,this.options.window_features);a||(a=u);var c=setInterval(function(){u&&u.closed&&(r(!1),n&&(n(Mg("USER_CANCELLED")),n=null))},500),d=B({a:"request",d:t});Cg(window,"unload",r),Cg(window,"message",i)}},Ng.isAvailable=function(){var e;return(e="postMessage"in window&&!zg())&&((e=yg()||"undefined"!=typeof navigator&&(!!xg().match(/Windows Phone/)||!!window.Windows&&/^ms-appx:/.test(location.href)))||(e=xg(),e="undefined"!=typeof navigator&&"undefined"!=typeof window&&!!(e.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i)||e.match(/CriOS/)||e.match(/Twitter for iPhone/)||e.match(/FBAN\/FBIOS/)||window.navigator.standalone)),e=!e),e&&!xg().match(/PhantomJS/)},Ng.prototype.Cc=function(){return"popup"},Og.prototype.open=function(e,t,n){function r(){n&&(n(Mg("REQUEST_INTERRUPTED")),n=null)}var i,o=new XMLHttpRequest,a=this.options.method.toUpperCase();if(Cg(window,"beforeunload",r),o.onreadystatechange=function(){if(n&&4===o.readyState){var e;if(200<=o.status&&300>o.status){try{e=nb(o.responseText)}catch(t){}n(null,e)}else n(500<=o.status&&600>o.status?Mg("SERVER_ERROR"):Mg("NETWORK_ERROR"));n=null,Dg(window,"beforeunload",r)}},"GET"===a)e+=(/\?/.test(e)?"":"?")+kb(t),i=null;else{var s=this.options.headers.content_type;"application/json"===s&&(i=B(t)),"application/x-www-form-urlencoded"===s&&(i=kb(t))}o.open(a,e,!0),e={"X-Requested-With":"XMLHttpRequest",Accept:"application/json;text/plain"},za(e,this.options.headers);for(var l in e)o.setRequestHeader(l,e[l]);o.send(i)},Og.isAvailable=function(){var e;return(e=!!window.XMLHttpRequest)&&(e=xg(),e=!(e.match(/MSIE/)||e.match(/Trident/))||Ag(10)),e},Og.prototype.Cc=function(){return"json"},Pg.prototype.open=function(e,t,n){function r(){n&&(n(Mg("USER_CANCELLED")),n=null)}var i,o=this,a=Pc(sg);t.requestId=this.pc,t.redirectTo=a.scheme+"://"+a.host+"/blank/page.html",e+=/\?/.test(e)?"":"?",e+=kb(t),(i=window.open(e,"_blank","location=no"))&&ha(i.addEventListener)?(i.addEventListener("loadstart",function(e){var t;if(t=e&&e.url)e:{try{var s=document.createElement("a");s.href=e.url,t=s.host===a.host&&"/blank/page.html"===s.pathname;break e}catch(l){}t=!1}t&&(e=Fg(e.url),i.removeEventListener("exit",r),i.close(),e=new tg(null,null,{requestId:o.pc,requestKey:e}),o.Ef.requestWithCredential("/auth/session",e,n),n=null)}),i.addEventListener("exit",r)):n(Mg("TRANSPORT_UNAVAILABLE"))},Pg.isAvailable=function(){return yg()},Pg.prototype.Cc=function(){return"redirect"},Qg.prototype.open=function(e,t,n){function r(){n&&(n(Mg("REQUEST_INTERRUPTED")),n=null)}function i(){setTimeout(function(){window.__firebase_auth_jsonp[o]=void 0,wa(window.__firebase_auth_jsonp)&&(window.__firebase_auth_jsonp=void 0);try{var e=document.getElementById(o);e&&e.parentNode.removeChild(e)}catch(t){}},1),Dg(window,"beforeunload",r)}var o="fn"+(new Date).getTime()+Math.floor(99999*Math.random());t[this.options.callback_parameter]="__firebase_auth_jsonp."+o,e+=(/\?/.test(e)?"":"?")+kb(t),Cg(window,"beforeunload",r),window.__firebase_auth_jsonp[o]=function(e){n&&(n(null,e),n=null),i()},Rg(o,e,n)},Qg.isAvailable=function(){return"undefined"!=typeof document&&null!=document.createElement},Qg.prototype.Cc=function(){return"json"},ma(Sg,De),g=Sg.prototype,g.xe=function(){return this.mb||null},g.se=function(e,t){ah(this);var n=vg(e);n.$a._method="POST",this.qc("/users",n,function(e,n){e?P(t,e):P(t,e,n)})},g.Te=function(e,t){var n=this;ah(this);var r="/users/"+encodeURIComponent(e.email),i=vg(e);i.$a._method="DELETE",this.qc(r,i,function(e,r){!e&&r&&r.uid&&n.mb&&n.mb.uid&&n.mb.uid===r.uid&&Zg(n),P(t,e)})},g.pe=function(e,t){ah(this);var n="/users/"+encodeURIComponent(e.email)+"/password",r=vg(e);r.$a._method="PUT",r.$a.password=e.newPassword,this.qc(n,r,function(e){P(t,e)})},g.oe=function(e,t){ah(this);var n="/users/"+encodeURIComponent(e.oldEmail)+"/email",r=vg(e);r.$a._method="PUT",r.$a.email=e.newEmail,r.$a.password=e.password,this.qc(n,r,function(e){P(t,e)})},g.Ve=function(e,t){ah(this);var n="/users/"+encodeURIComponent(e.email)+"/password",r=vg(e);r.$a._method="POST",this.qc(n,r,function(e){P(t,e)})},g.qc=function(e,t,n){dh(this,[Og,Qg],e,t,n)},g.Ae=function(e){return K("auth_status"===e,'initial event must be of type "auth_status"'),this.Se?null:[this.mb]};var Cc="websocket",Dc="long_polling",ih,jh;hh.prototype.open=function(e,t){this.hf=0,this.la=t,this.Af=new eh(e),this.zb=!1;var n=this;this.qb=setTimeout(function(){n.f("Timed out trying to connect."),n.gb(),n.qb=null},Math.floor(3e4)),Rc(function(){if(!n.zb){n.Sa=new kh(function(e,t,r,i,o){if(lh(n,arguments),n.Sa)if(n.qb&&(clearTimeout(n.qb),n.qb=null),n.Hc=!0,"start"==e)n.id=t,n.Gf=r;else{if("close"!==e)throw Error("Unrecognized command received: "+e);t?(n.Sa.Xd=!1,fh(n.Af,t,function(){n.gb()})):n.gb()}},function(e,t){lh(n,arguments),gh(n.Af,e,t)},function(){n.gb()},n.jd);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.Sa.he&&(e.cb=n.Sa.he),e.v="5",n.Qf&&(e.s=n.Qf),n.Bb&&(e.ls=n.Bb),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(e.r="f"),e=n.jd(e),n.f("Connecting via long-poll to "+e),mh(n.Sa,e,function(){})}})},hh.prototype.start=function(){var e=this.Sa,t=this.Gf;for(e.ug=this.id,e.vg=t,e.le=!0;nh(e););e=this.id,t=this.Gf,this.gc=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.gc.src=this.jd(n),this.gc.style.display="none",document.body.appendChild(this.gc)},hh.isAvailable=function(){return ih||!jh&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.Xg)&&!0},g=hh.prototype,g.Ed=function(){},g.dd=function(){this.zb=!0,this.Sa&&(this.Sa.close(),this.Sa=null),this.gc&&(document.body.removeChild(this.gc),this.gc=null),this.qb&&(clearTimeout(this.qb),this.qb=null)},g.gb=function(){this.zb||(this.f("Longpoll is closing itself"),this.dd(),this.la&&(this.la(this.Hc),this.la=null))},g.close=function(){this.zb||(this.f("Longpoll is being closed."),this.dd())},g.send=function(e){e=B(e),this.ob+=e.length,Ob(this.Ua,"bytes_sent",e.length),e=Ic(e),e=fb(e,!0),e=Vc(e,1840);for(var t=0;t<e.length;t++){var n=this.Sa;n.ad.push({Mg:this.hf,Ug:e.length,kf:e[t]}),n.le&&nh(n),this.hf++}},kh.prototype.close=function(){if(this.le=!1,this.Ea){this.Ea.eb.body.innerHTML="";var e=this;setTimeout(function(){null!==e.Ea&&(document.body.removeChild(e.Ea),e.Ea=null)},Math.floor(0))}var t=this.hb;t&&(this.hb=null,t())};var ph=null;"undefined"!=typeof MozWebSocket?ph=MozWebSocket:"undefined"!=typeof WebSocket&&(ph=WebSocket);var rh;qh.prototype.open=function(e,t){this.hb=t,this.zg=e,this.f("Websocket connecting to "+this.ef),this.Hc=!1,xc.set("previous_websocket_failure",!0);
try{this.ua=new ph(this.ef)}catch(n){this.f("Error instantiating WebSocket.");var r=n.message||n.data;return r&&this.f(r),void this.gb()}var i=this;this.ua.onopen=function(){i.f("Websocket connected."),i.Hc=!0},this.ua.onclose=function(){i.f("Websocket connection was disconnected."),i.ua=null,i.gb()},this.ua.onmessage=function(e){if(null!==i.ua)if(e=e.data,i.nb+=e.length,Ob(i.Ua,"bytes_received",e.length),sh(i),null!==i.frames)th(i,e);else{e:{if(K(null===i.frames,"We already have a frame buffer"),6>=e.length){var t=Number(e);if(!isNaN(t)){i.bf=t,i.frames=[],e=null;break e}}i.bf=1,i.frames=[]}null!==e&&th(i,e)}},this.ua.onerror=function(e){i.f("WebSocket error.  Closing connection."),(e=e.message||e.data)&&i.f(e),i.gb()}},qh.prototype.start=function(){},qh.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var t=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);t&&1<t.length&&4.4>parseFloat(t[1])&&(e=!0)}return!e&&null!==ph&&!rh},qh.responsesRequiredToBeHealthy=2,qh.healthyTimeout=3e4,g=qh.prototype,g.Ed=function(){xc.remove("previous_websocket_failure")},g.send=function(e){sh(this),e=B(e),this.ob+=e.length,Ob(this.Ua,"bytes_sent",e.length),e=Vc(e,16384),1<e.length&&this.ua.send(String(e.length));for(var t=0;t<e.length;t++)this.ua.send(e[t])},g.dd=function(){this.zb=!0,this.Kc&&(clearInterval(this.Kc),this.Kc=null),this.ua&&(this.ua.close(),this.ua=null)},g.gb=function(){this.zb||(this.f("WebSocket is closing itself"),this.dd(),this.hb&&(this.hb(this.Hc),this.hb=null))},g.close=function(){this.zb||(this.f("WebSocket is being closed"),this.dd())};var wh=[hh,qh];yh.prototype.Fa=function(e){Jh(this,{t:"d",d:e})},yh.prototype.Id=function(e){Gh(this),this.jc(e)},yh.prototype.close=function(){2!==this.Ta&&(this.f("Closing realtime connection."),this.Ta=2,Fh(this),this.la&&(this.la(),this.la=null))};var Lh=0,Nh=0;g=Kh.prototype,g.Fa=function(e,t,n){var r=++this.Lg;e={r:r,a:e,b:t},this.f(B(e)),K(this.oa,"sendRequest call when we're not connected not allowed."),this.Ia.Fa(e),n&&(this.Td[r]=n)},g.yf=function(e,t,n,r){var i=e.va(),o=e.path.toString();this.f("Listen called for "+o+" "+i),this.$[o]=this.$[o]||{},K(fe(e.n)||!S(e.n),"listen() called for non-default but complete query"),K(!this.$[o][i],"listen() called twice for same path/queryId."),e={H:r,xd:t,Ig:e,tag:n},this.$[o][i]=e,this.oa&&Oh(this,e)},g.M=function(e,t,n){this.Aa={ig:e,of:!1,zc:t,md:n},this.f("Authenticating using credential: "+e),Qh(this),(t=40==e.length)||(e=$c(e).Bc,t="object"==typeof e&&!0===w(e,"admin")),t&&(this.f("Admin auth credential detected.  Reducing max reconnect time."),this.Fd=3e4)},g.ge=function(e){delete this.Aa,this.oa&&this.Fa("unauth",{},function(t){e(t.s,t.d)})},g.Rf=function(e,t){var n=e.path.toString(),r=e.va();if(this.f("Unlisten called for "+n+" "+r),K(fe(e.n)||!S(e.n),"unlisten() called for non-default but complete query"),Ph(this,n,r)&&this.oa){var i=ee(e.n);this.f("Unlisten on "+n+" for "+r),n={p:n},t&&(n.q=i,n.t=t),this.Fa("n",n)}},g.Me=function(e,t,n){this.oa?Rh(this,"o",e,t,n):this.Vc.push({$c:e,action:"o",data:t,H:n})},g.Cf=function(e,t,n){this.oa?Rh(this,"om",e,t,n):this.Vc.push({$c:e,action:"om",data:t,H:n})},g.Jd=function(e,t){this.oa?Rh(this,"oc",e,null,t):this.Vc.push({$c:e,action:"oc",data:null,H:t})},g.put=function(e,t,n,r){Sh(this,"p",e,t,n,r)},g.zf=function(e,t,n,r){Sh(this,"m",e,t,n,r)},g.Ue=function(e){this.oa&&(e={c:e},this.f("reportStats",e),this.Fa("s",e,function(e){"ok"!==e.s&&this.f("reportStats","Error sending stats: "+e.d)}))},g.Id=function(e){if("r"in e){this.f("from server: "+B(e));var t=e.r,n=this.Td[t];n&&(delete this.Td[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&(t=e.a,n=e.b,this.f("handleServerMessage",t,n),"d"===t?this.Gb(n.p,n.d,!1,n.t):"m"===t?this.Gb(n.p,n.d,!0,n.t):"c"===t?Uh(this,n.p,n.q):"ac"===t?(e=n.s,t=n.d,n=this.Aa,delete this.Aa,n&&n.md&&n.md(e,t)):"sd"===t?this.We?this.We(n):"msg"in n&&"undefined"!=typeof console&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: ")):Nc("Unrecognized action received from server: "+B(t)+"\nAre you using the latest client?"))}},g.Wc=function(e,t){if(this.f("connection ready"),this.oa=!0,this.Lc=(new Date).getTime(),this.Oe({serverTimeOffset:e-(new Date).getTime()}),this.Bb=t,this.nf){var n={};n["sdk.js."+hb.replace(/\./g,"-")]=1,yg()&&(n["framework.cordova"]=1),this.Ue(n)}Vh(this),this.nf=!1,this.Uc(!0)},g.Cg=function(e){e&&!this.Ob&&this.Za===this.Fd&&(this.f("Window became visible.  Reducing delay."),this.Za=1e3,this.Ia||Mh(this,0)),this.Ob=e},g.Ag=function(e){e?(this.f("Browser went online."),this.Za=1e3,this.Ia||Mh(this,0)):(this.f("Browser went offline.  Killing connection."),this.Ia&&this.Ia.close())},g.Df=function(){this.f("data client disconnected"),this.oa=!1,this.Ia=null;for(var e=0;e<this.qa.length;e++){var t=this.qa[e];t&&"h"in t.Jf&&t.Jg&&(t.H&&t.H("disconnect"),delete this.qa[e],this.Yc--)}0===this.Yc&&(this.qa=[]),this.Td={},Xh(this)&&(this.Ob?this.Lc&&(3e4<(new Date).getTime()-this.Lc&&(this.Za=1e3),this.Lc=null):(this.f("Window isn't visible.  Delaying reconnect."),this.Za=this.Fd,this.Ge=(new Date).getTime()),e=Math.max(0,this.Za-((new Date).getTime()-this.Ge)),e*=Math.random(),this.f("Trying to reconnect in "+e+"ms"),Mh(this,e),this.Za=Math.min(this.Fd,1.3*this.Za)),this.Uc(!1)},g.yb=function(){this.Ee=!0,this.Ia?this.Ia.close():(this.sb&&(clearTimeout(this.sb),this.sb=null),this.oa&&this.Df())},g.rc=function(){this.Ee=!1,this.Za=1e3,this.Ia||Mh(this,0)};var V={og:function(){ih=rh=!0}};V.forceLongPolling=V.og,V.pg=function(){jh=!0},V.forceWebSockets=V.pg,V.Pg=function(e,t){e.k.Ra.We=t},V.setSecurityDebugCallback=V.Pg,V.Ye=function(e,t){e.k.Ye(t)},V.stats=V.Ye,V.Ze=function(e,t){e.k.Ze(t)},V.statsIncrementCounter=V.Ze,V.sd=function(e){return e.k.sd},V.dataUpdateCount=V.sd,V.sg=function(e,t){e.k.De=t},V.interceptServerData=V.sg,V.yg=function(e){new Ig(e)},V.onPopupOpen=V.yg,V.Ng=function(e){sg=e},V.setAuthenticationServer=V.Ng,Q.prototype.I=function(){return x("Firebase.DataSnapshot.val",0,0,arguments.length),this.A.I()},Q.prototype.val=Q.prototype.I,Q.prototype.mf=function(){return x("Firebase.DataSnapshot.exportVal",0,0,arguments.length),this.A.I(!0)},Q.prototype.exportVal=Q.prototype.mf,Q.prototype.ng=function(){return x("Firebase.DataSnapshot.exists",0,0,arguments.length),!this.A.e()},Q.prototype.exists=Q.prototype.ng,Q.prototype.u=function(e){x("Firebase.DataSnapshot.child",0,1,arguments.length),ga(e)&&(e=String(e)),ig("Firebase.DataSnapshot.child",e);var t=new L(e),n=this.W.u(t);return new Q(this.A.Q(t),n,N)},Q.prototype.child=Q.prototype.u,Q.prototype.Da=function(e){x("Firebase.DataSnapshot.hasChild",1,1,arguments.length),ig("Firebase.DataSnapshot.hasChild",e);var t=new L(e);return!this.A.Q(t).e()},Q.prototype.hasChild=Q.prototype.Da,Q.prototype.C=function(){return x("Firebase.DataSnapshot.getPriority",0,0,arguments.length),this.A.C().I()},Q.prototype.getPriority=Q.prototype.C,Q.prototype.forEach=function(e){if(x("Firebase.DataSnapshot.forEach",1,1,arguments.length),A("Firebase.DataSnapshot.forEach",1,e,!1),this.A.K())return!1;var t=this;return!!this.A.P(this.g,function(n,r){return e(new Q(r,t.W.u(n),N))})},Q.prototype.forEach=Q.prototype.forEach,Q.prototype.wd=function(){return x("Firebase.DataSnapshot.hasChildren",0,0,arguments.length),this.A.K()?!1:!this.A.e()},Q.prototype.hasChildren=Q.prototype.wd,Q.prototype.name=function(){return O("Firebase.DataSnapshot.name() being deprecated. Please use Firebase.DataSnapshot.key() instead."),x("Firebase.DataSnapshot.name",0,0,arguments.length),this.key()},Q.prototype.name=Q.prototype.name,Q.prototype.key=function(){return x("Firebase.DataSnapshot.key",0,0,arguments.length),this.W.key()},Q.prototype.key=Q.prototype.key,Q.prototype.Db=function(){return x("Firebase.DataSnapshot.numChildren",0,0,arguments.length),this.A.Db()},Q.prototype.numChildren=Q.prototype.Db,Q.prototype.Ib=function(){return x("Firebase.DataSnapshot.ref",0,0,arguments.length),this.W},Q.prototype.ref=Q.prototype.Ib,g=Yh.prototype,g.toString=function(){return(this.F.kb?"https://":"http://")+this.F.host},g.name=function(){return this.F.hc},g.Gb=function(e,t,n,r){this.sd++;var i=new L(e);t=this.De?this.De(e,t):t,e=[],r?n?(t=na(t,function(e){return M(e)}),e=Ff(this.L,i,t,r)):(t=M(t),e=Bf(this.L,i,t,r)):n?(r=na(t,function(e){return M(e)}),e=Af(this.L,i,r)):(r=M(t),e=xf(this.L,new Xb(bf,i,r))),r=i,0<e.length&&(r=bi(this,i)),Ab(this.da,r,e)},g.Uc=function(e){Zh(this,"connected",e),!1===e&&ci(this)},g.Oe=function(e){var t=this;Wc(e,function(e,n){Zh(t,n,e)})},g.Le=function(e){Zh(this,"authenticated",e)},g.Kb=function(e,t,n,r){this.f("set",{path:e.toString(),value:t,$g:n});var i=ai(this);t=M(t,n);var i=sc(t,i),o=this.Hd++,i=wf(this.L,e,i,o,!0);wb(this.da,i);var a=this;this.ba.put(e.toString(),t.I(!0),function(t,n){var i="ok"===t;i||O("set at "+e+" failed: "+t),i=zf(a.L,o,!i),Ab(a.da,e,i),di(r,t,n)}),i=ei(this,e),bi(this,i),Ab(this.da,i,[])},g.update=function(e,t,n){this.f("update",{path:e.toString(),value:t});var i=!0,o=ai(this),a={};if(r(t,function(e,t){i=!1;var n=M(e);a[t]=sc(n,o)}),i)Cb("update() called with empty data.  Don't do anything."),di(n,"ok");else{var s=this.Hd++,l=yf(this.L,e,a,s);wb(this.da,l);var u=this;this.ba.zf(e.toString(),t,function(t,r){var i="ok"===t;i||O("update at "+e+" failed: "+t);var i=zf(u.L,s,!i),o=e;0<i.length&&(o=bi(u,e)),Ab(u.da,o,i),di(n,t,r)}),t=ei(this,e),bi(this,t),Ab(this.da,e,[])}},g.Jd=function(e,t){var n=this;this.ba.Jd(e.toString(),function(r,i){"ok"===r&&rg(n.la,e),di(t,r,i)})},g.yb=function(){this.Ra&&this.Ra.yb()},g.rc=function(){this.Ra&&this.Ra.rc()},g.Ye=function(e){if("undefined"!=typeof console){e?(this.fd||(this.fd=new Lb(this.Ua)),e=this.fd.get()):e=this.Ua.get();var t,n=Ra(sa(e),function(e,t){return Math.max(t.length,e)},0);for(t in e){for(var r=e[t],i=t.length;n+2>i;i++)t+=" ";console.log(t+r)}}},g.Ze=function(e){Ob(this.Ua,e),this.Sg.Of[e]=!0},g.f=function(e){var t="";this.Ra&&(t=this.Ra.id+":"),Cb(t,arguments)},W.prototype.yb=function(){for(var e in this.oc)this.oc[e].yb()},W.prototype.rc=function(){for(var e in this.oc)this.oc[e].rc()},W.prototype.ve=function(){this.Sf=!0},ca(W),W.prototype.interrupt=W.prototype.yb,W.prototype.resume=W.prototype.rc,X.prototype.cancel=function(e){x("Firebase.onDisconnect().cancel",0,1,arguments.length),A("Firebase.onDisconnect().cancel",1,e,!0),this.bd.Jd(this.ra,e||null)},X.prototype.cancel=X.prototype.cancel,X.prototype.remove=function(e){x("Firebase.onDisconnect().remove",0,1,arguments.length),jg("Firebase.onDisconnect().remove",this.ra),A("Firebase.onDisconnect().remove",1,e,!0),fi(this.bd,this.ra,null,e)},X.prototype.remove=X.prototype.remove,X.prototype.set=function(e,t){x("Firebase.onDisconnect().set",1,2,arguments.length),jg("Firebase.onDisconnect().set",this.ra),bg("Firebase.onDisconnect().set",e,this.ra,!1),A("Firebase.onDisconnect().set",2,t,!0),fi(this.bd,this.ra,e,t)},X.prototype.set=X.prototype.set,X.prototype.Kb=function(e,t,n){x("Firebase.onDisconnect().setWithPriority",2,3,arguments.length),jg("Firebase.onDisconnect().setWithPriority",this.ra),bg("Firebase.onDisconnect().setWithPriority",e,this.ra,!1),fg("Firebase.onDisconnect().setWithPriority",2,t),A("Firebase.onDisconnect().setWithPriority",3,n,!0),gi(this.bd,this.ra,e,t,n)},X.prototype.setWithPriority=X.prototype.Kb,X.prototype.update=function(e,t){if(x("Firebase.onDisconnect().update",1,2,arguments.length),jg("Firebase.onDisconnect().update",this.ra),ea(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,O("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}eg("Firebase.onDisconnect().update",e,this.ra),A("Firebase.onDisconnect().update",2,t,!0),hi(this.bd,this.ra,e,t)},X.prototype.update=X.prototype.update,g=Y.prototype,g.Ib=function(){return x("Query.ref",0,0,arguments.length),new U(this.k,this.path)},g.Eb=function(e,t,n,r){x("Query.on",2,4,arguments.length),gg("Query.on",e,!1),A("Query.on",2,t,!1);var i=vi("Query.on",n,r);if("value"===e)ii(this.k,this,new id(t,i.cancel||null,i.Ma||null));else{var o={};o[e]=t,ii(this.k,this,new jd(o,i.cancel,i.Ma))}return t},g.ic=function(e,t,n){x("Query.off",0,3,arguments.length),gg("Query.off",e,!0),A("Query.off",2,t,!0),mb("Query.off",3,n);var r=null,i=null;"value"===e?r=new id(t||null,null,n||null):e&&(t&&(i={},i[e]=t),r=new jd(i,null,n||null)),i=this.k,r=".info"===E(this.path)?i.Cd.jb(this,r):i.L.jb(this,r),yb(i.da,this.path,r)},g.Dg=function(e,t){function n(a){o&&(o=!1,i.ic(e,n),t.call(r.Ma,a))}x("Query.once",2,4,arguments.length),gg("Query.once",e,!1),A("Query.once",2,t,!1);var r=vi("Query.once",arguments[2],arguments[3]),i=this,o=!0;this.Eb(e,n,function(t){i.ic(e,n),r.cancel&&r.cancel.call(r.Ma,t)})},g.He=function(e){if(O("Query.limit() being deprecated. Please use Query.limitToFirst() or Query.limitToLast() instead."),x("Query.limit",1,1,arguments.length),!ga(e)||Math.floor(e)!==e||0>=e)throw Error("Query.limit: First argument must be a positive integer.");if(this.n.ja)throw Error("Query.limit: Limit was already set (by another call to limit, limitToFirst, orlimitToLast.");var t=this.n.He(e);return ti(t),new Y(this.k,this.path,t,this.lc)},g.Ie=function(e){if(x("Query.limitToFirst",1,1,arguments.length),!ga(e)||Math.floor(e)!==e||0>=e)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.n.ja)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.n.Ie(e),this.lc)},g.Je=function(e){if(x("Query.limitToLast",1,1,arguments.length),!ga(e)||Math.floor(e)!==e||0>=e)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.n.ja)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.n.Je(e),this.lc)},g.Eg=function(e){if(x("Query.orderByChild",1,1,arguments.length),"$key"===e)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');ig("Query.orderByChild",e),ui(this,"Query.orderByChild");var t=new L(e);if(t.e())throw Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");return t=new Ud(t),t=de(this.n,t),si(t),new Y(this.k,this.path,t,!0)},g.Fg=function(){x("Query.orderByKey",0,0,arguments.length),ui(this,"Query.orderByKey");var e=de(this.n,Qd);return si(e),new Y(this.k,this.path,e,!0)},g.Gg=function(){x("Query.orderByPriority",0,0,arguments.length),ui(this,"Query.orderByPriority");var e=de(this.n,N);return si(e),new Y(this.k,this.path,e,!0)},g.Hg=function(){x("Query.orderByValue",0,0,arguments.length),ui(this,"Query.orderByValue");var e=de(this.n,$d);return si(e),new Y(this.k,this.path,e,!0)},g.$d=function(e,t){x("Query.startAt",0,2,arguments.length),bg("Query.startAt",e,this.path,!0),hg("Query.startAt",t);var r=this.n.$d(e,t);if(ti(r),si(r),this.n.ma)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return n(e)||(t=e=null),new Y(this.k,this.path,r,this.lc)},g.td=function(e,t){x("Query.endAt",0,2,arguments.length),bg("Query.endAt",e,this.path,!0),hg("Query.endAt",t);var n=this.n.td(e,t);if(ti(n),si(n),this.n.pa)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new Y(this.k,this.path,n,this.lc)},g.kg=function(e,t){if(x("Query.equalTo",1,2,arguments.length),bg("Query.equalTo",e,this.path,!1),hg("Query.equalTo",t),this.n.ma)throw Error("Query.equalTo: Starting point was already set (by another call to endAt or equalTo).");if(this.n.pa)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.$d(e,t).td(e,t)},g.toString=function(){x("Query.toString",0,0,arguments.length);for(var e=this.path,t="",n=e.Z;n<e.o.length;n++)""!==e.o[n]&&(t+="/"+encodeURIComponent(String(e.o[n])));return this.k.toString()+(t||"/")},g.va=function(){var e=Uc(ee(this.n));return"{}"===e?"default":e},Y.prototype.ref=Y.prototype.Ib,Y.prototype.on=Y.prototype.Eb,Y.prototype.off=Y.prototype.ic,Y.prototype.once=Y.prototype.Dg,Y.prototype.limit=Y.prototype.He,Y.prototype.limitToFirst=Y.prototype.Ie,Y.prototype.limitToLast=Y.prototype.Je,Y.prototype.orderByChild=Y.prototype.Eg,Y.prototype.orderByKey=Y.prototype.Fg,Y.prototype.orderByPriority=Y.prototype.Gg,Y.prototype.orderByValue=Y.prototype.Hg,Y.prototype.startAt=Y.prototype.$d,Y.prototype.endAt=Y.prototype.td,Y.prototype.equalTo=Y.prototype.kg,Y.prototype.toString=Y.prototype.toString;var Z={};Z.vc=Kh,Z.DataConnection=Z.vc,Kh.prototype.Rg=function(e,t){this.Fa("q",{p:e},t)},Z.vc.prototype.simpleListen=Z.vc.prototype.Rg,Kh.prototype.jg=function(e,t){this.Fa("echo",{d:e},t)},Z.vc.prototype.echo=Z.vc.prototype.jg,Kh.prototype.interrupt=Kh.prototype.yb,Z.Vf=yh,Z.RealTimeConnection=Z.Vf,yh.prototype.sendRequest=yh.prototype.Fa,yh.prototype.close=yh.prototype.close,Z.rg=function(e){var t=Kh.prototype.put;return Kh.prototype.put=function(r,i,o,a){n(a)&&(a=e()),t.call(this,r,i,o,a)},function(){Kh.prototype.put=t}},Z.hijackHash=Z.rg,Z.Uf=zc,Z.ConnectionTarget=Z.Uf,Z.va=function(e){return e.va()},Z.queryIdentifier=Z.va,Z.tg=function(e){return e.k.Ra.$},Z.listens=Z.tg,Z.ve=function(e){e.ve()},Z.forceRestClient=Z.ve,ma(U,Y);var wi=U,xi=["Firebase"],yi=aa;xi[0]in yi||!yi.execScript||yi.execScript("var "+xi[0]);for(var zi;xi.length&&(zi=xi.shift());)!xi.length&&n(wi)?yi[zi]=wi:yi=yi[zi]?yi[zi]:yi[zi]={};U.goOffline=function(){x("Firebase.goOffline",0,0,arguments.length),W.ub().yb()},U.goOnline=function(){x("Firebase.goOnline",0,0,arguments.length),W.ub().rc()},U.enableLogging=Lc,U.ServerValue={TIMESTAMP:{".sv":"timestamp"}},U.SDK_VERSION=hb,U.INTERNAL=V,U.Context=W,U.TEST_ACCESS=Z,U.prototype.name=function(){return O("Firebase.name() being deprecated. Please use Firebase.key() instead."),x("Firebase.name",0,0,arguments.length),this.key()},U.prototype.name=U.prototype.name,U.prototype.key=function(){return x("Firebase.key",0,0,arguments.length),this.path.e()?null:Ld(this.path)},U.prototype.key=U.prototype.key,U.prototype.u=function(e){if(x("Firebase.child",1,1,arguments.length),ga(e))e=String(e);else if(!(e instanceof L))if(null===E(this.path)){var t=e;t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ig("Firebase.child",t)}else ig("Firebase.child",e);return new U(this.k,this.path.u(e))},U.prototype.child=U.prototype.u,U.prototype.parent=function(){x("Firebase.parent",0,0,arguments.length);var e=this.path.parent();return null===e?null:new U(this.k,e)},U.prototype.parent=U.prototype.parent,U.prototype.root=function(){x("Firebase.ref",0,0,arguments.length);for(var e=this;null!==e.parent();)e=e.parent();return e},U.prototype.root=U.prototype.root,U.prototype.set=function(e,t){x("Firebase.set",1,2,arguments.length),jg("Firebase.set",this.path),bg("Firebase.set",e,this.path,!1),A("Firebase.set",2,t,!0),this.k.Kb(this.path,e,null,t||null)},U.prototype.set=U.prototype.set,U.prototype.update=function(e,t){if(x("Firebase.update",1,2,arguments.length),jg("Firebase.update",this.path),ea(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,O("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}eg("Firebase.update",e,this.path),A("Firebase.update",2,t,!0),this.k.update(this.path,e,t||null)},U.prototype.update=U.prototype.update,U.prototype.Kb=function(e,t,n){if(x("Firebase.setWithPriority",2,3,arguments.length),jg("Firebase.setWithPriority",this.path),bg("Firebase.setWithPriority",e,this.path,!1),fg("Firebase.setWithPriority",2,t),A("Firebase.setWithPriority",3,n,!0),".length"===this.key()||".keys"===this.key())throw"Firebase.setWithPriority failed: "+this.key()+" is a read-only object.";this.k.Kb(this.path,e,t,n||null)},U.prototype.setWithPriority=U.prototype.Kb,U.prototype.remove=function(e){x("Firebase.remove",0,1,arguments.length),jg("Firebase.remove",this.path),A("Firebase.remove",1,e,!0),this.set(null,e)},U.prototype.remove=U.prototype.remove,U.prototype.transaction=function(e,t,r){if(x("Firebase.transaction",1,3,arguments.length),jg("Firebase.transaction",this.path),A("Firebase.transaction",1,e,!1),A("Firebase.transaction",2,t,!0),n(r)&&"boolean"!=typeof r)throw Error(y("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.key()||".keys"===this.key())throw"Firebase.transaction failed: "+this.key()+" is a read-only object.";"undefined"==typeof r&&(r=!0),ji(this.k,this.path,e,t||null,r)},U.prototype.transaction=U.prototype.transaction,U.prototype.Og=function(e,t){x("Firebase.setPriority",1,2,arguments.length),jg("Firebase.setPriority",this.path),fg("Firebase.setPriority",1,e),A("Firebase.setPriority",2,t,!0),this.k.Kb(this.path.u(".priority"),e,null,t)},U.prototype.setPriority=U.prototype.Og,U.prototype.push=function(e,t){x("Firebase.push",0,2,arguments.length),jg("Firebase.push",this.path),bg("Firebase.push",e,this.path,!0),A("Firebase.push",2,t,!0);var n=$h(this.k),n=Fe(n),n=this.u(n);return"undefined"!=typeof e&&null!==e&&n.set(e,t),n},U.prototype.push=U.prototype.push,U.prototype.hb=function(){return jg("Firebase.onDisconnect",this.path),new X(this.k,this.path)},U.prototype.onDisconnect=U.prototype.hb,U.prototype.M=function(e,t,n){O("FirebaseRef.auth() being deprecated. Please use FirebaseRef.authWithCustomToken() instead."),x("Firebase.auth",1,3,arguments.length),kg("Firebase.auth",e),A("Firebase.auth",2,t,!0),A("Firebase.auth",3,t,!0),Yg(this.k.M,e,{},{remember:"none"},t,n)},U.prototype.auth=U.prototype.M,U.prototype.ge=function(e){x("Firebase.unauth",0,1,arguments.length),A("Firebase.unauth",1,e,!0),Zg(this.k.M,e)},U.prototype.unauth=U.prototype.ge,U.prototype.xe=function(){return x("Firebase.getAuth",0,0,arguments.length),this.k.M.xe()},U.prototype.getAuth=U.prototype.xe,U.prototype.xg=function(e,t){x("Firebase.onAuth",1,2,arguments.length),A("Firebase.onAuth",1,e,!1),mb("Firebase.onAuth",2,t),this.k.M.Eb("auth_status",e,t)},U.prototype.onAuth=U.prototype.xg,U.prototype.wg=function(e,t){x("Firebase.offAuth",1,2,arguments.length),A("Firebase.offAuth",1,e,!1),mb("Firebase.offAuth",2,t),this.k.M.ic("auth_status",e,t)},U.prototype.offAuth=U.prototype.wg,U.prototype.Zf=function(e,t,n){x("Firebase.authWithCustomToken",2,3,arguments.length),kg("Firebase.authWithCustomToken",e),A("Firebase.authWithCustomToken",2,t,!1),ng("Firebase.authWithCustomToken",3,n,!0),Yg(this.k.M,e,{},n||{},t)},U.prototype.authWithCustomToken=U.prototype.Zf,U.prototype.$f=function(e,t,n){x("Firebase.authWithOAuthPopup",2,3,arguments.length),mg("Firebase.authWithOAuthPopup",e),A("Firebase.authWithOAuthPopup",2,t,!1),ng("Firebase.authWithOAuthPopup",3,n,!0),ch(this.k.M,e,n,t)},U.prototype.authWithOAuthPopup=U.prototype.$f,U.prototype.ag=function(e,t,n){x("Firebase.authWithOAuthRedirect",2,3,arguments.length),mg("Firebase.authWithOAuthRedirect",e),A("Firebase.authWithOAuthRedirect",2,t,!1),ng("Firebase.authWithOAuthRedirect",3,n,!0);var r=this.k.M;ah(r);var i=[Kg],o=vg(n);"anonymous"===e||"firebase"===e?P(t,Mg("TRANSPORT_UNAVAILABLE")):(yc.set("redirect_client_options",o.od),bh(r,i,"/auth/"+e,o,t))},U.prototype.authWithOAuthRedirect=U.prototype.ag,U.prototype.bg=function(e,t,n,r){x("Firebase.authWithOAuthToken",3,4,arguments.length),mg("Firebase.authWithOAuthToken",e),A("Firebase.authWithOAuthToken",3,n,!1),ng("Firebase.authWithOAuthToken",4,r,!0),p(t)?(lg("Firebase.authWithOAuthToken",2,t),$g(this.k.M,e+"/token",{access_token:t},r,n)):(ng("Firebase.authWithOAuthToken",2,t,!1),$g(this.k.M,e+"/token",t,r,n))},U.prototype.authWithOAuthToken=U.prototype.bg,U.prototype.Yf=function(e,t){x("Firebase.authAnonymously",1,2,arguments.length),A("Firebase.authAnonymously",1,e,!1),ng("Firebase.authAnonymously",2,t,!0),$g(this.k.M,"anonymous",{},t,e)},U.prototype.authAnonymously=U.prototype.Yf,U.prototype.cg=function(e,t,n){x("Firebase.authWithPassword",2,3,arguments.length),ng("Firebase.authWithPassword",1,e,!1),og("Firebase.authWithPassword",e,"email"),og("Firebase.authWithPassword",e,"password"),A("Firebase.authWithPassword",2,t,!1),ng("Firebase.authWithPassword",3,n,!0),$g(this.k.M,"password",e,n,t)},U.prototype.authWithPassword=U.prototype.cg,U.prototype.se=function(e,t){x("Firebase.createUser",2,2,arguments.length),ng("Firebase.createUser",1,e,!1),og("Firebase.createUser",e,"email"),og("Firebase.createUser",e,"password"),A("Firebase.createUser",2,t,!1),this.k.M.se(e,t)},U.prototype.createUser=U.prototype.se,U.prototype.Te=function(e,t){x("Firebase.removeUser",2,2,arguments.length),ng("Firebase.removeUser",1,e,!1),og("Firebase.removeUser",e,"email"),og("Firebase.removeUser",e,"password"),A("Firebase.removeUser",2,t,!1),this.k.M.Te(e,t)},U.prototype.removeUser=U.prototype.Te,U.prototype.pe=function(e,t){x("Firebase.changePassword",2,2,arguments.length),ng("Firebase.changePassword",1,e,!1),og("Firebase.changePassword",e,"email"),og("Firebase.changePassword",e,"oldPassword"),og("Firebase.changePassword",e,"newPassword"),A("Firebase.changePassword",2,t,!1),this.k.M.pe(e,t)},U.prototype.changePassword=U.prototype.pe,U.prototype.oe=function(e,t){x("Firebase.changeEmail",2,2,arguments.length),ng("Firebase.changeEmail",1,e,!1),og("Firebase.changeEmail",e,"oldEmail"),og("Firebase.changeEmail",e,"newEmail"),og("Firebase.changeEmail",e,"password"),A("Firebase.changeEmail",2,t,!1),this.k.M.oe(e,t)},U.prototype.changeEmail=U.prototype.oe,U.prototype.Ve=function(e,t){x("Firebase.resetPassword",2,2,arguments.length),ng("Firebase.resetPassword",1,e,!1),og("Firebase.resetPassword",e,"email"),A("Firebase.resetPassword",2,t,!1),this.k.M.Ve(e,t)},U.prototype.resetPassword=U.prototype.Ve}(),function(e){"use strict";angular.module("firebase",[]).value("Firebase",e.Firebase)}(window),function(){"use strict";angular.module("firebase").factory("$firebaseArray",["$log","$firebaseUtils","$q",function(e,t,n){function r(e){if(!(this instanceof r))return new r(e);var n=this;return this._observers=[],this.$list=[],this._ref=e,this._sync=new i(this),t.assertValidRef(e,"Must pass a valid Firebase reference to $firebaseArray (not a string or URL)"),this._indexCache={},t.getPublicMethods(n,function(e,t){n.$list[t]=e.bind(n)}),this._sync.init(this.$list),this.$list}function i(r){function i(e){if(!v.isDestroyed){v.isDestroyed=!0;var t=r.$ref();t.off("child_added",u),t.off("child_moved",d),t.off("child_changed",c),t.off("child_removed",h),r=null,m(e||"destroyed")}}function o(t){var n=r.$ref();n.on("child_added",u,g),n.on("child_moved",d,g),n.on("child_changed",c,g),n.on("child_removed",h,g),n.once("value",function(n){angular.isArray(n.val())&&e.warn("Storing data using array indices in Firebase can result in unexpected behavior. See https://www.firebase.com/docs/web/guide/understanding-data.html#section-arrays-in-firebase for more information."),m(null,t)},m)}function a(e,t){f||(f=!0,e?l.reject(e):l.resolve(t))}function s(e,t){var r=n.when(e);r.then(function(e){e&&t(e)}),f||p.push(r)}var l=t.defer(),u=function(e,t){s(r.$$added(e,t),function(e){r.$$process("child_added",e,t)})},c=function(e){var n=r.$getRecord(t.getKey(e));n&&s(r.$$updated(e),function(){r.$$process("child_changed",n)})},d=function(e,n){var i=r.$getRecord(t.getKey(e));i&&s(r.$$moved(e,n),function(){r.$$process("child_moved",i,n)})},h=function(e){var n=r.$getRecord(t.getKey(e));n&&s(r.$$removed(e),function(){r.$$process("child_removed",n)})},p=[],f=!1,g=t.batch(function(e){a(e),r&&r.$$error(e)}),m=t.batch(a),v={destroy:i,isDestroyed:!1,init:o,ready:function(){return l.promise.then(function(e){return n.all(p).then(function(){return e})})}};return v}return r.prototype={$add:function(e){this._assertNotDestroyed("$add");var n=t.defer(),r=this.$ref().ref().push();return r.set(t.toJSON(e),t.makeNodeResolver(n)),n.promise.then(function(){return r})},$save:function(e){this._assertNotDestroyed("$save");var n=this,r=n._resolveItem(e),i=n.$keyAt(r);if(null!==i){var o=n.$ref().ref().child(i),a=t.toJSON(r);return t.doSet(o,a).then(function(){return n.$$notify("child_changed",i),o})}return t.reject("Invalid record; could determine key for "+e)},$remove:function(e){this._assertNotDestroyed("$remove");var n=this.$keyAt(e);if(null!==n){var r=this.$ref().ref().child(n);return t.doRemove(r).then(function(){return r})}return t.reject("Invalid record; could not determine key for "+e)},$keyAt:function(e){var t=this._resolveItem(e);return this.$$getKey(t)},$indexFor:function(e){var t=this,n=t._indexCache;if(!n.hasOwnProperty(e)||t.$keyAt(n[e])!==e){var r=t.$list.findIndex(function(n){return t.$$getKey(n)===e});-1!==r&&(n[e]=r)}return n.hasOwnProperty(e)?n[e]:-1},$loaded:function(e,t){var n=this._sync.ready();return arguments.length&&(n=n.then.call(n,e,t)),n},$ref:function(){return this._ref},$watch:function(e,t){var n=this._observers;return n.push([e,t]),function(){var r=n.findIndex(function(n){return n[0]===e&&n[1]===t});r>-1&&n.splice(r,1)}},$destroy:function(e){this._isDestroyed||(this._isDestroyed=!0,this._sync.destroy(e),this.$list.length=0)},$getRecord:function(e){var t=this.$indexFor(e);return t>-1?this.$list[t]:null},$$added:function(e){var n=this.$indexFor(t.getKey(e));if(-1===n){var r=e.val();return angular.isObject(r)||(r={$value:r}),r.$id=t.getKey(e),r.$priority=e.getPriority(),t.applyDefaults(r,this.$$defaults),r}return!1},$$removed:function(e){return this.$indexFor(t.getKey(e))>-1},$$updated:function(e){var n=!1,r=this.$getRecord(t.getKey(e));return angular.isObject(r)&&(n=t.updateRec(r,e),t.applyDefaults(r,this.$$defaults)),n},$$moved:function(e){var n=this.$getRecord(t.getKey(e));return angular.isObject(n)?(n.$priority=e.getPriority(),!0):!1},$$error:function(t){e.error(t),this.$destroy(t)},$$getKey:function(e){return angular.isObject(e)?e.$id:null},$$process:function(e,t,n){var r,i=this.$$getKey(t),o=!1;switch(e){case"child_added":r=this.$indexFor(i);break;case"child_moved":r=this.$indexFor(i),this._spliceOut(i);break;case"child_removed":o=null!==this._spliceOut(i);break;case"child_changed":o=!0;break;default:throw new Error("Invalid event type: "+e)}return angular.isDefined(r)&&(o=this._addAfter(t,n)!==r),o&&this.$$notify(e,i,n),o},$$notify:function(e,t,n){var r={event:e,key:t};angular.isDefined(n)&&(r.prevChild=n),angular.forEach(this._observers,function(e){e[0].call(e[1],r)})},_addAfter:function(e,t){var n;return null===t?n=0:(n=this.$indexFor(t)+1,0===n&&(n=this.$list.length)),this.$list.splice(n,0,e),this._indexCache[this.$$getKey(e)]=n,n},_spliceOut:function(e){var t=this.$indexFor(e);return t>-1?(delete this._indexCache[e],this.$list.splice(t,1)[0]):null},_resolveItem:function(e){var t=this.$list;if(angular.isNumber(e)&&e>=0&&t.length>=e)return t[e];if(angular.isObject(e)){var n=this.$$getKey(e),r=this.$getRecord(n);return r===e?r:null}return null},_assertNotDestroyed:function(e){if(this._isDestroyed)throw new Error("Cannot call "+e+" method on a destroyed $firebaseArray object")}},r.$extend=function(e,n){return 1===arguments.length&&angular.isObject(e)&&(n=e,e=function(t){return this instanceof e?(r.apply(this,arguments),this.$list):new e(t)}),t.inherit(e,r,n)},r}]),angular.module("firebase").factory("$FirebaseArray",["$log","$firebaseArray",function(e,t){return function(){return e.warn("$FirebaseArray has been renamed. Use $firebaseArray instead."),t.apply(null,arguments)}}])}(),function(){"use strict";var e;angular.module("firebase").factory("$firebaseAuth",["$q","$firebaseUtils",function(t,n){return function(r){var i=new e(t,n,r);return i.construct()}}]),e=function(e,t,n){if(this._q=e,this._utils=t,"string"==typeof n)throw new Error("Please provide a Firebase reference instead of a URL when creating a `$firebaseAuth` object.");
this._ref=n,this._initialAuthResolver=this._initAuthResolver()},e.prototype={construct:function(){return this._object={$authWithCustomToken:this.authWithCustomToken.bind(this),$authAnonymously:this.authAnonymously.bind(this),$authWithPassword:this.authWithPassword.bind(this),$authWithOAuthPopup:this.authWithOAuthPopup.bind(this),$authWithOAuthRedirect:this.authWithOAuthRedirect.bind(this),$authWithOAuthToken:this.authWithOAuthToken.bind(this),$unauth:this.unauth.bind(this),$onAuth:this.onAuth.bind(this),$getAuth:this.getAuth.bind(this),$requireAuth:this.requireAuth.bind(this),$waitForAuth:this.waitForAuth.bind(this),$createUser:this.createUser.bind(this),$changePassword:this.changePassword.bind(this),$changeEmail:this.changeEmail.bind(this),$removeUser:this.removeUser.bind(this),$resetPassword:this.resetPassword.bind(this)},this._object},authWithCustomToken:function(e,t){var n=this._q.defer();try{this._ref.authWithCustomToken(e,this._utils.makeNodeResolver(n),t)}catch(r){n.reject(r)}return n.promise},authAnonymously:function(e){var t=this._q.defer();try{this._ref.authAnonymously(this._utils.makeNodeResolver(t),e)}catch(n){t.reject(n)}return t.promise},authWithPassword:function(e,t){var n=this._q.defer();try{this._ref.authWithPassword(e,this._utils.makeNodeResolver(n),t)}catch(r){n.reject(r)}return n.promise},authWithOAuthPopup:function(e,t){var n=this._q.defer();try{this._ref.authWithOAuthPopup(e,this._utils.makeNodeResolver(n),t)}catch(r){n.reject(r)}return n.promise},authWithOAuthRedirect:function(e,t){var n=this._q.defer();try{this._ref.authWithOAuthRedirect(e,this._utils.makeNodeResolver(n),t)}catch(r){n.reject(r)}return n.promise},authWithOAuthToken:function(e,t,n){var r=this._q.defer();try{this._ref.authWithOAuthToken(e,t,this._utils.makeNodeResolver(r),n)}catch(i){r.reject(i)}return r.promise},unauth:function(){null!==this.getAuth()&&this._ref.unauth()},onAuth:function(e,t){var n=this,r=this._utils.debounce(e,t,0);return this._ref.onAuth(r),function(){n._ref.offAuth(r)}},getAuth:function(){return this._ref.getAuth()},_routerMethodOnAuthPromise:function(e){var t=this._ref,n=this._utils;return this._initialAuthResolver.then(function(){var r=t.getAuth(),i=null;return i=e&&null===r?n.reject("AUTH_REQUIRED"):n.resolve(r)})},_initAuthResolver:function(){var e=this._ref;return this._utils.promise(function(t){function n(){e.offAuth(n),t()}e.onAuth(n)})},requireAuth:function(){return this._routerMethodOnAuthPromise(!0)},waitForAuth:function(){return this._routerMethodOnAuthPromise(!1)},createUser:function(e){var t=this._q.defer();if("string"==typeof e)throw new Error("$createUser() expects an object containing 'email' and 'password', but got a string.");try{this._ref.createUser(e,this._utils.makeNodeResolver(t))}catch(n){t.reject(n)}return t.promise},changePassword:function(e){var t=this._q.defer();if("string"==typeof e)throw new Error("$changePassword() expects an object containing 'email', 'oldPassword', and 'newPassword', but got a string.");try{this._ref.changePassword(e,this._utils.makeNodeResolver(t))}catch(n){t.reject(n)}return t.promise},changeEmail:function(e){var t=this._q.defer();if("function"!=typeof this._ref.changeEmail)throw new Error("$firebaseAuth.$changeEmail() requires Firebase version 2.1.0 or greater.");if("string"==typeof e)throw new Error("$changeEmail() expects an object containing 'oldEmail', 'newEmail', and 'password', but got a string.");try{this._ref.changeEmail(e,this._utils.makeNodeResolver(t))}catch(n){t.reject(n)}return t.promise},removeUser:function(e){var t=this._q.defer();if("string"==typeof e)throw new Error("$removeUser() expects an object containing 'email' and 'password', but got a string.");try{this._ref.removeUser(e,this._utils.makeNodeResolver(t))}catch(n){t.reject(n)}return t.promise},resetPassword:function(e){var t=this._q.defer();if("string"==typeof e)throw new Error("$resetPassword() expects an object containing 'email', but got a string.");try{this._ref.resetPassword(e,this._utils.makeNodeResolver(t))}catch(n){t.reject(n)}return t.promise}}}(),function(){"use strict";angular.module("firebase").factory("$firebaseObject",["$parse","$firebaseUtils","$log",function(e,t,n){function r(e){return this instanceof r?(this.$$conf={sync:new o(this,e),ref:e,binding:new i(this),listeners:[]},Object.defineProperty(this,"$$conf",{value:this.$$conf}),this.$id=t.getKey(e.ref()),this.$priority=null,t.applyDefaults(this,this.$$defaults),void this.$$conf.sync.init()):new r(e)}function i(e){this.subs=[],this.scope=null,this.key=null,this.rec=e}function o(e,r){function i(t){h.isDestroyed||(h.isDestroyed=!0,r.off("value",u),e=null,d(t||"destroyed"))}function o(){r.on("value",u,c),r.once("value",function(e){angular.isArray(e.val())&&n.warn("Storing data using array indices in Firebase can result in unexpected behavior. See https://www.firebase.com/docs/web/guide/understanding-data.html#section-arrays-in-firebase for more information. Also note that you probably wanted $firebaseArray and not $firebaseObject."),d(null)},d)}function a(t){s||(s=!0,t?l.reject(t):l.resolve(e))}var s=!1,l=t.defer(),u=t.batch(function(t){var n=e.$$updated(t);n&&e.$$notify()}),c=t.batch(function(t){a(t),e&&e.$$error(t)}),d=t.batch(a),h={isDestroyed:!1,destroy:i,init:o,ready:function(){return l.promise}};return h}return r.prototype={$save:function(){var e=this,n=e.$ref(),r=t.toJSON(e);return t.doSet(n,r).then(function(){return e.$$notify(),e.$ref()})},$remove:function(){var e=this;return t.trimKeys(e,{}),e.$value=null,t.doRemove(e.$ref()).then(function(){return e.$$notify(),e.$ref()})},$loaded:function(e,t){var n=this.$$conf.sync.ready();return arguments.length&&(n=n.then.call(n,e,t)),n},$ref:function(){return this.$$conf.ref},$bindTo:function(e,t){var n=this;return n.$loaded().then(function(){return n.$$conf.binding.bindTo(e,t)})},$watch:function(e,t){var n=this.$$conf.listeners;return n.push([e,t]),function(){var r=n.findIndex(function(n){return n[0]===e&&n[1]===t});r>-1&&n.splice(r,1)}},$destroy:function(e){var n=this;n.$isDestroyed||(n.$isDestroyed=!0,n.$$conf.sync.destroy(e),n.$$conf.binding.destroy(),t.each(n,function(e,t){delete n[t]}))},$$updated:function(e){var n=t.updateRec(this,e);return t.applyDefaults(this,this.$$defaults),n},$$error:function(e){n.error(e),this.$destroy(e)},$$scopeUpdated:function(e){var n=t.defer();return this.$ref().set(t.toJSON(e),t.makeNodeResolver(n)),n.promise},$$notify:function(){var e=this,t=this.$$conf.listeners.slice();angular.forEach(t,function(t){t[0].call(t[1],{event:"value",key:e.$id})})},forEach:function(e,n){return t.each(this,e,n)}},r.$extend=function(e,n){return 1===arguments.length&&angular.isObject(e)&&(n=e,e=function(t){return this instanceof e?void r.apply(this,arguments):new e(t)}),t.inherit(e,r,n)},i.prototype={assertNotBound:function(e){if(this.scope){var r="Cannot bind to "+e+" because this instance is already bound to "+this.key+"; one binding per instance (call unbind method or create another FirebaseObject instance)";return n.error(r),t.reject(r)}},bindTo:function(n,r){function i(i){function o(e){return angular.equals(e,c)&&e.$priority===c.$priority&&e.$value===c.$value}function a(e){u.assign(n,t.scopeData(e))}function s(){var e=u(n);return[e,e.$priority,e.$value]}var l=!1,u=e(r),c=i.rec;i.scope=n,i.varName=r;var d=t.debounce(function(e){var r=t.scopeData(e);c.$$scopeUpdated(r)["finally"](function(){l=!1,r.hasOwnProperty("$value")||(delete c.$value,delete u(n).$value)})},50,500),h=function(e){e=e[0],o(e)||(l=!0,d(e))},p=function(){l||o(u(n))||a(c)};return a(c),i.subs.push(n.$on("$destroy",i.unbind.bind(i))),i.subs.push(n.$watch(s,h,!0)),i.subs.push(c.$watch(p)),i.unbind.bind(i)}return this.assertNotBound(r)||i(this)},unbind:function(){this.scope&&(angular.forEach(this.subs,function(e){e()}),this.subs=[],this.scope=null,this.key=null)},destroy:function(){this.unbind(),this.rec=null}},r}]),angular.module("firebase").factory("$FirebaseObject",["$log","$firebaseObject",function(e,t){return function(){return e.warn("$FirebaseObject has been renamed. Use $firebaseObject instead."),t.apply(null,arguments)}}])}(),function(){"use strict";angular.module("firebase").factory("$firebase",function(){return function(){throw new Error("$firebase has been removed. You may instantiate $firebaseArray and $firebaseObject directly now. For simple write operations, just use the Firebase ref directly. See the AngularFire 1.0.0 changelog for details: https://www.firebase.com/docs/web/libraries/angular/changelog.html")}})}(),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){if(void 0===this||null===this)throw new TypeError("'this' is null or not defined");var n=this.length>>>0;for(t=+t||0,Math.abs(t)===1/0&&(t=0),0>t&&(t+=n,0>t&&(t=0));n>t;t++)if(this[t]===e)return t;return-1}),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),r=n.length>>>0,i=arguments[1],o=0;r>o;o++)if(o in n&&(t=n[o],e.call(i,t,o,n)))return o;return-1}}),"function"!=typeof Object.create&&!function(){var e=function(){};Object.create=function(t){if(arguments.length>1)throw new Error("Second argument not supported");if(null===t)throw new Error("Cannot set a null [[Prototype]]");if("object"!=typeof t)throw new TypeError("Argument must be an object");return e.prototype=t,new e}}(),Object.keys||(Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if("object"!=typeof i&&("function"!=typeof i||null===i))throw new TypeError("Object.keys called on non-object");var o,a,s=[];for(o in i)e.call(i,o)&&s.push(o);if(t)for(a=0;r>a;a++)e.call(i,n[a])&&s.push(n[a]);return s}}()),"function"!=typeof Object.getPrototypeOf&&("object"==typeof"test".__proto__?Object.getPrototypeOf=function(e){return e.__proto__}:Object.getPrototypeOf=function(e){return e.constructor.prototype}),function(){"use strict";function e(t){if(!angular.isObject(t))return t;var n=angular.isArray(t)?[]:{};return angular.forEach(t,function(t,r){("string"!=typeof r||"$"!==r.charAt(0))&&(n[r]=e(t))}),n}angular.module("firebase").factory("$firebaseConfig",["$firebaseArray","$firebaseObject","$injector",function(e,t,n){return function(r){var i=angular.extend({},r);return"string"==typeof i.objectFactory&&(i.objectFactory=n.get(i.objectFactory)),"string"==typeof i.arrayFactory&&(i.arrayFactory=n.get(i.arrayFactory)),angular.extend({arrayFactory:e,objectFactory:t},i)}}]).factory("$firebaseUtils",["$q","$timeout","$rootScope",function(t,n,r){function i(e){function n(e){i.resolve(e)}function r(e){i.reject(e)}if(!angular.isFunction(e))throw new Error("missing resolver function");var i=t.defer();return e(n,r),i.promise}var o={batch:function(e,t){return function(){var n=Array.prototype.slice.call(arguments,0);o.compile(function(){e.apply(t,n)})}},debounce:function(e,t,n,r){function i(){u&&(u(),u=null),l&&Date.now()-l>r?d||(d=!0,o.compile(a)):(l||(l=Date.now()),u=o.wait(a,n))}function a(){u=null,l=null,d=!1,e.apply(t,c)}function s(){c=Array.prototype.slice.call(arguments,0),i()}var l,u,c,d;if("number"==typeof t&&(r=n,n=t,t=null),"number"!=typeof n)throw new Error("Must provide a valid integer for wait. Try 0 for a default");if("function"!=typeof e)throw new Error("Must provide a valid function to debounce");return r||(r=10*n||100),s.running=function(){return l>0},s},assertValidRef:function(e,t){if(!angular.isObject(e)||"function"!=typeof e.ref||"function"!=typeof e.ref().transaction)throw new Error(t||"Invalid Firebase reference")},inherit:function(e,t,n){var r=e.prototype;return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,angular.forEach(Object.keys(r),function(t){e.prototype[t]=r[t]}),angular.isObject(n)&&angular.extend(e.prototype,n),e},getPrototypeMethods:function(e,t,n){for(var r={},i=Object.getPrototypeOf({}),o=angular.isFunction(e)&&angular.isObject(e.prototype)?e.prototype:Object.getPrototypeOf(e);o&&o!==i;){for(var a in o)o.hasOwnProperty(a)&&!r.hasOwnProperty(a)&&(r[a]=!0,t.call(n,o[a],a,o));o=Object.getPrototypeOf(o)}},getPublicMethods:function(e,t,n){o.getPrototypeMethods(e,function(e,r){"function"==typeof e&&"_"!==r.charAt(0)&&t.call(n,e,r)})},defer:t.defer,reject:t.reject,resolve:t.when,promise:angular.isFunction(t)?t:i,makeNodeResolver:function(e){return function(t,n){null===t?(arguments.length>2&&(n=Array.prototype.slice.call(arguments,1)),e.resolve(n)):e.reject(t)}},wait:function(e,t){var r=n(e,t||0);return function(){r&&(n.cancel(r),r=null)}},compile:function(e){return r.$evalAsync(e||function(){})},deepCopy:function(e){if(!angular.isObject(e))return e;var t=angular.isArray(e)?e.slice():angular.extend({},e);for(var n in t)t.hasOwnProperty(n)&&angular.isObject(t[n])&&(t[n]=o.deepCopy(t[n]));return t},trimKeys:function(e,t){o.each(e,function(n,r){t.hasOwnProperty(r)||delete e[r]})},scopeData:function(e){var t={$id:e.$id,$priority:e.$priority},n=!1;return o.each(e,function(e,r){n=!0,t[r]=o.deepCopy(e)}),!n&&e.hasOwnProperty("$value")&&(t.$value=e.$value),t},updateRec:function(e,t){var n=t.val(),r=angular.extend({},e);return angular.isObject(n)?delete e.$value:(e.$value=n,n={}),o.trimKeys(e,n),angular.extend(e,n),e.$priority=t.getPriority(),!angular.equals(r,e)||r.$value!==e.$value||r.$priority!==e.$priority},applyDefaults:function(e,t){return angular.isObject(t)&&angular.forEach(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)}),e},dataKeys:function(e){var t=[];return o.each(e,function(e,n){t.push(n)}),t},each:function(e,t,n){if(angular.isObject(e)){for(var r in e)if(e.hasOwnProperty(r)){var i=r.charAt(0);"_"!==i&&"$"!==i&&"."!==i&&t.call(n,e[r],r,e)}}else if(angular.isArray(e))for(var o=0,a=e.length;a>o;o++)t.call(n,e[o],o,e);return e},getKey:function(e){return"function"==typeof e.key?e.key():e.name()},toJSON:function(t){var n;return angular.isObject(t)||(t={$value:t}),angular.isFunction(t.toJSON)?n=t.toJSON():(n={},o.each(t,function(t,r){n[r]=e(t)})),angular.isDefined(t.$value)&&0===Object.keys(n).length&&null!==t.$value&&(n[".value"]=t.$value),angular.isDefined(t.$priority)&&Object.keys(n).length>0&&null!==t.$priority&&(n[".priority"]=t.$priority),angular.forEach(n,function(e,t){if(t.match(/[.$\[\]#\/]/)&&".value"!==t&&".priority"!==t)throw new Error("Invalid key "+t+" (cannot contain .$[]#)");if(angular.isUndefined(e))throw new Error("Key "+t+" was undefined. Cannot pass undefined in JSON. Use null instead.")}),n},doSet:function(e,t){var n=o.defer();if(angular.isFunction(e.set)||!angular.isObject(t))e.set(t,o.makeNodeResolver(n));else{var r=angular.extend({},t);e.once("value",function(t){t.forEach(function(e){r.hasOwnProperty(o.getKey(e))||(r[o.getKey(e)]=null)}),e.ref().update(r,o.makeNodeResolver(n))},function(e){n.reject(e)})}return n.promise},doRemove:function(e){var t=o.defer();return angular.isFunction(e.remove)?e.remove(o.makeNodeResolver(t)):e.once("value",function(n){var r=[];n.forEach(function(e){var n=o.defer();r.push(n.promise),e.ref().remove(o.makeNodeResolver(t))}),o.allPromises(r).then(function(){t.resolve(e)},function(e){t.reject(e)})},function(e){t.reject(e)}),t.promise},VERSION:"1.1.3",allPromises:t.all.bind(t)};return o}])}(),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;e(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||e(r).trigger(e.support.transition.end)};return setTimeout(i,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new r(this)),"string"==typeof t&&i[t].call(n)})}var n='[data-dismiss="alert"]',r=function(t){e(t).on("click",n,this.close)};r.VERSION="3.3.5",r.TRANSITION_DURATION=150,r.prototype.close=function(t){function n(){a.detach().trigger("closed.bs.alert").remove()}var i=e(this),o=i.attr("data-target");o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var a=e(o);t&&t.preventDefault(),a.length||(a=i.closest(".alert")),a.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(r.TRANSITION_DURATION):n())};var i=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=r,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",n,r.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.button"),o="object"==typeof t&&t;i||r.data("bs.button",i=new n(this,o)),"toggle"==t?i.toggle():t&&i.setState(t)})}var n=function(t,r){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,r),this.isLoading=!1};n.VERSION="3.3.5",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",o=r.data();t+="Text",null==o.resetText&&r.data("resetText",r[i]()),setTimeout(e.proxy(function(){r[i](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,r.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),e&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var r=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=r,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var r=e(n.target);r.hasClass("btn")||(r=r.closest(".btn")),t.call(r,"toggle"),e(n.target).is('input[type="radio"]')||e(n.target).is('input[type="checkbox"]')||n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.carousel"),o=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t),a="string"==typeof t?t:o.slide;i||r.data("bs.carousel",i=new n(this,o)),"number"==typeof t?i.to(t):a?i[a]():o.interval&&i.pause().cycle()})}var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.3.5",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t),r="prev"==e&&0===n||"next"==e&&n==this.$items.length-1;if(r&&!this.options.wrap)return t;var i="prev"==e?-1:1,o=(n+i)%this.$items.length;return this.$items.eq(o)},n.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(t,r){var i=this.$element.find(".item.active"),o=r||this.getItemForDirection(t,i),a=this.interval,s="next"==t?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var u=o[0],c=e.Event("slide.bs.carousel",{relatedTarget:u,direction:s});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=e(this.$indicators.children()[this.getItemIndex(o)]);d&&d.addClass("active")}var h=e.Event("slid.bs.carousel",{relatedTarget:u,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(o.addClass(t),o[0].offsetWidth,i.addClass(s),o.addClass(s),i.one("bsTransitionEnd",function(){o.removeClass([t,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(h)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(h)),a&&this.cycle(),this}};var r=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=r,this};var i=function(n){var r,i=e(this),o=e(i.attr("data-target")||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var a=e.extend({},o.data(),i.data()),s=i.attr("data-slide-to");s&&(a.interval=!1),t.call(o,a),s&&o.data("bs.carousel").to(s),n.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",i).on("click.bs.carousel.data-api","[data-slide-to]",i),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),+function(e){"use strict";function t(t){var n,r=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(r)}function n(t){return this.each(function(){var n=e(this),i=n.data("bs.collapse"),o=e.extend({},r.DEFAULTS,n.data(),"object"==typeof t&&t);!i&&o.toggle&&/show|hide/.test(t)&&(o.toggle=!1),i||n.data("bs.collapse",i=new r(this,o)),"string"==typeof t&&i[t]()})}var r=function(t,n){this.$element=e(t),this.options=e.extend({},r.DEFAULTS,n),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};r.VERSION="3.3.5",r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0},r.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(i&&i.length&&(t=i.data("bs.collapse"),t&&t.transitioning))){var o=e.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){i&&i.length&&(n.call(i,"hide"),t||i.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var l=e.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(r.TRANSITION_DURATION)[a](this.$element[0][l])}}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(i,this)).emulateTransitionEnd(r.TRANSITION_DURATION):i.call(this)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},r.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(n,r){var i=e(r);this.addAriaAndCollapsedClass(t(i),i)},this)).end()},r.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var i=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=r,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(r){var i=e(this);i.attr("data-target")||r.preventDefault();var o=t(i),a=o.data("bs.collapse"),s=a?"toggle":i.data();n.call(o,s)})}(jQuery),+function(e){"use strict";function t(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}function n(n){n&&3===n.which||(e(i).remove(),e(o).each(function(){var r=e(this),i=t(r),o={relatedTarget:this};i.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&e.contains(i[0],n.target)||(i.trigger(n=e.Event("hide.bs.dropdown",o)),n.isDefaultPrevented()||(r.attr("aria-expanded","false"),i.removeClass("open").trigger("hidden.bs.dropdown",o))))}))}function r(t){return this.each(function(){var n=e(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new a(this)),"string"==typeof t&&r[t].call(n)})}var i=".dropdown-backdrop",o='[data-toggle="dropdown"]',a=function(t){e(t).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.5",a.prototype.toggle=function(r){var i=e(this);if(!i.is(".disabled, :disabled")){var o=t(i),a=o.hasClass("open");if(n(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",n);var s={relatedTarget:this};if(o.trigger(r=e.Event("show.bs.dropdown",s)),r.isDefaultPrevented())return;i.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},a.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var r=e(this);if(n.preventDefault(),n.stopPropagation(),!r.is(".disabled, :disabled")){var i=t(r),a=i.hasClass("open");if(!a&&27!=n.which||a&&27==n.which)return 27==n.which&&i.find(o).trigger("focus"),r.trigger("click");var s=" li:not(.disabled):visible a",l=i.find(".dropdown-menu"+s);if(l.length){var u=l.index(n.target);38==n.which&&u>0&&u--,40==n.which&&u<l.length-1&&u++,~u||(u=0),l.eq(u).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=r,e.fn.dropdown.Constructor=a,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t,r){return this.each(function(){var i=e(this),o=i.data("bs.modal"),a=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);o||i.data("bs.modal",o=new n(this,a)),"string"==typeof t?o[t](r):a.show&&o.show(r)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.5",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var r=this,i=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var i=e.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.adjustDialog(),i&&r.$element[0].offsetWidth,r.$element.addClass("in"),r.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t});i?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):r.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){
this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var r=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&i;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;o?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){r.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()}else t&&t()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var r=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=r,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var r=e(this),i=r.attr("href"),o=e(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},o.data(),r.data());r.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),t.call(o,a,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tooltip"),o="object"==typeof t&&t;(i||!/destroy|hide/.test(t))&&(i||r.data("bs.tooltip",i=new n(this,o)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};n.VERSION="3.3.5",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,r){if(this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),o=i.length;o--;){var a=i[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,r){n[e]!=r&&(t[e]=r)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusin"==t.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusout"==t.type?"focus":"hover"]=!1),n.isInStateTrue()?void 0:(clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide())},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var r=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!r)return;var i=this,o=this.tip(),a=this.getUID(this.type);this.setContent(),o.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&o.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,u=l.test(s);u&&(s=s.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var c=this.getPosition(),d=o[0].offsetWidth,h=o[0].offsetHeight;if(u){var p=s,f=this.getPosition(this.$viewport);s="bottom"==s&&c.bottom+h>f.bottom?"top":"top"==s&&c.top-h<f.top?"bottom":"right"==s&&c.right+d>f.width?"left":"left"==s&&c.left-d<f.left?"right":s,o.removeClass(p).addClass(s)}var g=this.getCalculatedOffset(s,c,d,h);this.applyPlacement(g,s);var m=function(){var e=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==e&&i.leave(i)};e.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",m).emulateTransitionEnd(n.TRANSITION_DURATION):m()}},n.prototype.applyPlacement=function(t,n){var r=this.tip(),i=r[0].offsetWidth,o=r[0].offsetHeight,a=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),t.top+=a,t.left+=s,e.offset.setOffset(r[0],e.extend({using:function(e){r.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),r.addClass("in");var l=r[0].offsetWidth,u=r[0].offsetHeight;"top"==n&&u!=o&&(t.top=t.top+o-u);var c=this.getViewportAdjustedDelta(n,t,l,u);c.left?t.left+=c.left:t.top+=c.top;var d=/top|bottom/.test(n),h=d?2*c.left-i+l:2*c.top-o+u,p=d?"offsetWidth":"offsetHeight";r.offset(t),this.replaceArrow(h,r[0][p],d)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(t){function r(){"in"!=i.hoverState&&o.detach(),i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),t&&t()}var i=this,o=e(this.$tip),a=e.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],r="BODY"==n.tagName,i=n.getBoundingClientRect();null==i.width&&(i=e.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var o=r?{top:0,left:0}:t.offset(),a={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=r?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},i,a,s,o)},n.prototype.getCalculatedOffset=function(e,t,n,r){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-r,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-o-a.scroll,l=t.top+o-a.scroll+r;s<a.top?i.top=a.top-s:l>a.top+a.height&&(i.top=a.top+a.height-l)}else{var u=t.left-o,c=t.left+o+n;u<a.left?i.left=a.left-u:c>a.right&&(i.left=a.left+a.width-c)}return i},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),t?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null})};var r=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=r,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.popover"),o="object"==typeof t&&t;(i||!/destroy|hide/.test(t))&&(i||r.data("bs.popover",i=new n(this,o)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.5",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var r=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=r,this}}(jQuery),+function(e){"use strict";function t(n,r){this.$body=e(document.body),this.$scrollElement=e(e(n).is(document.body)?window:n),this.options=e.extend({},t.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var r=e(this),i=r.data("bs.scrollspy"),o="object"==typeof n&&n;i||r.data("bs.scrollspy",i=new t(this,o)),"string"==typeof n&&i[n]()})}t.VERSION="3.3.5",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),i=t.data("target")||t.attr("href"),o=/^#./.test(i)&&e(i);return o&&o.length&&o.is(":visible")&&[[o[n]().top+r,i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=r)return a!=(e=o[o.length-1])&&this.activate(e);if(a&&t<i[0])return this.activeTarget=null,this.clear();for(e=i.length;e--;)a!=o[e]&&t>=i[e]&&(void 0===i[e+1]||t<i[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',r=e(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=r,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new n(this)),"string"==typeof t&&i[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.5",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.data("target");if(r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=n.find(".active:last a"),o=e.Event("hide.bs.tab",{relatedTarget:t[0]}),a=e.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(o),t.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=e(r);this.activate(t.closest("li"),n),this.activate(s,s.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},n.prototype.activate=function(t,r,i){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var a=r.find("> .active"),s=i&&e.support.transition&&(a.length&&a.hasClass("fade")||!!r.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),a.removeClass("in")};var r=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=r,this};var i=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.affix"),o="object"==typeof t&&t;i||r.data("bs.affix",i=new n(this,o)),"string"==typeof t&&i[t]()})}var n=function(t,r){this.options=e.extend({},n.DEFAULTS,r),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.5",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,r){var i=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return n>i?"top":!1;if("bottom"==this.affixed)return null!=n?i+this.unpin<=o.top?!1:"bottom":e-r>=i+a?!1:"bottom";var s=null==this.affixed,l=s?i:o.top,u=s?a:t;return null!=n&&n>=i?"top":null!=r&&l+u>=e-r?"bottom":!1},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),r=this.options.offset,i=r.top,o=r.bottom,a=Math.max(e(document).height(),e(document.body).height());"object"!=typeof r&&(o=i=r),"function"==typeof i&&(i=r.top(this.$element)),"function"==typeof o&&(o=r.bottom(this.$element));var s=this.getState(a,t,i,o);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),u=e.Event(l+".bs.affix");if(this.$element.trigger(u),u.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-t-o})}};var r=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=r,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),r=n.data();r.offset=r.offset||{},null!=r.offsetBottom&&(r.offset.bottom=r.offsetBottom),null!=r.offsetTop&&(r.offset.top=r.offsetTop),t.call(n,r)})})}(jQuery),function n(e,t,r){function i(a,s){if(!t[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return i(n?n:t)},c,c.exports,n,e,t,r)}return t[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){var r,i,o,a,s,l,u=function(e,t){function n(){this.constructor=e}for(var r in t)c.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},c={}.hasOwnProperty;l=e("./node"),a=l.Position,r=function(){function e(e){this.tree_widget=e,this.hovered_area=null,this.$ghost=null,this.hit_areas=[],this.is_dragging=!1,this.current_item=null}return e.prototype.mouseCapture=function(e){var t,n;return t=$(e.target),this.mustCaptureElement(t)?this.tree_widget.options.onIsMoveHandle&&!this.tree_widget.options.onIsMoveHandle(t)?null:(n=this.tree_widget._getNodeElement(t),n&&this.tree_widget.options.onCanMove&&(this.tree_widget.options.onCanMove(n.node)||(n=null)),this.current_item=n,null!==this.current_item):null},e.prototype.mouseStart=function(e){var t;return this.refresh(),t=$(e.target).offset(),this.drag_element=new i(this.current_item.node,e.page_x-t.left,e.page_y-t.top,this.tree_widget.element),this.is_dragging=!0,this.current_item.$element.addClass("jqtree-moving"),!0},e.prototype.mouseDrag=function(e){var t,n;return this.drag_element.move(e.page_x,e.page_y),t=this.findHoveredArea(e.page_x,e.page_y),n=this.canMoveToArea(t),n&&t?(t.node.isFolder()||this.stopOpenFolderTimer(),this.hovered_area!==t&&(this.hovered_area=t,this.mustOpenFolderTimer(t)?this.startOpenFolderTimer(t.node):this.stopOpenFolderTimer(),this.updateDropHint())):(this.removeHover(),this.removeDropHint(),this.stopOpenFolderTimer()),!0},e.prototype.mustCaptureElement=function(e){return!e.is("input,select")},e.prototype.canMoveToArea=function(e){var t;return e?this.tree_widget.options.onCanMoveTo?(t=a.getName(e.position),this.tree_widget.options.onCanMoveTo(this.current_item.node,e.node,t)):!0:!1},e.prototype.mouseStop=function(e){return this.moveItem(e),this.clear(),this.removeHover(),this.removeDropHint(),this.removeHitAreas(),this.current_item&&(this.current_item.$element.removeClass("jqtree-moving"),this.current_item=null),this.is_dragging=!1,!1},e.prototype.refresh=function(){return this.removeHitAreas(),this.current_item&&(this.generateHitAreas(),this.current_item=this.tree_widget._getNodeElementForNode(this.current_item.node),this.is_dragging)?this.current_item.$element.addClass("jqtree-moving"):void 0},e.prototype.removeHitAreas=function(){return this.hit_areas=[]},e.prototype.clear=function(){return this.drag_element.remove(),this.drag_element=null},e.prototype.removeDropHint=function(){return this.previous_ghost?this.previous_ghost.remove():void 0},e.prototype.removeHover=function(){return this.hovered_area=null},e.prototype.generateHitAreas=function(){var e;return e=new o(this.tree_widget.tree,this.current_item.node,this.getTreeDimensions().bottom),this.hit_areas=e.generate()},e.prototype.findHoveredArea=function(e,t){var n,r,i,o,a;if(r=this.getTreeDimensions(),e<r.left||t<r.top||e>r.right||t>r.bottom)return null;for(o=0,i=this.hit_areas.length;i>o;)if(a=o+i>>1,n=this.hit_areas[a],t<n.top)i=a;else{if(!(t>n.bottom))return n;o=a+1}return null},e.prototype.mustOpenFolderTimer=function(e){var t;return t=e.node,t.isFolder()&&!t.is_open&&e.position===a.INSIDE},e.prototype.updateDropHint=function(){var e;if(this.hovered_area)return this.removeDropHint(),e=this.tree_widget._getNodeElementForNode(this.hovered_area.node),this.previous_ghost=e.addDropHint(this.hovered_area.position)},e.prototype.startOpenFolderTimer=function(e){var t;return t=function(t){return function(){return t.tree_widget._openNode(e,t.tree_widget.options.slide,function(){return t.refresh(),t.updateDropHint()})}}(this),this.stopOpenFolderTimer(),this.open_folder_timer=setTimeout(t,this.tree_widget.options.openFolderDelay)},e.prototype.stopOpenFolderTimer=function(){return this.open_folder_timer?(clearTimeout(this.open_folder_timer),this.open_folder_timer=null):void 0},e.prototype.moveItem=function(e){var t,n,r,i,o,s;return this.hovered_area&&this.hovered_area.position!==a.NONE&&this.canMoveToArea(this.hovered_area)&&(r=this.current_item.node,s=this.hovered_area.node,i=this.hovered_area.position,o=r.parent,i===a.INSIDE&&(this.hovered_area.node.is_open=!0),t=function(e){return function(){return e.tree_widget.tree.moveNode(r,s,i),e.tree_widget.element.empty(),e.tree_widget._refreshElements()}}(this),n=this.tree_widget._triggerEvent("tree.move",{move_info:{moved_node:r,target_node:s,position:a.getName(i),previous_parent:o,do_move:t,original_event:e.original_event}}),!n.isDefaultPrevented())?t():void 0},e.prototype.getTreeDimensions=function(){var e;return e=this.tree_widget.element.offset(),{left:e.left,top:e.top,right:e.left+this.tree_widget.element.width(),bottom:e.top+this.tree_widget.element.height()+16}},e}(),s=function(){function e(e){this.tree=e}return e.prototype.iterate=function(){var e,t;return t=!0,(e=function(n){return function(r,i){var o,a,s,l,u,c,d,h;if(d=(r.is_open||!r.element)&&r.hasChildren(),r.element){if(o=$(r.element),!o.is(":visible"))return;t&&(n.handleFirstNode(r,o),t=!1),r.hasChildren()?r.is_open?n.handleOpenFolder(r,o)||(d=!1):n.handleClosedFolder(r,i,o):n.handleNode(r,i,o)}if(d){for(s=r.children.length,h=r.children,l=u=0,c=h.length;c>u;l=++u)a=h[l],l===s-1?e(r.children[l],null):e(r.children[l],r.children[l+1]);if(r.is_open)return n.handleAfterOpenFolder(r,i,o)}}}(this))(this.tree,null)},e.prototype.handleNode=function(e,t,n){},e.prototype.handleOpenFolder=function(e,t){},e.prototype.handleClosedFolder=function(e,t,n){},e.prototype.handleAfterOpenFolder=function(e,t,n){},e.prototype.handleFirstNode=function(e,t){},e}(),o=function(e){function t(e,n,r){t.__super__.constructor.call(this,e),this.current_node=n,this.tree_bottom=r}return u(t,e),t.prototype.generate=function(){return this.positions=[],this.last_top=0,this.iterate(),this.generateHitAreas(this.positions)},t.prototype.getTop=function(e){return e.offset().top},t.prototype.addPosition=function(e,t,n){var r;return r={top:n,node:e,position:t},this.positions.push(r),this.last_top=n},t.prototype.handleNode=function(e,t,n){var r;return r=this.getTop(n),e===this.current_node?this.addPosition(e,a.NONE,r):this.addPosition(e,a.INSIDE,r),t===this.current_node||e===this.current_node?this.addPosition(e,a.NONE,r):this.addPosition(e,a.AFTER,r)},t.prototype.handleOpenFolder=function(e,t){return e===this.current_node?!1:(e.children[0]!==this.current_node&&this.addPosition(e,a.INSIDE,this.getTop(t)),!0)},t.prototype.handleClosedFolder=function(e,t,n){var r;return r=this.getTop(n),e===this.current_node?this.addPosition(e,a.NONE,r):(this.addPosition(e,a.INSIDE,r),t!==this.current_node?this.addPosition(e,a.AFTER,r):void 0)},t.prototype.handleFirstNode=function(e,t){return e!==this.current_node?this.addPosition(e,a.BEFORE,this.getTop($(e.element))):void 0},t.prototype.handleAfterOpenFolder=function(e,t,n){return e===this.current_node.node||t===this.current_node.node?this.addPosition(e,a.NONE,this.last_top):this.addPosition(e,a.AFTER,this.last_top)},t.prototype.generateHitAreas=function(e){var t,n,r,i,o,a;for(a=-1,t=[],n=[],r=0,i=e.length;i>r;r++)o=e[r],o.top!==a&&t.length&&(t.length&&this.generateHitAreasForGroup(n,t,a,o.top),a=o.top,t=[]),t.push(o);return this.generateHitAreasForGroup(n,t,a,this.tree_bottom),n},t.prototype.generateHitAreasForGroup=function(e,t,n,r){var i,o,a,s,l;for(l=Math.min(t.length,4),i=Math.round((r-n)/l),o=n,a=0;l>a;)s=t[a],e.push({top:o,bottom:o+i,node:s.node,position:s.position}),o+=i,a+=1;return null},t}(s),i=function(){function e(e,t,n,r){this.offset_x=t,this.offset_y=n,this.$element=$('<span class="jqtree-title jqtree-dragging">'+e.name+"</span>"),this.$element.css("position","absolute"),r.append(this.$element)}return e.prototype.move=function(e,t){return this.$element.offset({left:e-this.offset_x,top:t-this.offset_y})},e.prototype.remove=function(){return this.$element.remove()},e}(),t.exports=r},{"./node":5}],2:[function(e,t,n){var r,i,o,a,s;a=e("./node_element"),i=a.NodeElement,s=e("./util"),o=s.html_escape,r=function(){function e(e){this.tree_widget=e,this.opened_icon_element=this.createButtonElement(e.options.openedIcon),this.closed_icon_element=this.createButtonElement(e.options.closedIcon)}return e.prototype.render=function(e){return e&&e.parent?this.renderFromNode(e):this.renderFromRoot()},e.prototype.renderFromRoot=function(){var e;return e=this.tree_widget.element,e.empty(),this.createDomElements(e[0],this.tree_widget.tree.children,!0,!0)},e.prototype.renderFromNode=function(e){var t,n;return t=$(e.element),n=this.createLi(e),this.attachNodeData(e,n),t.after(n),t.remove(),e.children?this.createDomElements(n,e.children,!1,!1):void 0},e.prototype.createDomElements=function(e,t,n,r){var i,o,a,s,l;for(l=this.createUl(n),e.appendChild(l),o=0,a=t.length;a>o;o++)i=t[o],s=this.createLi(i),l.appendChild(s),this.attachNodeData(i,s),i.hasChildren()&&this.createDomElements(s,i.children,!1,i.is_open);return null},e.prototype.attachNodeData=function(e,t){return e.element=t,$(t).data("node",e)},e.prototype.createUl=function(e){var t,n;return t=e?"jqtree-tree":"",n=document.createElement("ul"),n.className="jqtree_common "+t,n},e.prototype.createLi=function(e){var t;return t=e.isFolder()?this.createFolderLi(e):this.createNodeLi(e),this.tree_widget.options.onCreateLi&&this.tree_widget.options.onCreateLi(e,$(t)),t},e.prototype.createFolderLi=function(e){var t,n,r,i,o,a,s,l;return t=this.getButtonClasses(e),o=this.getFolderClasses(e),i=this.escapeIfNecessary(e.name),a=e.is_open?this.opened_icon_element:this.closed_icon_element,s=document.createElement("li"),s.className="jqtree_common "+o,r=document.createElement("div"),r.className="jqtree-element jqtree_common",s.appendChild(r),n=document.createElement("a"),n.className="jqtree_common "+t,n.appendChild(a.cloneNode(!1)),r.appendChild(n),l=document.createElement("span"),l.className="jqtree_common jqtree-title jqtree-title-folder",r.appendChild(l),l.innerHTML=i,s},e.prototype.createNodeLi=function(e){var t,n,r,i,o,a;return o=["jqtree_common"],this.tree_widget.select_node_handler&&this.tree_widget.select_node_handler.isNodeSelected(e)&&o.push("jqtree-selected"),t=o.join(" "),r=this.escapeIfNecessary(e.name),i=document.createElement("li"),i.className=t,n=document.createElement("div"),n.className="jqtree-element jqtree_common",i.appendChild(n),a=document.createElement("span"),a.className="jqtree-title jqtree_common",a.innerHTML=r,n.appendChild(a),i},e.prototype.getButtonClasses=function(e){var t;return t=["jqtree-toggler"],e.is_open||t.push("jqtree-closed"),t.join(" ")},e.prototype.getFolderClasses=function(e){var t;return t=["jqtree-folder"],e.is_open||t.push("jqtree-closed"),this.tree_widget.select_node_handler&&this.tree_widget.select_node_handler.isNodeSelected(e)&&t.push("jqtree-selected"),e.is_loading&&t.push("jqtree-loading"),t.join(" ")},e.prototype.escapeIfNecessary=function(e){return this.tree_widget.options.autoEscape?o(e):e},e.prototype.createButtonElement=function(e){var t;return"string"==typeof e?(t=document.createElement("div"),t.innerHTML=e,document.createTextNode(t.innerHTML)):$(e)[0];
},e}(),t.exports=r},{"./node_element":6,"./util":12}],3:[function(e,t,n){var r,i=function(e,t){return function(){return e.apply(t,arguments)}};r=function(){function e(e){this.selectNode=i(this.selectNode,this),this.tree_widget=e,e.options.keyboardSupport&&$(document).bind("keydown.jqtree",$.proxy(this.handleKeyDown,this))}var t,n,r,o;return n=37,o=38,r=39,t=40,e.prototype.deinit=function(){return $(document).unbind("keydown.jqtree")},e.prototype.moveDown=function(){var e;return e=this.tree_widget.getSelectedNode(),e?this.selectNode(e.getNextNode()):!1},e.prototype.moveUp=function(){var e;return e=this.tree_widget.getSelectedNode(),e?this.selectNode(e.getPreviousNode()):!1},e.prototype.moveRight=function(){var e;return e=this.tree_widget.getSelectedNode(),e&&e.isFolder()&&!e.is_open?(this.tree_widget.openNode(e),!1):!0},e.prototype.moveLeft=function(){var e;return e=this.tree_widget.getSelectedNode(),e&&e.isFolder()&&e.is_open?(this.tree_widget.closeNode(e),!1):!0},e.prototype.handleKeyDown=function(e){var i;if(!this.tree_widget.options.keyboardSupport)return!0;if($(document.activeElement).is("textarea,input,select"))return!0;if(!this.tree_widget.getSelectedNode())return!0;switch(i=e.which){case t:return this.moveDown();case o:return this.moveUp();case r:return this.moveRight();case n:return this.moveLeft()}return!0},e.prototype.selectNode=function(e){return e?(this.tree_widget.selectNode(e),this.tree_widget.scroll_handler&&!this.tree_widget.scroll_handler.isScrolledIntoView($(e.element).find(".jqtree-element"))&&this.tree_widget.scrollToNode(e),!1):!0},e}(),t.exports=r},{}],4:[function(e,t,n){var r,i,o=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;i=e("./simple.widget"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return o(t,e),t.is_mouse_handled=!1,t.prototype._init=function(){return this.$el.bind("mousedown.mousewidget",$.proxy(this._mouseDown,this)),this.$el.bind("touchstart.mousewidget",$.proxy(this._touchStart,this)),this.is_mouse_started=!1,this.mouse_delay=0,this._mouse_delay_timer=null,this._is_mouse_delay_met=!0,this.mouse_down_info=null},t.prototype._deinit=function(){var e;return this.$el.unbind("mousedown.mousewidget"),this.$el.unbind("touchstart.mousewidget"),e=$(document),e.unbind("mousemove.mousewidget"),e.unbind("mouseup.mousewidget")},t.prototype._mouseDown=function(e){var t;if(1===e.which)return t=this._handleMouseDown(e,this._getPositionInfo(e)),t&&e.preventDefault(),t},t.prototype._handleMouseDown=function(e,n){return!t.is_mouse_handled&&(this.is_mouse_started&&this._handleMouseUp(n),this.mouse_down_info=n,this._mouseCapture(n))?(this._handleStartMouse(),this.is_mouse_handled=!0,!0):void 0},t.prototype._handleStartMouse=function(){var e;return e=$(document),e.bind("mousemove.mousewidget",$.proxy(this._mouseMove,this)),e.bind("touchmove.mousewidget",$.proxy(this._touchMove,this)),e.bind("mouseup.mousewidget",$.proxy(this._mouseUp,this)),e.bind("touchend.mousewidget",$.proxy(this._touchEnd,this)),this.mouse_delay?this._startMouseDelayTimer():void 0},t.prototype._startMouseDelayTimer=function(){return this._mouse_delay_timer&&clearTimeout(this._mouse_delay_timer),this._mouse_delay_timer=setTimeout(function(e){return function(){return e._is_mouse_delay_met=!0}}(this),this.mouse_delay),this._is_mouse_delay_met=!1},t.prototype._mouseMove=function(e){return this._handleMouseMove(e,this._getPositionInfo(e))},t.prototype._handleMouseMove=function(e,t){return this.is_mouse_started?(this._mouseDrag(t),e.preventDefault()):this.mouse_delay&&!this._is_mouse_delay_met?!0:(this.is_mouse_started=this._mouseStart(this.mouse_down_info)!==!1,this.is_mouse_started?this._mouseDrag(t):this._handleMouseUp(t),!this.is_mouse_started)},t.prototype._getPositionInfo=function(e){return{page_x:e.pageX,page_y:e.pageY,target:e.target,original_event:e}},t.prototype._mouseUp=function(e){return this._handleMouseUp(this._getPositionInfo(e))},t.prototype._handleMouseUp=function(e){var t;t=$(document),t.unbind("mousemove.mousewidget"),t.unbind("touchmove.mousewidget"),t.unbind("mouseup.mousewidget"),t.unbind("touchend.mousewidget"),this.is_mouse_started&&(this.is_mouse_started=!1,this._mouseStop(e))},t.prototype._mouseCapture=function(e){return!0},t.prototype._mouseStart=function(e){return null},t.prototype._mouseDrag=function(e){return null},t.prototype._mouseStop=function(e){return null},t.prototype.setMouseDelay=function(e){return this.mouse_delay=e},t.prototype._touchStart=function(e){var t;if(!(e.originalEvent.touches.length>1))return t=e.originalEvent.changedTouches[0],this._handleMouseDown(e,this._getPositionInfo(t))},t.prototype._touchMove=function(e){var t;if(!(e.originalEvent.touches.length>1))return t=e.originalEvent.changedTouches[0],this._handleMouseMove(e,this._getPositionInfo(t))},t.prototype._touchEnd=function(e){var t;if(!(e.originalEvent.touches.length>1))return t=e.originalEvent.changedTouches[0],this._handleMouseUp(this._getPositionInfo(t))},t}(i),t.exports=r},{"./simple.widget":10}],5:[function(e,t,n){var r,i;i={getName:function(e){return i.strings[e-1]},nameToIndex:function(e){var t,n,r;for(t=n=1,r=i.strings.length;r>=1?r>=n:n>=r;t=r>=1?++n:--n)if(i.strings[t-1]===e)return t;return 0}},i.BEFORE=1,i.AFTER=2,i.INSIDE=3,i.NONE=4,i.strings=["before","after","inside","none"],r=function(){function e(t,n,r){null==n&&(n=!1),null==r&&(r=e),this.setData(t),this.children=[],this.parent=null,n&&(this.id_mapping={},this.tree=this,this.node_class=r)}return e.prototype.setData=function(e){var t,n;if("object"!=typeof e)this.name=e;else for(t in e)n=e[t],"label"===t?this.name=n:this[t]=n;return null},e.prototype.initFromData=function(e){var t,n;return n=function(e){return function(n){return e.setData(n),n.children?t(n.children):void 0}}(this),t=function(e){return function(t){var n,r,i,o;for(r=0,i=t.length;i>r;r++)n=t[r],o=new e.tree.node_class(""),o.initFromData(n),e.addChild(o);return null}}(this),n(e),null},e.prototype.loadFromData=function(e){var t,n,r,i;for(this.removeChildren(),t=0,n=e.length;n>t;t++)i=e[t],r=new this.tree.node_class(i),this.addChild(r),"object"==typeof i&&i.children&&r.loadFromData(i.children);return null},e.prototype.addChild=function(e){return this.children.push(e),e._setParent(this)},e.prototype.addChildAtPosition=function(e,t){return this.children.splice(t,0,e),e._setParent(this)},e.prototype._setParent=function(e){return this.parent=e,this.tree=e.tree,this.tree.addNodeToIndex(this)},e.prototype.removeChild=function(e){return e.removeChildren(),this._removeChild(e)},e.prototype._removeChild=function(e){return this.children.splice(this.getChildIndex(e),1),this.tree.removeNodeFromIndex(e)},e.prototype.getChildIndex=function(e){return $.inArray(e,this.children)},e.prototype.hasChildren=function(){return 0!==this.children.length},e.prototype.isFolder=function(){return this.hasChildren()||this.load_on_demand},e.prototype.iterate=function(e){var t;return t=function(n,r){var i,o,a,s,l;if(n.children){for(s=n.children,o=0,a=s.length;a>o;o++)i=s[o],l=e(i,r),l&&i.hasChildren()&&t(i,r+1);return null}},t(this,0),null},e.prototype.moveNode=function(e,t,n){return e.isParentOf(t)?void 0:(e.parent._removeChild(e),n===i.AFTER?t.parent.addChildAtPosition(e,t.parent.getChildIndex(t)+1):n===i.BEFORE?t.parent.addChildAtPosition(e,t.parent.getChildIndex(t)):n===i.INSIDE?t.addChildAtPosition(e,0):void 0)},e.prototype.getData=function(){var e;return(e=function(t){return function(t){var n,r,i,o,a,s,l;for(n=[],r=0,o=t.length;o>r;r++){a=t[r],s={};for(i in a)l=a[i],"parent"!==i&&"children"!==i&&"element"!==i&&"tree"!==i&&Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=l);a.hasChildren()&&(s.children=e(a.children)),n.push(s)}return n}}(this))(this.children)},e.prototype.getNodeByName=function(e){var t;return t=null,this.iterate(function(n){return n.name===e?(t=n,!1):!0}),t},e.prototype.addAfter=function(e){var t,n;return this.parent?(n=new this.tree.node_class(e),t=this.parent.getChildIndex(this),this.parent.addChildAtPosition(n,t+1),n):null},e.prototype.addBefore=function(e){var t,n;return this.parent?(n=new this.tree.node_class(e),t=this.parent.getChildIndex(this),this.parent.addChildAtPosition(n,t),n):null},e.prototype.addParent=function(e){var t,n,r,i,o,a;if(this.parent){for(i=new this.tree.node_class(e),i._setParent(this.tree),o=this.parent,a=o.children,n=0,r=a.length;r>n;n++)t=a[n],i.addChild(t);return o.children=[],o.addChild(i),i}return null},e.prototype.remove=function(){return this.parent?(this.parent.removeChild(this),this.parent=null):void 0},e.prototype.append=function(e){var t;return t=new this.tree.node_class(e),this.addChild(t),t},e.prototype.prepend=function(e){var t;return t=new this.tree.node_class(e),this.addChildAtPosition(t,0),t},e.prototype.isParentOf=function(e){var t;for(t=e.parent;t;){if(t===this)return!0;t=t.parent}return!1},e.prototype.getLevel=function(){var e,t;for(e=0,t=this;t.parent;)e+=1,t=t.parent;return e},e.prototype.getNodeById=function(e){return this.id_mapping[e]},e.prototype.addNodeToIndex=function(e){return null!=e.id?this.id_mapping[e.id]=e:void 0},e.prototype.removeNodeFromIndex=function(e){return null!=e.id?delete this.id_mapping[e.id]:void 0},e.prototype.removeChildren=function(){return this.iterate(function(e){return function(t){return e.tree.removeNodeFromIndex(t),!0}}(this)),this.children=[]},e.prototype.getPreviousSibling=function(){var e;return this.parent?(e=this.parent.getChildIndex(this)-1,e>=0?this.parent.children[e]:null):null},e.prototype.getNextSibling=function(){var e;return this.parent?(e=this.parent.getChildIndex(this)+1,e<this.parent.children.length?this.parent.children[e]:null):null},e.prototype.getNodesByProperty=function(e,t){return this.filter(function(n){return n[e]===t})},e.prototype.filter=function(e){var t;return t=[],this.iterate(function(n){return e(n)&&t.push(n),!0}),t},e.prototype.getNextNode=function(e){var t;return null==e&&(e=!0),e&&this.hasChildren()&&this.is_open?this.children[0]:this.parent?(t=this.getNextSibling(),t?t:this.parent.getNextNode(!1)):null},e.prototype.getPreviousNode=function(){var e;return this.parent?(e=this.getPreviousSibling(),e?e.hasChildren()&&e.is_open?e.getLastChild():e:this.parent.parent?this.parent:null):null},e.prototype.getLastChild=function(){var e;return this.hasChildren()?(e=this.children[this.children.length-1],e.hasChildren()&&e.is_open?e.getLastChild():e):null},e}(),t.exports={Node:r,Position:i}},{}],6:[function(e,t,n){var r,i,o,a,s,l,u=function(e,t){function n(){this.constructor=e}for(var r in t)c.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},c={}.hasOwnProperty;l=e("./node"),s=l.Position,a=function(){function e(e,t){this.init(e,t)}return e.prototype.init=function(e,t){return this.node=e,this.tree_widget=t,e.element||(e.element=this.tree_widget.element),this.$element=$(e.element)},e.prototype.getUl=function(){return this.$element.children("ul:first")},e.prototype.getSpan=function(){return this.$element.children(".jqtree-element").find("span.jqtree-title")},e.prototype.getLi=function(){return this.$element},e.prototype.addDropHint=function(e){return e===s.INSIDE?new r(this.$element):new o(this.node,this.$element,e)},e.prototype.select=function(){return this.getLi().addClass("jqtree-selected")},e.prototype.deselect=function(){return this.getLi().removeClass("jqtree-selected")},e}(),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.open=function(e,t){var n,r;return null==t&&(t=!0),this.node.is_open?void 0:(this.node.is_open=!0,n=this.getButton(),n.removeClass("jqtree-closed"),n.html(""),n.append(this.tree_widget.renderer.opened_icon_element.cloneNode(!1)),r=function(t){return function(){return t.getLi().removeClass("jqtree-closed"),e&&e(),t.tree_widget._triggerEvent("tree.open",{node:t.node})}}(this),t?this.getUl().slideDown("fast",r):(this.getUl().show(),r()))},t.prototype.close=function(e){var t,n;return null==e&&(e=!0),this.node.is_open?(this.node.is_open=!1,t=this.getButton(),t.addClass("jqtree-closed"),t.html(""),t.append(this.tree_widget.renderer.closed_icon_element.cloneNode(!1)),n=function(e){return function(){return e.getLi().addClass("jqtree-closed"),e.tree_widget._triggerEvent("tree.close",{node:e.node})}}(this),e?this.getUl().slideUp("fast",n):(this.getUl().hide(),n())):void 0},t.prototype.getButton=function(){return this.$element.children(".jqtree-element").find("a.jqtree-toggler")},t.prototype.addDropHint=function(e){return this.node.is_open||e!==s.INSIDE?new o(this.node,this.$element,e):new r(this.$element)},t}(a),r=function(){function e(e){var t,n;t=e.children(".jqtree-element"),n=e.width()-4,this.$hint=$('<span class="jqtree-border"></span>'),t.append(this.$hint),this.$hint.css({width:n,height:t.outerHeight()-4})}return e.prototype.remove=function(){return this.$hint.remove()},e}(),o=function(){function e(e,t,n){this.$element=t,this.node=e,this.$ghost=$('<li class="jqtree_common jqtree-ghost"><span class="jqtree_common jqtree-circle"></span><span class="jqtree_common jqtree-line"></span></li>'),n===s.AFTER?this.moveAfter():n===s.BEFORE?this.moveBefore():n===s.INSIDE&&(e.isFolder()&&e.is_open?this.moveInsideOpenFolder():this.moveInside())}return e.prototype.remove=function(){return this.$ghost.remove()},e.prototype.moveAfter=function(){return this.$element.after(this.$ghost)},e.prototype.moveBefore=function(){return this.$element.before(this.$ghost)},e.prototype.moveInsideOpenFolder=function(){return $(this.node.children[0].element).before(this.$ghost)},e.prototype.moveInside=function(){return this.$element.after(this.$ghost),this.$ghost.addClass("jqtree-inside")},e}(),t.exports={FolderElement:i,NodeElement:a}},{"./node":5}],7:[function(e,t,n){var r,i,o,a;a=e("./util"),i=a.indexOf,o=a.isInt,r=function(){function e(e){this.tree_widget=e}return e.prototype.saveState=function(){var e;return e=JSON.stringify(this.getState()),this.tree_widget.options.onSetStateFromStorage?this.tree_widget.options.onSetStateFromStorage(e):this.supportsLocalStorage()?localStorage.setItem(this.getCookieName(),e):$.cookie?($.cookie.raw=!0,$.cookie(this.getCookieName(),e,{path:"/"})):void 0},e.prototype.getStateFromStorage=function(){var e;return e=this._loadFromStorage(),e?this._parseState(e):null},e.prototype._parseState=function(e){var t;return t=$.parseJSON(e),t&&t.selected_node&&o(t.selected_node)&&(t.selected_node=[t.selected_node]),t},e.prototype._loadFromStorage=function(){return this.tree_widget.options.onGetStateFromStorage?this.tree_widget.options.onGetStateFromStorage():this.supportsLocalStorage()?localStorage.getItem(this.getCookieName()):$.cookie?($.cookie.raw=!0,$.cookie(this.getCookieName())):null},e.prototype.getState=function(){var e,t;return e=function(e){return function(){var t;return t=[],e.tree_widget.tree.iterate(function(e){return e.is_open&&e.id&&e.hasChildren()&&t.push(e.id),!0}),t}}(this),t=function(e){return function(){var t;return function(){var e,n,r,i;for(r=this.tree_widget.getSelectedNodes(),i=[],e=0,n=r.length;n>e;e++)t=r[e],i.push(t.id);return i}.call(e)}}(this),{open_nodes:e(),selected_node:t()}},e.prototype.setInitialState=function(e){var t;return e?(t=this._openInitialNodes(e.open_nodes),this._selectInitialNodes(e.selected_node),t):!1},e.prototype._openInitialNodes=function(e){var t,n,r,i,o;for(r=!1,t=0,n=e.length;n>t;t++)o=e[t],i=this.tree_widget.getNodeById(o),i&&(i.load_on_demand?r=!0:i.is_open=!0);return r},e.prototype._selectInitialNodes=function(e){var t,n,r,i,o;for(o=0,t=0,n=e.length;n>t;t++)i=e[t],r=this.tree_widget.getNodeById(i),r&&(o+=1,this.tree_widget.select_node_handler.addToSelection(r));return 0!==o},e.prototype.setInitialStateOnDemand=function(e){return e?this._setInitialStateOnDemand(e.open_nodes,e.selected_node):void 0},e.prototype._setInitialStateOnDemand=function(e,t){var n,r;return r=function(r){return function(){var i,o,a,s,l;for(a=[],i=0,o=e.length;o>i;i++)l=e[i],s=r.tree_widget.getNodeById(l),s?s.is_loading||(s.load_on_demand?n(s):r.tree_widget._openNode(s,!1)):a.push(l);return e=a,r._selectInitialNodes(t)?r.tree_widget._refreshElements():void 0}}(this),n=function(e){return function(t){return e.tree_widget._openNode(t,!1,r)}}(this),r()},e.prototype.getCookieName=function(){return"string"==typeof this.tree_widget.options.saveState?this.tree_widget.options.saveState:"tree"},e.prototype.supportsLocalStorage=function(){var e;return e=function(){var e,t;if("undefined"==typeof localStorage||null===localStorage)return!1;try{t="_storage_test",sessionStorage.setItem(t,!0),sessionStorage.removeItem(t)}catch(n){return e=n,!1}return!0},null==this._supportsLocalStorage&&(this._supportsLocalStorage=e()),this._supportsLocalStorage},e.prototype.getNodeIdToBeSelected=function(){var e;return e=this.getStateFromStorage(),e&&e.selected_node?e.selected_node[0]:null},e}(),t.exports=r},{"./util":12}],8:[function(e,t,n){var r;r=function(){function e(e){this.tree_widget=e,this.previous_top=-1,this._initScrollParent()}return e.prototype._initScrollParent=function(){var e,t,n;return t=function(e){return function(){var t,n,r,i,o,a;if(t=["overflow","overflow-y"],(r=function(e){var n,r,i,o;for(r=0,i=t.length;i>r;r++)if(n=t[r],"auto"===(o=$.css(e,n))||"scroll"===o)return!0;return!1})(e.tree_widget.$el[0]))return e.tree_widget.$el;for(a=e.tree_widget.$el.parents(),i=0,o=a.length;o>i;i++)if(n=a[i],r(n))return $(n);return null}}(this),n=function(e){return function(){return e.scroll_parent_top=0,e.$scroll_parent=null}}(this),"fixed"===this.tree_widget.$el.css("position")&&n(),e=t(),e&&e.length&&"HTML"!==e[0].tagName?(this.$scroll_parent=e,this.scroll_parent_top=this.$scroll_parent.offset().top):n()},e.prototype.checkScrolling=function(){var e;return e=this.tree_widget.dnd_handler.hovered_area,e&&e.top!==this.previous_top?(this.previous_top=e.top,this.$scroll_parent?this._handleScrollingWithScrollParent(e):this._handleScrollingWithDocument(e)):void 0},e.prototype._handleScrollingWithScrollParent=function(e){var t;return t=this.scroll_parent_top+this.$scroll_parent[0].offsetHeight-e.bottom,20>t?(this.$scroll_parent[0].scrollTop+=20,this.tree_widget.refreshHitAreas(),this.previous_top=-1):e.top-this.scroll_parent_top<20?(this.$scroll_parent[0].scrollTop-=20,this.tree_widget.refreshHitAreas(),this.previous_top=-1):void 0},e.prototype._handleScrollingWithDocument=function(e){var t;return t=e.top-$(document).scrollTop(),20>t?$(document).scrollTop($(document).scrollTop()-20):$(window).height()-(e.bottom-$(document).scrollTop())<20?$(document).scrollTop($(document).scrollTop()+20):void 0},e.prototype.scrollTo=function(e){var t;return this.$scroll_parent?this.$scroll_parent[0].scrollTop=e:(t=this.tree_widget.$el.offset().top,$(document).scrollTop(e+t))},e.prototype.isScrolledIntoView=function(e){var t,n,r,i,o;return t=$(e),this.$scroll_parent?(o=0,i=this.$scroll_parent.height(),r=t.offset().top-this.scroll_parent_top,n=r+t.height()):(o=$(window).scrollTop(),i=o+$(window).height(),r=t.offset().top,n=r+t.height()),i>=n&&r>=o},e}(),t.exports=r},{}],9:[function(e,t,n){var r;r=function(){function e(e){this.tree_widget=e,this.clear()}return e.prototype.getSelectedNode=function(){var e;return e=this.getSelectedNodes(),e.length?e[0]:!1},e.prototype.getSelectedNodes=function(){var e,t,n;if(this.selected_single_node)return[this.selected_single_node];n=[];for(e in this.selected_nodes)t=this.tree_widget.getNodeById(e),t&&n.push(t);return n},e.prototype.getSelectedNodesUnder=function(e){var t,n,r;if(this.selected_single_node)return e.isParentOf(this.selected_single_node)?[this.selected_single_node]:[];r=[];for(t in this.selected_nodes)n=this.tree_widget.getNodeById(t),n&&e.isParentOf(n)&&r.push(n);return r},e.prototype.isNodeSelected=function(e){return e.id?this.selected_nodes[e.id]:this.selected_single_node?this.selected_single_node.element===e.element:!1},e.prototype.clear=function(){return this.selected_nodes={},this.selected_single_node=null},e.prototype.removeFromSelection=function(e,t){if(null==t&&(t=!1),e.id){if(delete this.selected_nodes[e.id],t)return e.iterate(function(t){return function(n){return delete t.selected_nodes[e.id],!0}}(this))}else if(this.selected_single_node&&e.element===this.selected_single_node.element)return this.selected_single_node=null},e.prototype.addToSelection=function(e){return e.id?this.selected_nodes[e.id]=!0:this.selected_single_node=e},e}(),t.exports=r},{}],10:[function(e,t,n){var r,i=[].slice;r=function(){function e(e,t){this.$el=$(e),this.options=$.extend({},this.defaults,t)}return e.prototype.defaults={},e.prototype.destroy=function(){return this._deinit()},e.prototype._init=function(){return null},e.prototype._deinit=function(){return null},e.register=function(t,n){var r,o,a,s,l;return s=function(){return"simple_widget_"+n},l=function(t,n){var r;return r=$.data(t,n),r&&r instanceof e?r:null},o=function(e,n){var r,i,o,a,u,c;for(r=s(),a=0,u=e.length;u>a;a++)i=e[a],o=l(i,r),o||(c=new t(i,n),$.data(i,r)||$.data(i,r,c),c._init());return e},a=function(e){var t,n,r,i,o,a;for(t=s(),o=[],r=0,i=e.length;i>r;r++)n=e[r],a=l(n,t),a&&a.destroy(),o.push($.removeData(n,t));return o},r=function(t,n,r){var i,o,a,l,u,c;for(l=null,o=0,a=t.length;a>o;o++)i=t[o],u=$.data(i,s()),u&&u instanceof e&&(c=u[n],c&&"function"==typeof c&&(l=c.apply(u,r)));return l},$.fn[n]=function(){var e,n,s,l,u;return s=arguments[0],n=2<=arguments.length?i.call(arguments,1):[],e=this,void 0===s||"object"==typeof s?(u=s,o(e,u)):"string"==typeof s&&"_"!==s[0]?(l=s,"destroy"===l?a(e):"get_widget_class"===l?t:r(e,l,n)):void 0}},e}(),t.exports=r},{}],11:[function(e,t,n){var r,i,o,a,s,l,u,c,d,h,p,f,g,m,v,y,b,w=function(e,t){function n(){this.constructor=e}for(var r in t)x.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},x={}.hasOwnProperty;m=e("./version"),r=e("./drag_and_drop_handler"),i=e("./elements_renderer"),s=e("./key_handler"),l=e("./mouse.widget"),h=e("./save_state_handler"),p=e("./scroll_handler"),f=e("./select_node_handler"),g=e("./simple.widget"),y=e("./node"),u=y.Node,d=y.Position,b=e("./util"),v=e("./node_element"),c=v.NodeElement,o=v.FolderElement,a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return w(t,e),t.prototype.defaults={autoOpen:!1,saveState:!1,dragAndDrop:!1,selectable:!0,useContextMenu:!0,onCanSelectNode:null,onSetStateFromStorage:null,onGetStateFromStorage:null,onCreateLi:null,onIsMoveHandle:null,onCanMove:null,onCanMoveTo:null,onLoadFailed:null,autoEscape:!0,dataUrl:null,closedIcon:"&#x25ba;",openedIcon:"&#x25bc;",slide:!0,nodeClass:u,dataFilter:null,keyboardSupport:!0,openFolderDelay:500},t.prototype.toggle=function(e,t){return null==t&&(t=null),null===t&&(t=this.options.slide),e.is_open?this.closeNode(e,t):this.openNode(e,t)},t.prototype.getTree=function(){return this.tree},t.prototype.selectNode=function(e){return this._selectNode(e,!1)},t.prototype._selectNode=function(e,t){var n,r,i,o;if(null==t&&(t=!1),this.select_node_handler){if(n=function(t){return function(){return t.options.onCanSelectNode?t.options.selectable&&t.options.onCanSelectNode(e):t.options.selectable}}(this),i=function(t){return function(){var n;return n=e.parent,n&&n.parent&&!n.is_open?t.openNode(n,!1):void 0}}(this),o=function(e){return function(){return e.options.saveState?e.save_state_handler.saveState():void 0}}(this),!e)return this._deselectCurrentNode(),void o();if(n())return this.select_node_handler.isNodeSelected(e)?t&&(this._deselectCurrentNode(),this._triggerEvent("tree.select",{node:null,previous_node:e})):(r=this.getSelectedNode(),this._deselectCurrentNode(),this.addToSelection(e),this._triggerEvent("tree.select",{node:e,deselected_node:r}),i()),o()}},t.prototype.getSelectedNode=function(){return this.select_node_handler?this.select_node_handler.getSelectedNode():null},t.prototype.toJson=function(){return JSON.stringify(this.tree.getData())},t.prototype.loadData=function(e,t){return this._loadData(e,t)},t.prototype.loadDataFromUrl=function(e,t,n){return"string"!==$.type(e)&&(n=t,t=e,e=null),this._loadDataFromUrl(e,t,n)},t.prototype.reload=function(){return this.loadDataFromUrl()},t.prototype._loadDataFromUrl=function(e,t,n){var r,i,o,a,s,l;if(r=null,i=function(e){return function(){return r=t?$(t.element):e.element,r.addClass("jqtree-loading")}}(this),l=function(){return r?r.removeClass("jqtree-loading"):void 0},s=function(){return"string"===$.type(e)&&(e={url:e}),e.method?void 0:e.method="get"},o=function(e){return function(r){return l(),e._loadData(r,t),n&&$.isFunction(n)?n():void 0}}(this),a=function(t){return function(){return s(),$.ajax({url:e.url,data:e.data,type:e.method.toUpperCase(),cache:!1,dataType:"json",success:function(e){var n;return n=$.isArray(e)||"object"==typeof e?e:$.parseJSON(e),t.options.dataFilter&&(n=t.options.dataFilter(n)),o(n)},error:function(e){return l(),t.options.onLoadFailed?t.options.onLoadFailed(e):void 0}})}}(this),e||(e=this._getDataUrlInfo(t)),i(),e){if(!$.isArray(e))return a();o(e)}else l()},t.prototype._loadData=function(e,t){var n,r;return null==t&&(t=null),n=function(e){return function(){var n,r,i,o;if(e.select_node_handler)for(o=e.select_node_handler.getSelectedNodesUnder(t),n=0,r=o.length;r>n;n++)i=o[n],e.select_node_handler.removeFromSelection(i);return null}}(this),r=function(n){return function(){return t.loadFromData(e),t.load_on_demand=!1,t.is_loading=!1,n._refreshElements(t)}}(this),e?(this._triggerEvent("tree.load_data",{tree_data:e}),t?(n(),r()):this._initTree(e),this.isDragging()?this.dnd_handler.refresh():void 0):void 0},t.prototype.getNodeById=function(e){return this.tree.getNodeById(e)},t.prototype.getNodeByName=function(e){return this.tree.getNodeByName(e)},t.prototype.getNodesByProperty=function(e,t){return this.tree.getNodesByProperty(e,t)},t.prototype.openNode=function(e,t){return null==t&&(t=null),null===t&&(t=this.options.slide),this._openNode(e,t)},t.prototype._openNode=function(e,t,n){var r,i;if(null==t&&(t=!0),r=function(e){return function(t,n,r){var i;return i=new o(t,e),i.open(r,n)}}(this),e.isFolder()){if(e.load_on_demand)return this._loadFolderOnDemand(e,t,n);for(i=e.parent;i;)i.parent&&r(i,!1,null),i=i.parent;return r(e,t,n),this._saveState()}},t.prototype._loadFolderOnDemand=function(e,t,n){return null==t&&(t=!0),e.is_loading=!0,this._loadDataFromUrl(null,e,function(r){return function(){return r._openNode(e,t,n)}}(this))},t.prototype.closeNode=function(e,t){return null==t&&(t=null),null===t&&(t=this.options.slide),e.isFolder()?(new o(e,this).close(t),this._saveState()):void 0},t.prototype.isDragging=function(){return this.dnd_handler?this.dnd_handler.is_dragging:!1},t.prototype.refreshHitAreas=function(){return this.dnd_handler.refresh()},t.prototype.addNodeAfter=function(e,t){var n;return n=t.addAfter(e),this._refreshElements(t.parent),n},t.prototype.addNodeBefore=function(e,t){var n;return n=t.addBefore(e),this._refreshElements(t.parent),n},t.prototype.addParentNode=function(e,t){var n;return n=t.addParent(e),this._refreshElements(n.parent),n},t.prototype.removeNode=function(e){var t;return t=e.parent,t?(this.select_node_handler.removeFromSelection(e,!0),e.remove(),this._refreshElements(t)):void 0},t.prototype.appendNode=function(e,t){var n;return t=t||this.tree,n=t.append(e),this._refreshElements(t),n},t.prototype.prependNode=function(e,t){var n;return t||(t=this.tree),n=t.prepend(e),this._refreshElements(t),n},t.prototype.updateNode=function(e,t){var n;return n=t.id&&t.id!==e.id,n&&this.tree.removeNodeFromIndex(e),e.setData(t),n&&this.tree.addNodeToIndex(e),this.renderer.renderFromNode(e),this._selectCurrentNode()},t.prototype.moveNode=function(e,t,n){var r;return r=d.nameToIndex(n),this.tree.moveNode(e,t,r),this._refreshElements()},t.prototype.getStateFromStorage=function(){return this.save_state_handler.getStateFromStorage()},t.prototype.addToSelection=function(e){return e?(this.select_node_handler.addToSelection(e),this._getNodeElementForNode(e).select(),this._saveState()):void 0},t.prototype.getSelectedNodes=function(){return this.select_node_handler.getSelectedNodes()},t.prototype.isNodeSelected=function(e){return this.select_node_handler.isNodeSelected(e)},t.prototype.removeFromSelection=function(e){return this.select_node_handler.removeFromSelection(e),this._getNodeElementForNode(e).deselect(),this._saveState()},t.prototype.scrollToNode=function(e){var t,n;return t=$(e.element),n=t.offset().top-this.$el.offset().top,this.scroll_handler.scrollTo(n)},t.prototype.getState=function(){return this.save_state_handler.getState()},t.prototype.setState=function(e){return this.save_state_handler.setInitialState(e),this._refreshElements()},t.prototype.setOption=function(e,t){return this.options[e]=t},t.prototype.moveDown=function(){return this.key_handler?this.key_handler.moveDown():void 0},t.prototype.moveUp=function(){return this.key_handler?this.key_handler.moveUp():void 0},t.prototype.getVersion=function(){return m},t.prototype._init=function(){return t.__super__._init.call(this),this.element=this.$el,this.mouse_delay=300,this.is_initialized=!1,this.renderer=new i(this),null!=h?this.save_state_handler=new h(this):this.options.saveState=!1,null!=f&&(this.select_node_handler=new f(this)),null!=r?this.dnd_handler=new r(this):this.options.dragAndDrop=!1,null!=p&&(this.scroll_handler=new p(this)),null!=s&&null!=f&&(this.key_handler=new s(this)),this._initData(),this.element.click($.proxy(this._click,this)),this.element.dblclick($.proxy(this._dblclick,this)),this.options.useContextMenu?this.element.bind("contextmenu",$.proxy(this._contextmenu,this)):void 0},t.prototype._deinit=function(){return this.element.empty(),this.element.unbind(),this.key_handler&&this.key_handler.deinit(),this.tree=null,t.__super__._deinit.call(this)},t.prototype._initData=function(){return this.options.data?this._loadData(this.options.data):this._loadDataFromUrl(this._getDataUrlInfo())},t.prototype._getDataUrlInfo=function(e){var t,n;return t=this.options.dataUrl||this.element.data("url"),n=function(n){return function(){var r,i,o;return o={url:t},e&&e.id?(r={node:e.id},o.data=r):(i=n._getNodeIdToBeSelected(),i&&(r={selected_node:i},o.data=r)),o}}(this),$.isFunction(t)?t(e):"string"===$.type(t)?n():t},t.prototype._getNodeIdToBeSelected=function(){return this.options.saveState?this.save_state_handler.getNodeIdToBeSelected():null},t.prototype._initTree=function(e){var t;return this.tree=new this.options.nodeClass(null,!0,this.options.nodeClass),this.select_node_handler&&this.select_node_handler.clear(),this.tree.loadFromData(e),t=this._setInitialState(),this._refreshElements(),t&&this._setInitialStateOnDemand(),this.is_initialized?void 0:(this.is_initialized=!0,this._triggerEvent("tree.init"))},t.prototype._setInitialState=function(){var e,t,n,r,i;return i=function(e){return function(){var t,n;return e.options.saveState&&e.save_state_handler?(n=e.save_state_handler.getStateFromStorage(),n?(t=e.save_state_handler.setInitialState(n),[!0,t]):[!1,!1]):[!1,!1]}}(this),e=function(e){return function(){var t,n;return e.options.autoOpen===!1?!1:(t=e._getAutoOpenMaxLevel(),n=!1,e.tree.iterate(function(e,r){return e.load_on_demand?(n=!0,!1):e.hasChildren()?(e.is_open=!0,r!==t):!1}),n)}}(this),r=i(),t=r[0],n=r[1],t||(n=e()),n},t.prototype._setInitialStateOnDemand=function(){var e,t;return t=function(e){return function(){var t;return e.options.saveState&&e.save_state_handler?(t=e.save_state_handler.getStateFromStorage(),t?(e.save_state_handler.setInitialStateOnDemand(t),!0):!1):!1}}(this),e=function(e){return function(){var t,n,r,i;return r=e._getAutoOpenMaxLevel(),n=[],t=function(t){return e._openNode(t,!1,i)},(i=function(){return e.tree.iterate(function(n,i){return n.load_on_demand?(n.is_loading||t(n),!1):(e._openNode(n,!1),i!==r)})})()}}(this),t()?void 0:e()},t.prototype._getAutoOpenMaxLevel=function(){return this.options.autoOpen===!0?-1:parseInt(this.options.autoOpen);
},t.prototype._refreshElements=function(e){return null==e&&(e=null),this.renderer.render(e),this._triggerEvent("tree.refresh")},t.prototype._click=function(e){var t,n,r;if(t=this._getClickTarget(e.target)){if("button"===t.type)return this.toggle(t.node,this.options.slide),e.preventDefault(),e.stopPropagation();if("label"===t.type&&(r=t.node,n=this._triggerEvent("tree.click",{node:r,click_event:e}),!n.isDefaultPrevented()))return this._selectNode(r,!0)}},t.prototype._dblclick=function(e){var t;return t=this._getClickTarget(e.target),t&&"label"===t.type?this._triggerEvent("tree.dblclick",{node:t.node,click_event:e}):void 0},t.prototype._getClickTarget=function(e){var t,n,r,i;if(r=$(e),t=r.closest(".jqtree-toggler"),t.length){if(i=this._getNode(t))return{type:"button",node:i}}else if(n=r.closest(".jqtree-element"),n.length&&(i=this._getNode(n)))return{type:"label",node:i};return null},t.prototype._getNode=function(e){var t;return t=e.closest("li.jqtree_common"),0===t.length?null:t.data("node")},t.prototype._getNodeElementForNode=function(e){return e.isFolder()?new o(e,this):new c(e,this)},t.prototype._getNodeElement=function(e){var t;return t=this._getNode(e),t?this._getNodeElementForNode(t):null},t.prototype._contextmenu=function(e){var t,n;return t=$(e.target).closest("ul.jqtree-tree .jqtree-element"),t.length&&(n=this._getNode(t))?(e.preventDefault(),e.stopPropagation(),this._triggerEvent("tree.contextmenu",{node:n,click_event:e}),!1):void 0},t.prototype._saveState=function(){return this.options.saveState?this.save_state_handler.saveState():void 0},t.prototype._mouseCapture=function(e){return this.options.dragAndDrop?this.dnd_handler.mouseCapture(e):!1},t.prototype._mouseStart=function(e){return this.options.dragAndDrop?this.dnd_handler.mouseStart(e):!1},t.prototype._mouseDrag=function(e){var t;return this.options.dragAndDrop?(t=this.dnd_handler.mouseDrag(e),this.scroll_handler&&this.scroll_handler.checkScrolling(),t):!1},t.prototype._mouseStop=function(e){return this.options.dragAndDrop?this.dnd_handler.mouseStop(e):!1},t.prototype._triggerEvent=function(e,t){var n;return n=$.Event(e),$.extend(n,t),this.element.trigger(n),n},t.prototype.testGenerateHitAreas=function(e){return this.dnd_handler.current_item=this._getNodeElementForNode(e),this.dnd_handler.generateHitAreas(),this.dnd_handler.hit_areas},t.prototype._selectCurrentNode=function(){var e;return e=this.getSelectedNode(),e&&(v=this._getNodeElementForNode(e))?v.select():void 0},t.prototype._deselectCurrentNode=function(){var e;return e=this.getSelectedNode(),e?this.removeFromSelection(e):void 0},t}(l),a.getModule=function(e){var t;return t={node:y,util:b},t[e]},g.register(a,"tree")},{"./drag_and_drop_handler":1,"./elements_renderer":2,"./key_handler":3,"./mouse.widget":4,"./node":5,"./node_element":6,"./save_state_handler":7,"./scroll_handler":8,"./select_node_handler":9,"./simple.widget":10,"./util":12,"./version":13}],12:[function(e,t,n){var r,i,o,a;r=function(e,t){var n,r,i,o;for(n=r=0,i=e.length;i>r;n=++r)if(o=e[n],o===t)return n;return-1},o=function(e,t){return e.indexOf?e.indexOf(t):r(e,t)},a=function(e){return"number"==typeof e&&e%1===0},i=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},t.exports={_indexOf:r,html_escape:i,indexOf:o,isInt:a}},{}],13:[function(e,t,n){t.exports="1.0.0"},{}]},{},[11]),!window.XMLHttpRequest||window.FileAPI&&FileAPI.shouldLoad||(window.XMLHttpRequest.prototype.setRequestHeader=function(e){return function(t,n){if("__setXHR_"===t){var r=n(this);r instanceof Function&&r(this)}else e.apply(this,arguments)}}(window.XMLHttpRequest.prototype.setRequestHeader));var ngFileUpload=angular.module("ngFileUpload",[]);ngFileUpload.version="7.0.17",ngFileUpload.service("UploadBase",["$http","$q","$timeout",function(e,t,n){function r(r){r.method=r.method||"POST",r.headers=r.headers||{};var i=t.defer(),o=i.promise;return r.headers.__setXHR_=function(){return function(e){e&&(r.__XHR=e,r.xhrFn&&r.xhrFn(e),e.upload.addEventListener("progress",function(e){e.config=r,i.notify?i.notify(e):o.progressFunc&&n(function(){o.progressFunc(e)})},!1),e.upload.addEventListener("load",function(e){e.lengthComputable&&(e.config=r,i.notify?i.notify(e):o.progressFunc&&n(function(){o.progressFunc(e)}))},!1))}},e(r).then(function(e){i.resolve(e)},function(e){i.reject(e)},function(e){i.notify(e)}),o.success=function(e){return o.then(function(t){e(t.data,t.status,t.headers,r)}),o},o.error=function(e){return o.then(null,function(t){e(t.data,t.status,t.headers,r)}),o},o.progress=function(e){return o.progressFunc=e,o.then(null,null,function(t){e(t)}),o},o.abort=function(){return r.__XHR&&n(function(){r.__XHR.abort()}),o},o.xhr=function(e){return r.xhrFn=function(t){return function(){t&&t.apply(o,arguments),e.apply(o,arguments)}}(r.xhrFn),o},o}this.upload=function(e){function t(n,r,i){if(void 0!==r)if(angular.isDate(r)&&(r=r.toISOString()),angular.isString(r))n.append(i,r);else if("form"===e.sendFieldsAs)if(angular.isObject(r))for(var o in r)r.hasOwnProperty(o)&&t(n,r[o],i+"["+o+"]");else n.append(i,r);else r=angular.isString(r)?r:angular.toJson(r),"json-blob"===e.sendFieldsAs?n.append(i,new Blob([r],{type:"application/json"})):n.append(i,r)}return e.headers=e.headers||{},e.headers["Content-Type"]=void 0,e.transformRequest=e.transformRequest?angular.isArray(e.transformRequest)?e.transformRequest:[e.transformRequest]:[],e.transformRequest.push(function(n){var r,i=new FormData,o={};for(r in e.fields)e.fields.hasOwnProperty(r)&&(o[r]=e.fields[r]);n&&(o.data=n);for(r in o)if(o.hasOwnProperty(r)){var a=o[r];e.formDataAppender?e.formDataAppender(i,r,a):t(i,a,r)}if(null!=e.file){var s=e.fileFormDataName||"file";if(angular.isArray(e.file))for(var l=angular.isString(s),u=0;u<e.file.length;u++)i.append(l?s:s[u],e.file[u],e.fileName&&e.fileName[u]||e.file[u].name);else i.append(s,e.file,e.fileName||e.file.name)}return i}),r(e)},this.http=function(t){return t.transformRequest=t.transformRequest||function(t){return window.ArrayBuffer&&t instanceof window.ArrayBuffer||t instanceof Blob?t:e.defaults.transformRequest[0].apply(this,arguments)},r(t)},this.setDefaults=function(e){this.defaults=e||{}},this.defaults={},this.version=ngFileUpload.version}]),function(){ngFileUpload.service("Upload",["$parse","$timeout","$compile","UploadValidate",function(e,t,n,r){var i=r;return i.getAttrWithDefaults=function(e,t){return null!=e[t]?e[t]:null==i.defaults[t]?i.defaults[t]:i.defaults[t].toString()},i.attrGetter=function(t,n,r,i){if(!r)return this.getAttrWithDefaults(n,t);try{return i?e(this.getAttrWithDefaults(n,t))(r,i):e(this.getAttrWithDefaults(n,t))(r)}catch(o){if(t.search(/min|max|pattern/i))return this.getAttrWithDefaults(n,t);throw o}},i.updateModel=function(n,r,o,a,s,l,u){function c(){var u=s&&s.length?s[0]:null;if(n){var c=!i.attrGetter("ngfMultiple",r,o)&&!i.attrGetter("multiple",r)&&!d;e(i.attrGetter("ngModel",r)).assign(o,c?u:s)}var h=i.attrGetter("ngfModel",r);h&&e(h).assign(o,s),a&&e(a)(o,{$files:s,$file:u,$event:l}),t(function(){})}var d=i.attrGetter("ngfKeep",r,o);if(d===!0){if(!s||!s.length)return;var h=(n&&n.$modelValue||r.$$ngfPrevFiles||[]).slice(0),p=!1;if(i.attrGetter("ngfKeepDistinct",r,o)===!0){for(var f=h.length,g=0;g<s.length;g++){for(var m=0;f>m&&s[g].name!==h[m].name;m++);m===f&&(h.push(s[g]),p=!0)}if(!p)return;s=h}else s=h.concat(s)}r.$$ngfPrevFiles=s,u?c():i.validate(s,n,r,o,i.attrGetter("ngfValidateLater",r),function(){t(function(){c()})})},i}])}(),function(){function e(e,n,r,i,o,a,s,l){function u(){return"input"===n[0].tagName.toLowerCase()&&r.type&&"file"===r.type.toLowerCase()}function c(){return b("ngfChange")||b("ngfSelect")}function d(t){for(var n=t.__files_||t.target&&t.target.files,o=[],a=0;a<n.length;a++)o.push(n[a]);l.updateModel(i,r,e,c(),o.length?o:null,t)}function h(e){if(n!==e)for(var t=0;t<n[0].attributes.length;t++){var r=n[0].attributes[t];"type"!==r.name&&"class"!==r.name&&"id"!==r.name&&"style"!==r.name&&((null==r.value||""===r.value)&&("required"===r.name&&(r.value="required"),"multiple"===r.name&&(r.value="multiple")),e.attr(r.name,r.value))}}function p(){if(u())return n;var e=angular.element('<input type="file">');return h(e),e.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),t.push({el:n,ref:e}),document.body.appendChild(e[0]),e}function f(t){if(n.attr("disabled")||b("ngfSelectDisabled",e))return!1;var r=g(t);return null!=r?r:(v(t),m(navigator.userAgent)?setTimeout(function(){x[0].click()},0):x[0].click(),!1)}function g(e){var t=e.changedTouches||e.originalEvent&&e.originalEvent.changedTouches;if("touchstart"===e.type)return $=t?t[0].clientY:0,!0;if(e.stopPropagation(),e.preventDefault(),"touchend"===e.type){var n=t?t[0].clientY:0;if(Math.abs(n-$)>20)return!1}}function m(e){var t=e.match(/Android[^\d]*(\d+)\.(\d+)/);if(t&&t.length>2){var n=l.defaults.androidFixMinorVersion||4;return parseInt(t[1])<4||parseInt(t[1])===n&&parseInt(t[2])<n}return-1===e.indexOf("Chrome")&&/.*Windows.*Safari.*/.test(e)}function v(t){x.val()&&(x.val(null),l.updateModel(i,r,e,c(),null,t,!0))}function y(e){if(x&&!x.attr("__ngf_ie10_Fix_")){if(!x[0].parentNode)return void(x=null);e.preventDefault(),e.stopPropagation(),x.unbind("click");var t=x.clone();return x.replaceWith(t),x=t,x.attr("__ngf_ie10_Fix_","true"),x.bind("change",d),x.bind("click",y),x[0].click(),!1}x.removeAttr("__ngf_ie10_Fix_")}var b=function(e,t){return l.attrGetter(e,r,t)},w=[];w.push(e.$watch(b("ngfMultiple"),function(){x.attr("multiple",b("ngfMultiple",e))})),w.push(e.$watch(b("ngfCapture"),function(){x.attr("capture",b("ngfCapture",e))})),r.$observe("accept",function(){x.attr("accept",b("accept"))}),w.push(function(){r.$$observers&&delete r.$$observers.accept});var $=0,x=n;u()||(x=p()),x.bind("change",d),u()?n.bind("click",v):n.bind("click touchstart touchend",f),l.registerValidators(i,x,r,e),-1!==navigator.appVersion.indexOf("MSIE 10")&&x.bind("click",y),e.$on("$destroy",function(){u()||x.remove(),angular.forEach(w,function(e){e()})}),a(function(){for(var e=0;e<t.length;e++){var n=t[e];document.body.contains(n.el[0])||(t.splice(e,1),n.ref.remove())}}),window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(n,x,d)}var t=[];ngFileUpload.directive("ngfSelect",["$parse","$timeout","$compile","Upload",function(t,n,r,i){return{restrict:"AEC",require:"?ngModel",link:function(o,a,s,l){e(o,a,s,l,t,n,r,i)}}}])}(),function(){function e(e){return"img"===e.tagName.toLowerCase()?"image":"audio"===e.tagName.toLowerCase()?"audio":"video"===e.tagName.toLowerCase()?"video":/\./}ngFileUpload.service("UploadDataUrl",["UploadBase","$timeout","$q",function(e,t,n){var r=e;return r.dataUrl=function(e,r){if(r&&null!=e.dataUrl||!r&&null!=e.blobUrl){var i=n.defer();return t(function(){i.resolve(r?e.dataUrl:e.blobUrl)}),i.promise}var o=r?e.$ngfDataUrlPromise:e.$ngfBlobUrlPromise;if(o)return o;var a=n.defer();return t(function(){if(window.FileReader&&e&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 8")||e.size<2e4)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 9")||e.size<4e6)){var n=window.URL||window.webkitURL;if(n&&n.createObjectURL&&!r){var i;try{i=n.createObjectURL(e)}catch(o){return void t(function(){e.blobUrl="",a.reject()})}t(function(){e.blobUrl=i,i&&a.resolve(i)})}else{var s=new FileReader;s.onload=function(n){t(function(){e.dataUrl=n.target.result,a.resolve(n.target.result)})},s.onerror=function(){t(function(){e.dataUrl="",a.reject()})},s.readAsDataURL(e)}}else t(function(){e[r?"dataUrl":"blobUrl"]="",a.reject()})}),o=r?e.$ngfDataUrlPromise=a.promise:e.$ngfBlobUrlPromise=a.promise,o["finally"](function(){delete e[r?"$ngfDataUrlPromise":"$ngfBlobUrlPromise"]}),o},r}]);var t=angular.element("<style>.ngf-hide{display:none !important}</style>");document.getElementsByTagName("head")[0].appendChild(t[0]),ngFileUpload.directive("ngfSrc",["$compile","$timeout","Upload",function(t,n,r){return{restrict:"AE",link:function(t,i,o){n(function(){var a=t.$watch(o.ngfSrc,function(a){if(angular.isString(a))return i.removeClass("ngf-hide"),i.attr("src",a);if(a&&a.type&&0===a.type.indexOf(e(i[0]))){var s=r.attrGetter("ngfNoObjectUrl",o,t);r.dataUrl(a,s)["finally"](function(){n(function(){s&&a.dataUrl||!s&&a.blobUrl?(i.removeClass("ngf-hide"),i.attr("src",s?a.dataUrl:a.blobUrl)):i.addClass("ngf-hide")})})}else i.addClass("ngf-hide")});t.$on("$destroy",function(){a()})})}}}]),ngFileUpload.directive("ngfBackground",["Upload","$compile","$timeout",function(e,t,n){return{restrict:"AE",link:function(t,r,i){n(function(){var o=t.$watch(i.ngfBackground,function(o){if(angular.isString(o))return r.css("background-image","url('"+o+"')");if(o&&o.type&&0===o.type.indexOf("image")){var a=e.attrGetter("ngfNoObjectUrl",i,t);e.dataUrl(o,a)["finally"](function(){n(function(){a&&o.dataUrl||!a&&o.blobUrl?r.css("background-image","url('"+(a?o.dataUrl:o.blobUrl)+"')"):r.css("background-image","")})})}else r.css("background-image","")});t.$on("$destroy",function(){o()})})}}}]),ngFileUpload.config(["$compileProvider",function(e){e.imgSrcSanitizationWhitelist&&e.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|local|file|data|blob):/),e.aHrefSanitizationWhitelist&&e.aHrefSanitizationWhitelist(/^\s*(https?|ftp|local|file|data|blob):/)}]),ngFileUpload.filter("ngfDataUrl",["UploadDataUrl","$sce",function(e,t){return function(n,r){return angular.isString(n)?t.trustAsResourceUrl(n):n&&!n.dataUrl?(void 0===n.dataUrl&&angular.isObject(n)&&(n.dataUrl=null,e.dataUrl(n,r)),""):(n&&n.dataUrl?t.trustAsResourceUrl(n.dataUrl):n)||""}}])}(),function(){function e(t){if(t.length>2&&"/"===t[0]&&"/"===t[t.length-1])return t.substring(1,t.length-1);var n=t.split(","),r="";if(n.length>1)for(var i=0;i<n.length;i++)r+="("+e(n[i])+")",i<n.length-1&&(r+="|");else 0===t.indexOf(".")&&(t="*"+t),r="^"+t.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$",r=r.replace(/\\\*/g,".*").replace(/\\\?/g,".");return r}function t(e){if(angular.isString(e)){if(e.search(/kb/i)===e.length-2)return parseFloat(1e3*e.substring(0,e.length-2));if(e.search(/mb/i)===e.length-2)return parseFloat(1e6*e.substring(0,e.length-2));if(e.search(/gb/i)===e.length-2)return parseFloat(1e9*e.substring(0,e.length-2));if(e.search(/b/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/s/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/m/i)===e.length-1)return parseFloat(60*e.substring(0,e.length-1));if(e.search(/h/i)===e.length-1)return parseFloat(3600*e.substring(0,e.length-1))}return e}ngFileUpload.service("UploadValidate",["UploadDataUrl","$q","$timeout",function(n,r,i){var o=n;return o.registerValidators=function(e,t,n,r){function i(e){angular.forEach(e.$ngfValidations,function(t){e.$setValidity(t.name,t.valid)})}e&&(e.$ngfValidations=[],e.$formatters.push(function(a){return o.attrGetter("ngfValidateLater",n,r)||!e.$$ngfValidated?(o.validate(a,e,n,r,!1,function(){i(e),e.$$ngfValidated=!1}),a&&0===a.length&&(a=null),!t||null!=a&&0!==a.length||t.val()&&t.val(null)):(i(e),e.$$ngfValidated=!1),a}))},o.validatePattern=function(t,n){if(!n)return!0;var r=new RegExp(e(n),"gi");return null!=t.type&&r.test(t.type.toLowerCase())||null!=t.name&&r.test(t.name.toLowerCase())},o.validate=function(e,n,r,i,a,s){function l(t,r,i){if(e){for(var o="ngf"+t[0].toUpperCase()+t.substr(1),a=e.length,s=null;a--;){var l=e[a],u=c(o,{$file:l});null==u&&(u=r(c("ngfValidate")||{}),s=null==s?!0:s),null!=u&&(i(l,u)||(l.$error=t,l.$errorParam=u,e.splice(a,1),s=!1))}null!==s&&n.$ngfValidations.push({name:t,valid:s})}}function u(t,r,i,o,a){if(e){var l=0,u=!1,h="ngf"+t[0].toUpperCase()+t.substr(1);e=void 0===e.length?[e]:e,angular.forEach(e,function(e){if(0!==e.type.search(i))return!0;var p=c(h,{$file:e})||r(c("ngfValidate",{$file:e})||{});p&&(d++,l++,o(e,p).then(function(n){a(n,p)||(e.$error=t,e.$errorParam=p,u=!0)},function(){c("ngfValidateForce",{$file:e})&&(e.$error=t,e.$errorParam=p,u=!0)})["finally"](function(){d--,l--,l||n.$ngfValidations.push({name:t,valid:!u}),d||s.call(n,n.$ngfValidations)}))})}}n=n||{},n.$ngfValidations=n.$ngfValidations||[],angular.forEach(n.$ngfValidations,function(e){e.valid=!0});var c=function(e,t){return o.attrGetter(e,r,i,t)};if(a)return void s.call(n);if(n.$$ngfValidated=!0,null==e||0===e.length)return void s.call(n);if(e=void 0===e.length?[e]:e.slice(0),l("pattern",function(e){return e.pattern},o.validatePattern),l("minSize",function(e){return e.size&&e.size.min},function(e,n){return e.size>=t(n)}),l("maxSize",function(e){return e.size&&e.size.max},function(e,n){return e.size<=t(n)}),l("validateFn",function(){return null},function(e,t){return t===!0||null===t||""===t}),!e.length)return void s.call(n,n.$ngfValidations);var d=0;u("maxHeight",function(e){return e.height&&e.height.max},/image/,this.imageDimensions,function(e,t){return e.height<=t}),u("minHeight",function(e){return e.height&&e.height.min},/image/,this.imageDimensions,function(e,t){return e.height>=t}),u("maxWidth",function(e){return e.width&&e.width.max},/image/,this.imageDimensions,function(e,t){return e.width<=t}),u("minWidth",function(e){return e.width&&e.width.min},/image/,this.imageDimensions,function(e,t){return e.width>=t}),u("ratio",function(e){return e.ratio},/image/,this.imageDimensions,function(e,t){for(var n=t.toString().split(","),r=!1,i=0;i<n.length;i++){var o=n[i],a=o.search(/x/i);o=a>-1?parseFloat(o.substring(0,a))/parseFloat(o.substring(a+1)):parseFloat(o),Math.abs(e.width/e.height-o)<1e-4&&(r=!0)}return r}),u("maxDuration",function(e){return e.duration&&e.duration.max},/audio|video/,this.mediaDuration,function(e,n){return e<=t(n)}),u("minDuration",function(e){return e.duration&&e.duration.min},/audio|video/,this.mediaDuration,function(e,n){return e>=t(n)}),u("validateAsyncFn",function(){return null},/./,function(e,t){return t},function(e){return e===!0||null===e||""===e}),d||s.call(n,n.$ngfValidations)},o.imageDimensions=function(e){if(e.width&&e.height){var t=r.defer();return i(function(){t.resolve({width:e.width,height:e.height})}),t.promise}if(e.$ngfDimensionPromise)return e.$ngfDimensionPromise;var n=r.defer();return i(function(){return 0!==e.type.indexOf("image")?void n.reject("not image"):void o.dataUrl(e).then(function(t){function r(){var t=s[0].clientWidth,r=s[0].clientHeight;s.remove(),e.width=t,e.height=r,n.resolve({width:t,height:r})}function o(){s.remove(),n.reject("load error")}function a(){i(function(){s[0].parentNode&&(s[0].clientWidth?r():l>10?o():a())},1e3)}var s=angular.element("<img>").attr("src",t).css("visibility","hidden").css("position","fixed");s.on("load",r),s.on("error",o);var l=0;a(),angular.element(document.getElementsByTagName("body")[0]).append(s)},function(){n.reject("load error")})}),e.$ngfDimensionPromise=n.promise,e.$ngfDimensionPromise["finally"](function(){delete e.$ngfDimensionPromise}),e.$ngfDimensionPromise},o.mediaDuration=function(e){if(e.duration){var t=r.defer();return i(function(){t.resolve(e.duration)}),t.promise}if(e.$ngfDurationPromise)return e.$ngfDurationPromise;var n=r.defer();return i(function(){return 0!==e.type.indexOf("audio")&&0!==e.type.indexOf("video")?void n.reject("not media"):void o.dataUrl(e).then(function(t){function r(){var t=s[0].duration;e.duration=t,s.remove(),n.resolve(t)}function o(){s.remove(),n.reject("load error")}function a(){i(function(){s[0].parentNode&&(s[0].duration?r():l>10?o():a())},1e3)}var s=angular.element(0===e.type.indexOf("audio")?"<audio>":"<video>").attr("src",t).css("visibility","none").css("position","fixed");s.on("loadedmetadata",r),s.on("error",o);var l=0;a(),angular.element(document.body).append(s)},function(){n.reject("load error")})}),e.$ngfDurationPromise=n.promise,e.$ngfDurationPromise["finally"](function(){delete e.$ngfDurationPromise}),e.$ngfDurationPromise},o}])}(),function(){function e(e,n,r,i,o,a,s,l){function u(){return n.attr("disabled")||p("ngfDropDisabled",e)}function c(e,t,n,r){var i=p("ngfDragOverClass",e,{$event:n}),o=p("ngfDragOverClass")||"dragover";if(angular.isString(i))return void r(i);if(i&&(i.delay&&(v=i.delay),i.accept||i.reject)){var a=n.dataTransfer.items;if(null!=a)for(var s=p("ngfPattern",e,{$event:n}),u=0;u<a.length;u++)if("file"===a[u].kind||""===a[u].kind){if(!l.validatePattern(a[u],s)){o=i.reject;break}o=i.accept}}r(o)}function d(e,t,n,r){function i(e,t,n){if(null!=t)if(t.isDirectory){var r=(n||"")+t.name;e.push({name:t.name,type:"directory",path:r});var o=t.createReader(),a=[];l++;var s=function(){o.readEntries(function(r){try{if(r.length)a=a.concat(Array.prototype.slice.call(r||[],0)),s();else{for(var o=0;o<a.length;o++)i(e,a[o],(n?n:"")+t.name+"/");l--}}catch(u){l--,console.error(u)}},function(){l--})};s()}else l++,t.file(function(t){try{l--,t.path=(n?n:"")+t.name,e.push(t)}catch(r){l--,console.error(r)}},function(){l--})}var o=[],l=0,u=e.dataTransfer.items;if(u&&u.length>0&&"file"!==s.protocol())for(var c=0;c<u.length;c++){if(u[c].webkitGetAsEntry&&u[c].webkitGetAsEntry()&&u[c].webkitGetAsEntry().isDirectory){var d=u[c].webkitGetAsEntry();if(d.isDirectory&&!n)continue;null!=d&&i(o,d)}else{var h=u[c].getAsFile();null!=h&&o.push(h)}if(!r&&o.length>0)break}else{var p=e.dataTransfer.files;if(null!=p)for(var f=0;f<p.length&&(o.push(p.item(f)),r||!(o.length>0));f++);}var g=0;!function m(e){a(function(){if(l)10*g++<2e4&&m(10);else{if(!r&&o.length>1){for(c=0;"directory"===o[c].type;)c++;o=[o[c]]}t(o)}},e||0)}()}var h=t(),p=function(e,t,n){return l.attrGetter(e,r,t,n)};if(p("dropAvailable")&&a(function(){e[p("dropAvailable")]?e[p("dropAvailable")].value=h:e[p("dropAvailable")]=h}),!h)return void(p("ngfHideOnDropNotAvailable",e)===!0&&n.css("display","none"));l.registerValidators(i,null,r,e);var f,g=null,m=o(p("ngfStopPropagation")),v=1;n[0].addEventListener("dragover",function(t){if(!u()){if(t.preventDefault(),m(e)&&t.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var i=t.dataTransfer.effectAllowed;t.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy"}a.cancel(g),f||(f="C",c(e,r,t,function(e){f=e,n.addClass(f)}))}},!1),n[0].addEventListener("dragenter",function(t){u()||(t.preventDefault(),m(e)&&t.stopPropagation())},!1),n[0].addEventListener("dragleave",function(){u()||(g=a(function(){n.removeClass(f),f=null},v||1))},!1),n[0].addEventListener("drop",function(t){u()||(t.preventDefault(),m(e)&&t.stopPropagation(),n.removeClass(f),f=null,d(t,function(n){l.updateModel(i,r,e,p("ngfChange")||p("ngfDrop"),n,t)},p("ngfAllowDir",e)!==!1,p("multiple")||p("ngfMultiple",e)))},!1),n[0].addEventListener("paste",function(t){if(!u()){var n=[],o=t.clipboardData||t.originalEvent.clipboardData;if(o&&o.items){for(var a=0;a<o.items.length;a++)-1!==o.items[a].type.indexOf("image")&&n.push(o.items[a].getAsFile());l.updateModel(i,r,e,p("ngfChange")||p("ngfDrop"),n,t)}}},!1)}function t(){var e=document.createElement("div");return"draggable"in e&&"ondrop"in e&&!/Edge\/12./i.test(navigator.userAgent)}ngFileUpload.directive("ngfDrop",["$parse","$timeout","$location","Upload",function(t,n,r,i){return{restrict:"AEC",require:"?ngModel",link:function(o,a,s,l){e(o,a,s,l,t,n,r,i)}}}]),ngFileUpload.directive("ngfNoFileDrop",function(){return function(e,n){t()&&n.css("display","none")}}),ngFileUpload.directive("ngfDropAvailable",["$parse","$timeout","Upload",function(e,n,r){return function(i,o,a){if(t()){var s=e(r.attrGetter("ngfDropAvailable",a));n(function(){s(i),s.assign&&s.assign(i,!0)})}}}])}(),function(){function e(e,t){window.XMLHttpRequest.prototype[e]=t(window.XMLHttpRequest.prototype[e])}function t(e,t,n){try{Object.defineProperty(e,t,{get:n})}catch(r){}}if(window.FileAPI||(window.FileAPI={}),FileAPI.shouldLoad=window.XMLHttpRequest&&!window.FormData||FileAPI.forceLoad,FileAPI.shouldLoad){var n=function(e){if(!e.__listeners){e.upload||(e.upload={}),e.__listeners=[];var t=e.upload.addEventListener;e.upload.addEventListener=function(n,r){e.__listeners[n]=r,t&&t.apply(this,arguments)}}};e("open",function(e){return function(t,r,i){n(this),this.__url=r;try{e.apply(this,[t,r,i])}catch(o){o.message.indexOf("Access is denied")>-1&&(this.__origError=o,e.apply(this,[t,"_fix_for_ie_crossdomain__",i]))}}}),e("getResponseHeader",function(e){return function(t){return this.__fileApiXHR&&this.__fileApiXHR.getResponseHeader?this.__fileApiXHR.getResponseHeader(t):null==e?null:e.apply(this,[t])}}),e("getAllResponseHeaders",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.getAllResponseHeaders?this.__fileApiXHR.getAllResponseHeaders():null==e?null:e.apply(this)}}),e("abort",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.abort?this.__fileApiXHR.abort():null==e?null:e.apply(this)}}),e("setRequestHeader",function(e){return function(t,r){if("__setXHR_"===t){n(this);var i=r(this);i instanceof Function&&i(this)}else this.__requestHeaders=this.__requestHeaders||{},this.__requestHeaders[t]=r,e.apply(this,arguments)}}),e("send",function(e){return function(){var n=this;if(arguments[0]&&arguments[0].__isFileAPIShim){var r=arguments[0],i={url:n.__url,jsonp:!1,cache:!0,complete:function(e,r){e&&angular.isString(e)&&-1!==e.indexOf("#2174")&&(e=null),n.__completed=!0,!e&&n.__listeners.load&&n.__listeners.load({type:"load",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),!e&&n.__listeners.loadend&&n.__listeners.loadend({type:"loadend",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),"abort"===e&&n.__listeners.abort&&n.__listeners.abort({type:"abort",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),void 0!==r.status&&t(n,"status",function(){return 0===r.status&&e&&"abort"!==e?500:r.status}),void 0!==r.statusText&&t(n,"statusText",function(){return r.statusText}),t(n,"readyState",function(){return 4}),void 0!==r.response&&t(n,"response",function(){return r.response});var i=r.responseText||(e&&0===r.status&&"abort"!==e?e:void 0);t(n,"responseText",function(){return i}),t(n,"response",function(){return i}),e&&t(n,"err",function(){return e}),n.__fileApiXHR=r,n.onreadystatechange&&n.onreadystatechange(),n.onload&&n.onload()},progress:function(e){if(e.target=n,n.__listeners.progress&&n.__listeners.progress(e),n.__total=e.total,n.__loaded=e.loaded,e.total===e.loaded){var t=this;setTimeout(function(){n.__completed||(n.getAllResponseHeaders=function(){},t.complete(null,{status:204,statusText:"No Content"}))},FileAPI.noContentTimeout||1e4)}},headers:n.__requestHeaders};i.data={},i.files={};for(var o=0;o<r.data.length;o++){var a=r.data[o];null!=a.val&&null!=a.val.name&&null!=a.val.size&&null!=a.val.type?i.files[a.key]=a.val:i.data[a.key]=a.val}setTimeout(function(){if(!FileAPI.hasFlash)throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';n.__fileApiXHR=FileAPI.upload(i)},1)}else{if(this.__origError)throw this.__origError;e.apply(n,arguments)}}}),window.XMLHttpRequest.__isFileAPIShim=!0,window.FormData=FormData=function(){return{append:function(e,t,n){t.__isFileAPIBlobShim&&(t=t.data[0]),this.data.push({key:e,val:t,name:n})},data:[],__isFileAPIShim:!0}},window.Blob=Blob=function(e){return{data:e,__isFileAPIBlobShim:!0}}}}(),function(){function e(e){return"input"===e[0].tagName.toLowerCase()&&e.attr("type")&&"file"===e.attr("type").toLowerCase()}function t(){try{var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(e)return!0}catch(t){if(void 0!==navigator.mimeTypes["application/x-shockwave-flash"])return!0}return!1}function n(e){var t=0,n=0;if(window.jQuery)return jQuery(e).offset();if(e.offsetParent)do t+=e.offsetLeft-e.scrollLeft,n+=e.offsetTop-e.scrollTop,e=e.offsetParent;while(e);return{left:t,top:n}}if(FileAPI.shouldLoad){if(FileAPI.forceLoad&&(FileAPI.html5=!1),!FileAPI.upload){var r,i,o,a,s,l=document.createElement("script"),u=document.getElementsByTagName("script");if(window.FileAPI.jsUrl)r=window.FileAPI.jsUrl;else if(window.FileAPI.jsPath)i=window.FileAPI.jsPath;else for(o=0;o<u.length;o++)if(s=u[o].src,a=s.search(/\/ng\-file\-upload[\-a-zA-z0-9\.]*\.js/),a>-1){i=s.substring(0,a+1);break}null==FileAPI.staticPath&&(FileAPI.staticPath=i),l.setAttribute("src",r||i+"FileAPI.min.js"),document.getElementsByTagName("head")[0].appendChild(l),FileAPI.hasFlash=t()}FileAPI.ngfFixIE=function(r,i,o){if(!t())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';var a=function(){r.attr("disabled")?i&&i.removeClass("js-fileapi-wrapper"):(i.attr("__ngf_flash_")||(i.unbind("change"),i.unbind("click"),i.bind("change",function(e){s.apply(this,[e]),o.apply(this,[e])}),i.attr("__ngf_flash_","true")),i.addClass("js-fileapi-wrapper"),e(r)||i.css("position","absolute").css("top",n(r[0]).top+"px").css("left",n(r[0]).left+"px").css("width",r[0].offsetWidth+"px").css("height",r[0].offsetHeight+"px").css("filter","alpha(opacity=0)").css("display",r.css("display")).css("overflow","hidden").css("z-index","900000").css("visibility","visible"))};r.bind("mouseenter",a);var s=function(e){for(var t=FileAPI.getFiles(e),n=0;n<t.length;n++)void 0===t[n].size&&(t[n].size=0),void 0===t[n].name&&(t[n].name="file"),void 0===t[n].type&&(t[n].type="undefined");e.target||(e.target={}),e.target.files=t,e.target.files!==t&&(e.__files_=t),(e.__files_||e.target.files).item=function(t){return(e.__files_||e.target.files)[t]||null}}},FileAPI.disableFileInput=function(e,t){t?e.removeClass("js-fileapi-wrapper"):e.addClass("js-fileapi-wrapper")}}}(),window.FileReader||(window.FileReader=function(){var e=this,t=!1;this.listeners={},this.addEventListener=function(t,n){e.listeners[t]=e.listeners[t]||[],e.listeners[t].push(n)},this.removeEventListener=function(t,n){e.listeners[t]&&e.listeners[t].splice(e.listeners[t].indexOf(n),1)},this.dispatchEvent=function(t){var n=e.listeners[t.type];if(n)for(var r=0;r<n.length;r++)n[r].call(e,t)},this.onabort=this.onerror=this.onload=this.onloadstart=this.onloadend=this.onprogress=null;var n=function(t,n){var r={type:t,target:e,loaded:n.loaded,total:n.total,error:n.error};return null!=n.result&&(r.target.result=n.result),r},r=function(r){t||(t=!0,e.onloadstart&&e.onloadstart(n("loadstart",r)));var i;"load"===r.type?(e.onloadend&&e.onloadend(n("loadend",r)),i=n("load",r),e.onload&&e.onload(i),e.dispatchEvent(i)):"progress"===r.type?(i=n("progress",r),e.onprogress&&e.onprogress(i),e.dispatchEvent(i)):(i=n("error",r),e.onerror&&e.onerror(i),e.dispatchEvent(i))};this.readAsArrayBuffer=function(e){FileAPI.readAsBinaryString(e,r)},this.readAsBinaryString=function(e){FileAPI.readAsBinaryString(e,r)},this.readAsDataURL=function(e){FileAPI.readAsDataURL(e,r)},this.readAsText=function(e){FileAPI.readAsText(e,r)}}),!function(){"use strict";function e(e,t){function n(n,r,i,o,a){function s(e){var t={};for(var r in u)n.options[r]===!0&&(t[r]=u.hasOwnProperty(r)?u[r](e):!1);return n.checklist=t,n.isAllValid=l(t),o.$setValidity("trustpass",n.isAllValid),e}function l(e){for(var t in e)if(e[t]===!1)return!1;return!0}n.isAllValid=!1,n.checklist={},n.options=angular.extend({lowercase:!0,uppercase:!0,number:!0,special:!0,minimum:!0,maximum:!1,word:!1,toggle:!1,minlength:8,maxlength:50,keepHeight:!1,messageGuide:"",lowercaseLabel:"One lowercase character",uppercaseLabel:"One uppercase character",numberLabel:"One number",specialLabel:"One special character",minimumLabel:"characters minimum",maximumLabel:"characters maximum",wordLabel:"Alphanumeric characters",messageDone:"Great! Your password is secure."},n.trTrustpass),(i.ngMaxlength||i.maxlength)&&(n.options.maxlength=i.ngMaxlength||i.maxlength),(i.ngMinlength||i.minlength)&&(n.options.minlength=i.ngMinlength||i.minlength);var u={word:function(e){return e&&/[\w]/.test(e)?!0:!1},lowercase:function(e){return e&&/[a-z]/.test(e)?!0:!1},uppercase:function(e){return e&&/[A-Z]/.test(e)?!0:!1},number:function(e){return e&&/\d/.test(e)?!0:!1},special:function(e){return e&&/[_\W]/.test(e)?!0:!1},minimum:function(e){
return e&&e.length>=n.options.minlength?!0:!1},maximum:function(e){return e&&e.length<=n.options.maxlength?!0:!1}};o.$parsers.unshift(s),n.$watch("value",s),o.$render=function(){o.$viewValue&&r.val(o.$viewValue)},n.isVisible=!n.options.toggle,n.options.toggle&&(n.isVisible=!1,r.bind("focus",function(){n.isVisible=!0,n.$apply()}).bind("blur",function(){n.isVisible=!1,n.$apply()}));var c=angular.element('<section class="trustpass" ng-show="isVisible" ng-style="{height: (options.keepHeight ? initialHeight : \'auto\')}"><div class="trustpass-guide" ng-if="isVisible && !isAllValid && options.messageGuide" ng-bind="options.messageGuide"></div><ul class="trustpass-checklist" ng-show="isVisible && !isAllValid"><li ng-class="{ \'trustpass-nope\': !checklist.word,      \'trustpass-yep\': checklist.word      }" ng-if="options.word">{{ ::options.wordLabel }}</li><li ng-class="{ \'trustpass-nope\': !checklist.lowercase, \'trustpass-yep\': checklist.lowercase }" ng-if="options.lowercase">{{ ::options.lowercaseLabel }}</li><li ng-class="{ \'trustpass-nope\': !checklist.uppercase, \'trustpass-yep\': checklist.uppercase }" ng-if="options.uppercase">{{ ::options.uppercaseLabel }}</li><li ng-class="{ \'trustpass-nope\': !checklist.number,    \'trustpass-yep\': checklist.number    }" ng-if="options.number">{{ ::options.numberLabel }}</li><li ng-class="{ \'trustpass-nope\': !checklist.special,   \'trustpass-yep\': checklist.special   }" ng-if="options.special">{{ ::options.specialLabel }}</li><li ng-class="{ \'trustpass-nope\': !checklist.minimum,   \'trustpass-yep\': checklist.minimum   }" ng-if="options.minimum">{{ ::options.minlength }} {{ ::options.minimumLabel }}</li><li ng-class="{ \'trustpass-nope\': !checklist.maximum,   \'trustpass-yep\': checklist.maximum   }" ng-if="options.maximum">{{ ::options.maxlength }} {{ ::options.maximumLabel }}</li></ul><div class="trustpass-done" ng-show="isVisible && isAllValid" ng-bind="options.messageDone"></div></section>');r[0].parentNode.insertBefore(c[0],r[0].nextSibling),e(c)(n),n.options.keepHeight&&t(function(){n.initialHeight=r[0].nextSibling.clientHeight+"px"})}return{restrict:"A",require:"ngModel",scope:{value:"=ngModel",trTrustpass:"=trTrustpass"},link:n}}angular.module("trTrustpass",[]).directive("trTrustpass",e),e.$inject=["$compile","$timeout"]}(),function(){"use strict";angular.module("ngPasswordStrength",[]).directive("ngPasswordStrength",function(){return{template:'<div class="progress {{valueClass.outter}}"><div class="{{valueClass.inner}} {{innerClass}}" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="100" ng-style="{width : ( value + \'%\' ) }"><span class="sr-only">{{value}}%</span></div></div>',restrict:"A",scope:{pwd:"=ngPasswordStrength",value:"=strength",innerClassPrefix:"@?",outterClassPrefix:"@?",innerClass:"@?",mode:"=?"},link:function(e){var t={foundation:{innerClass:"meter"},bootstrap:{innerClass:"progress-bar",innerClassPrefix:"progress-bar-"}},n=function(e){var t,n,r,i,o=function(e){for(var t=e.length-1,n="";t>=0;n+=e[t--]);return n},a={pos:{},neg:{}},s={pos:{},neg:{seqLetter:0,seqNumber:0,seqSymbol:0}},l=0,u="abcdefghijklmnopqrstuvwxyz",c="01234567890",d="\\!@#$%&/()=?¿";if(e){for(a.pos.lower=e.match(/[a-z]/g),a.pos.upper=e.match(/[A-Z]/g),a.pos.numbers=e.match(/\d/g),a.pos.symbols=e.match(/[$-\/:-?{-~!^_`\[\]]/g),a.pos.middleNumber=e.slice(1,-1).match(/\d/g),a.pos.middleSymbol=e.slice(1,-1).match(/[$-\/:-?{-~!^_`\[\]]/g),s.pos.lower=a.pos.lower?a.pos.lower.length:0,s.pos.upper=a.pos.upper?a.pos.upper.length:0,s.pos.numbers=a.pos.numbers?a.pos.numbers.length:0,s.pos.symbols=a.pos.symbols?a.pos.symbols.length:0,t=_.reduce(s.pos,function(e,t){return e+Math.min(1,t)},0),s.pos.numChars=e.length,t+=s.pos.numChars>=8?1:0,s.pos.requirements=t>=3?t:0,s.pos.middleNumber=a.pos.middleNumber?a.pos.middleNumber.length:0,s.pos.middleSymbol=a.pos.middleSymbol?a.pos.middleSymbol.length:0,a.neg.consecLower=e.match(/(?=([a-z]{2}))/g),a.neg.consecUpper=e.match(/(?=([A-Z]{2}))/g),a.neg.consecNumbers=e.match(/(?=(\d{2}))/g),a.neg.onlyNumbers=e.match(/^[0-9]*$/g),a.neg.onlyLetters=e.match(/^([a-z]|[A-Z])*$/g),s.neg.consecLower=a.neg.consecLower?a.neg.consecLower.length:0,s.neg.consecUpper=a.neg.consecUpper?a.neg.consecUpper.length:0,s.neg.consecNumbers=a.neg.consecNumbers?a.neg.consecNumbers.length:0,i=0;i<u.length-2;i++){var h=e.toLowerCase();r=u.substring(i,parseInt(i+3)),n=o(r),(-1!==h.indexOf(r)||-1!==h.indexOf(n))&&s.neg.seqLetter++}for(i=0;i<c.length-2;i++)r=c.substring(i,parseInt(i+3)),n=o(r),(-1!==e.indexOf(r)||-1!==e.toLowerCase().indexOf(n))&&s.neg.seqNumber++;for(i=0;i<d.length-2;i++)r=d.substring(i,parseInt(i+3)),n=o(r),(-1!==e.indexOf(r)||-1!==e.toLowerCase().indexOf(n))&&s.neg.seqSymbol++;s.neg.repeated=_.chain(e.toLowerCase().split("")).countBy(function(e){return e}).reject(function(e){return 1===e}).reduce(function(e,t){return e+t},0).value(),l+=4*s.pos.numChars,s.pos.upper&&(l+=2*(s.pos.numChars-s.pos.upper)),s.pos.lower&&(l+=2*(s.pos.numChars-s.pos.lower)),(s.pos.upper||s.pos.lower)&&(l+=4*s.pos.numbers),l+=6*s.pos.symbols,l+=2*(s.pos.middleSymbol+s.pos.middleNumber),l+=2*s.pos.requirements,l-=2*s.neg.consecLower,l-=2*s.neg.consecUpper,l-=2*s.neg.consecNumbers,l-=3*s.neg.seqNumber,l-=3*s.neg.seqLetter,l-=3*s.neg.seqSymbol,a.neg.onlyNumbers&&(l-=s.pos.numChars),a.neg.onlyLetters&&(l-=s.pos.numChars),s.neg.repeated&&(l-=s.neg.repeated/s.pos.numChars*10)}return Math.max(0,Math.min(100,Math.round(l)))},r=function(t){switch(Math.round(t/33)){case 0:case 1:return{inner:e.outterClassPrefix+"danger",outter:e.innerClassPrefix+"alert"};case 2:return{outter:e.outterClassPrefix+"warning",inner:e.innerClassPrefix+"warning"};case 3:return{outter:e.outterClassPrefix+"success",inner:e.innerClassPrefix+"success"}}};e.innerClassPrefix=e.innerClassPrefix||"",e.outterClassPrefix=e.outterClassPrefix||"",e.$watch("mode",function(){angular.extend(e,t[e.mode]),e.valueClass=r(e.value)}),e.$watch("pwd",function(){e.value=n(e.pwd),e.valueClass=r(e.value)})}}})}(),function(){function e(e,t){if(e!==t){var n=null===e,r=e===x,i=e===e,o=null===t,a=t===x,s=t===t;if(e>t&&!o||!i||n&&!a&&s||r&&s)return 1;if(t>e&&!n||!s||o&&!r&&i||a&&i)return-1}return 0}function t(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function n(e,t,n){if(t!==t)return p(e,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function r(e){return"function"==typeof e||!1}function i(e){return null==e?"":e+""}function o(e,t){for(var n=-1,r=e.length;++n<r&&t.indexOf(e.charAt(n))>-1;);return n}function a(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}function s(t,n){return e(t.criteria,n.criteria)||t.index-n.index}function l(t,n,r){for(var i=-1,o=t.criteria,a=n.criteria,s=o.length,l=r.length;++i<s;){var u=e(o[i],a[i]);if(u){if(i>=l)return u;var c=r[i];return u*("asc"===c||c===!0?1:-1)}}return t.index-n.index}function u(e){return Le[e]}function c(e){return Be[e]}function d(e,t,n){return t?e=Ve[e]:n&&(e=ze[e]),"\\"+e}function h(e){return"\\"+ze[e]}function p(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var o=e[i];if(o!==o)return i}return-1}function f(e){return!!e&&"object"==typeof e}function g(e){return 160>=e&&e>=9&&13>=e||32==e||160==e||5760==e||6158==e||e>=8192&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function m(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;)e[n]===t&&(e[n]=L,o[++i]=n);return o}function v(e,t){for(var n,r=-1,i=e.length,o=-1,a=[];++r<i;){var s=e[r],l=t?t(s,r,e):s;r&&n===l||(n=l,a[++o]=s)}return a}function y(e){for(var t=-1,n=e.length;++t<n&&g(e.charCodeAt(t)););return t}function b(e){for(var t=e.length;t--&&g(e.charCodeAt(t)););return t}function w(e){return He[e]}function $(g){function G(e){if(f(e)&&!Ss(e)&&!(e instanceof Le)){if(e instanceof ee)return e;if(ta.call(e,"__chain__")&&ta.call(e,"__wrapped__"))return pr(e)}return new ee(e)}function X(){}function ee(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function Le(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ea,this.__views__=[]}function Be(){var e=new Le(this.__wrapped__);return e.__actions__=nt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=nt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=nt(this.__views__),e}function He(){if(this.__filtered__){var e=new Le(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function We(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ss(e),r=0>t,i=n?e.length:0,o=zn(0,i,this.__views__),a=o.start,s=o.end,l=s-a,u=r?s:a-1,c=this.__iteratees__,d=c.length,h=0,p=ka(l,this.__takeCount__);if(!n||R>i||i==l&&p==l)return nn(e,this.__actions__);var f=[];e:for(;l--&&p>h;){u+=t;for(var g=-1,m=e[u];++g<d;){var v=c[g],y=v.iteratee,b=v.type,w=y(m);if(b==U)m=w;else if(!w){if(b==M)continue e;break e}}f[h++]=m}return f}function Ve(){this.__data__={}}function ze(e){return this.has(e)&&delete this.__data__[e]}function Ke(e){return"__proto__"==e?x:this.__data__[e]}function Ge(e){return"__proto__"!=e&&ta.call(this.__data__,e)}function Qe(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}function Je(e){var t=e?e.length:0;for(this.data={hash:va(null),set:new da};t--;)this.push(e[t])}function Ye(e,t){var n=e.data,r="string"==typeof t||ji(t)?n.set.has(t):n.hash[t];return r?0:-1}function Xe(e){var t=this.data;"string"==typeof e||ji(e)?t.set.add(e):t.hash[e]=!0}function tt(e,t){for(var n=-1,r=e.length,i=-1,o=t.length,a=Lo(r+o);++n<r;)a[n]=e[n];for(;++i<o;)a[n++]=t[i];return a}function nt(e,t){var n=-1,r=e.length;for(t||(t=Lo(r));++n<r;)t[n]=e[n];return t}function rt(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function it(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function ot(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function at(e,t,n,r){for(var i=-1,o=e.length,a=r,s=a;++i<o;){var l=e[i],u=+t(l);n(u,a)&&(a=u,s=l)}return s}function st(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[++i]=a)}return o}function lt(e,t){for(var n=-1,r=e.length,i=Lo(r);++n<r;)i[n]=t(e[n],n,e);return i}function ut(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function ct(e,t,n,r){var i=-1,o=e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function dt(e,t,n,r){var i=e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function ht(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function pt(e,t){for(var n=e.length,r=0;n--;)r+=+t(e[n])||0;return r}function ft(e,t){return e===x?t:e}function gt(e,t,n,r){return e!==x&&ta.call(r,n)?e:t}function mt(e,t,n){for(var r=-1,i=qs(t),o=i.length;++r<o;){var a=i[r],s=e[a],l=n(s,t[a],a,e,t);(l===l?l===s:s!==s)&&(s!==x||a in e)||(e[a]=l)}return e}function vt(e,t){return null==t?e:bt(t,qs(t),e)}function yt(e,t){for(var n=-1,r=null==e,i=!r&&Yn(e),o=i?e.length:0,a=t.length,s=Lo(a);++n<a;){var l=t[n];i?s[n]=Xn(l,o)?e[l]:x:s[n]=r?x:e[l]}return s}function bt(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var o=t[r];n[o]=e[o]}return n}function wt(e,t,n){var r=typeof e;return"function"==r?t===x?e:an(e,t,n):null==e?Eo:"object"==r?Ut(e):t===x?jo(e):qt(e,t)}function $t(e,t,n,r,i,o,a){var s;if(n&&(s=i?n(e,r,i):n(e)),s!==x)return s;if(!ji(e))return e;var l=Ss(e);if(l){if(s=Kn(e),!t)return nt(e,s)}else{var u=ra.call(e),c=u==K;if(u!=J&&u!=B&&(!c||i))return qe[u]?Qn(e,u,t):i?e:{};if(s=Gn(c?{}:e),!t)return vt(s,e)}o||(o=[]),a||(a=[]);for(var d=o.length;d--;)if(o[d]==e)return a[d];return o.push(e),a.push(s),(l?rt:Ot)(e,function(r,i){s[i]=$t(r,t,n,i,e,o,a)}),s}function xt(e,t,n){if("function"!=typeof e)throw new Jo(q);return ha(function(){e.apply(x,n)},t)}function kt(e,t){var r=e?e.length:0,i=[];if(!r)return i;var o=-1,a=Hn(),s=a===n,l=s&&t.length>=R?gn(t):null,u=t.length;l&&(a=Ye,s=!1,t=l);e:for(;++o<r;){var c=e[o];if(s&&c===c){for(var d=u;d--;)if(t[d]===c)continue e;i.push(c)}else a(t,c,0)<0&&i.push(c)}return i}function Ct(e,t){var n=!0;return Fa(e,function(e,r,i){return n=!!t(e,r,i)}),n}function _t(e,t,n,r){var i=r,o=i;return Fa(e,function(e,a,s){var l=+t(e,a,s);(n(l,i)||l===r&&l===o)&&(i=l,o=e)}),o}function At(e,t,n,r){var i=e.length;for(n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),r=r===x||r>i?i:+r||0,0>r&&(r+=i),i=n>r?0:r>>>0,n>>>=0;i>n;)e[n++]=t;return e}function Tt(e,t){var n=[];return Fa(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function Et(e,t,n,r){var i;return n(e,function(e,n,o){return t(e,n,o)?(i=r?n:e,!1):void 0}),i}function St(e,t,n,r){r||(r=[]);for(var i=-1,o=e.length;++i<o;){var a=e[i];f(a)&&Yn(a)&&(n||Ss(a)||_i(a))?t?St(a,t,n,r):ut(r,a):n||(r[r.length]=a)}return r}function Dt(e,t){return Ma(e,t,eo)}function Ot(e,t){return Ma(e,t,qs)}function Pt(e,t){return Ua(e,t,qs)}function Nt(e,t){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var a=t[n];Ni(e[a])&&(o[++i]=a)}return o}function jt(e,t,n){if(null!=e){n!==x&&n in dr(e)&&(t=[n]);for(var r=0,i=t.length;null!=e&&i>r;)e=e[t[r++]];return r&&r==i?e:x}}function It(e,t,n,r,i,o){return e===t?!0:null==e||null==t||!ji(e)&&!f(t)?e!==e&&t!==t:Ft(e,t,It,n,r,i,o)}function Ft(e,t,n,r,i,o,a){var s=Ss(e),l=Ss(t),u=H,c=H;s||(u=ra.call(e),u==B?u=J:u!=J&&(s=Hi(e))),l||(c=ra.call(t),c==B?c=J:c!=J&&(l=Hi(t)));var d=u==J,h=c==J,p=u==c;if(p&&!s&&!d)return Un(e,t,u);if(!i){var f=d&&ta.call(e,"__wrapped__"),g=h&&ta.call(t,"__wrapped__");if(f||g)return n(f?e.value():e,g?t.value():t,r,i,o,a)}if(!p)return!1;o||(o=[]),a||(a=[]);for(var m=o.length;m--;)if(o[m]==e)return a[m]==t;o.push(e),a.push(t);var v=(s?Mn:qn)(e,t,n,r,i,o,a);return o.pop(),a.pop(),v}function Rt(e,t,n){var r=t.length,i=r,o=!n;if(null==e)return!i;for(e=dr(e);r--;){var a=t[r];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<i;){a=t[r];var s=a[0],l=e[s],u=a[1];if(o&&a[2]){if(l===x&&!(s in e))return!1}else{var c=n?n(l,u,s):x;if(!(c===x?It(u,l,n,!0):c))return!1}}return!0}function Mt(e,t){var n=-1,r=Yn(e)?Lo(e.length):[];return Fa(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function Ut(e){var t=Wn(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null==e?!1:e[n]===r&&(r!==x||n in dr(e))}}return function(e){return Rt(e,t)}}function qt(e,t){var n=Ss(e),r=er(e)&&rr(t),i=e+"";return e=hr(e),function(o){if(null==o)return!1;var a=i;if(o=dr(o),(n||!r)&&!(a in o)){if(o=1==e.length?o:jt(o,Gt(e,0,-1)),null==o)return!1;a=Ar(e),o=dr(o)}return o[a]===t?t!==x||a in o:It(t,o[a],x,!0)}}function Lt(e,t,n,r,i){if(!ji(e))return e;var o=Yn(t)&&(Ss(t)||Hi(t)),a=o?x:qs(t);return rt(a||t,function(s,l){if(a&&(l=s,s=t[l]),f(s))r||(r=[]),i||(i=[]),Bt(e,t,l,Lt,n,r,i);else{var u=e[l],c=n?n(u,s,l,e,t):x,d=c===x;d&&(c=s),c===x&&(!o||l in e)||!d&&(c===c?c===u:u!==u)||(e[l]=c)}}),e}function Bt(e,t,n,r,i,o,a){for(var s=o.length,l=t[n];s--;)if(o[s]==l)return void(e[n]=a[s]);var u=e[n],c=i?i(u,l,n,e,t):x,d=c===x;d&&(c=l,Yn(l)&&(Ss(l)||Hi(l))?c=Ss(u)?u:Yn(u)?nt(u):[]:qi(l)||_i(l)?c=_i(u)?Gi(u):qi(u)?u:{}:d=!1),o.push(l),a.push(c),d?e[n]=r(c,l,i,o,a):(c===c?c!==u:u===u)&&(e[n]=c)}function Ht(e){return function(t){return null==t?x:t[e]}}function Wt(e){var t=e+"";return e=hr(e),function(n){return jt(n,e,t)}}function Vt(e,t){for(var n=e?t.length:0;n--;){var r=t[n];if(r!=i&&Xn(r)){var i=r;pa.call(e,r,1)}}return e}function zt(e,t){return e+ya(Aa()*(t-e+1))}function Kt(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function Gt(e,t,n){var r=-1,i=e.length;t=null==t?0:+t||0,0>t&&(t=-t>i?0:i+t),n=n===x||n>i?i:+n||0,0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Lo(i);++r<i;)o[r]=e[r+t];return o}function Qt(e,t){var n;return Fa(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function Jt(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function Yt(e,t,n){var r=Ln(),i=-1;t=lt(t,function(e){return r(e)});var o=Mt(e,function(e){var n=lt(t,function(t){return t(e)});return{criteria:n,index:++i,value:e}});return Jt(o,function(e,t){return l(e,t,n)})}function Xt(e,t){var n=0;return Fa(e,function(e,r,i){n+=+t(e,r,i)||0}),n}function Zt(e,t){var r=-1,i=Hn(),o=e.length,a=i===n,s=a&&o>=R,l=s?gn():null,u=[];l?(i=Ye,a=!1):(s=!1,l=t?[]:u);e:for(;++r<o;){var c=e[r],d=t?t(c,r,e):c;if(a&&c===c){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),u.push(c)}else i(l,d,0)<0&&((t||s)&&l.push(d),u.push(c))}return u}function en(e,t){for(var n=-1,r=t.length,i=Lo(r);++n<r;)i[n]=e[t[n]];return i}function tn(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Gt(e,r?0:o,r?o+1:i):Gt(e,r?o+1:0,r?i:o)}function nn(e,t){var n=e;n instanceof Le&&(n=n.value());for(var r=-1,i=t.length;++r<i;){var o=t[r];n=o.func.apply(o.thisArg,ut([n],o.args))}return n}function rn(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t===t&&Oa>=i){for(;i>r;){var o=r+i>>>1,a=e[o];(n?t>=a:t>a)&&null!==a?r=o+1:i=o}return i}return on(e,t,Eo,n)}function on(e,t,n,r){t=n(t);for(var i=0,o=e?e.length:0,a=t!==t,s=null===t,l=t===x;o>i;){var u=ya((i+o)/2),c=n(e[u]),d=c!==x,h=c===c;if(a)var p=h||r;else p=s?h&&d&&(r||null!=c):l?h&&(r||d):null==c?!1:r?t>=c:t>c;p?i=u+1:o=u}return ka(o,Da)}function an(e,t,n){if("function"!=typeof e)return Eo;if(t===x)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)};case 5:return function(n,r,i,o,a){return e.call(t,n,r,i,o,a)}}return function(){return e.apply(t,arguments)}}function sn(e){var t=new aa(e.byteLength),n=new fa(t);return n.set(new fa(e)),t}function ln(e,t,n){for(var r=n.length,i=-1,o=xa(e.length-r,0),a=-1,s=t.length,l=Lo(s+o);++a<s;)l[a]=t[a];for(;++i<r;)l[n[i]]=e[i];for(;o--;)l[a++]=e[i++];return l}function un(e,t,n){for(var r=-1,i=n.length,o=-1,a=xa(e.length-i,0),s=-1,l=t.length,u=Lo(a+l);++o<a;)u[o]=e[o];for(var c=o;++s<l;)u[c+s]=t[s];for(;++r<i;)u[c+n[r]]=e[o++];return u}function cn(e,t){return function(n,r,i){var o=t?t():{};if(r=Ln(r,i,3),Ss(n))for(var a=-1,s=n.length;++a<s;){var l=n[a];e(o,l,r(l,a,n),n)}else Fa(n,function(t,n,i){e(o,t,r(t,n,i),i)});return o}}function dn(e){return vi(function(t,n){var r=-1,i=null==t?0:n.length,o=i>2?n[i-2]:x,a=i>2?n[2]:x,s=i>1?n[i-1]:x;for("function"==typeof o?(o=an(o,s,5),i-=2):(o="function"==typeof s?s:x,i-=o?1:0),a&&Zn(n[0],n[1],a)&&(o=3>i?x:o,i=1);++r<i;){var l=n[r];l&&e(t,l,o)}return t})}function hn(e,t){return function(n,r){var i=n?Ba(n):0;if(!nr(i))return e(n,r);for(var o=t?i:-1,a=dr(n);(t?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function pn(e){return function(t,n,r){for(var i=dr(t),o=r(t),a=o.length,s=e?a:-1;e?s--:++s<a;){var l=o[s];if(n(i[l],l,i)===!1)break}return t}}function fn(e,t){function n(){var i=this&&this!==Ze&&this instanceof n?r:e;return i.apply(t,arguments)}var r=vn(e);return n}function gn(e){return va&&da?new Je(e):null}function mn(e){return function(t){for(var n=-1,r=_o(co(t)),i=r.length,o="";++n<i;)o=e(o,r[n],n);return o}}function vn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Ia(e.prototype),r=e.apply(n,t);return ji(r)?r:n}}function yn(e){function t(n,r,i){i&&Zn(n,r,i)&&(r=x);var o=Rn(n,e,x,x,x,x,x,r);return o.placeholder=t.placeholder,o}return t}function bn(e,t){return vi(function(n){var r=n[0];return null==r?r:(n.push(t),e.apply(x,n))})}function wn(e,t){return function(n,r,i){if(i&&Zn(n,r,i)&&(r=x),r=Ln(r,i,3),1==r.length){n=Ss(n)?n:cr(n);var o=at(n,r,e,t);if(!n.length||o!==t)return o}return _t(n,r,e,t)}}function $n(e,n){return function(r,i,o){if(i=Ln(i,o,3),Ss(r)){var a=t(r,i,n);return a>-1?r[a]:x}return Et(r,i,e)}}function xn(e){return function(n,r,i){return n&&n.length?(r=Ln(r,i,3),t(n,r,e)):-1}}function kn(e){return function(t,n,r){return n=Ln(n,r,3),Et(t,n,e,!0)}}function Cn(e){return function(){for(var t,n=arguments.length,r=e?n:-1,i=0,o=Lo(n);e?r--:++r<n;){var a=o[i++]=arguments[r];if("function"!=typeof a)throw new Jo(q);!t&&ee.prototype.thru&&"wrapper"==Bn(a)&&(t=new ee([],!0))}for(r=t?-1:n;++r<n;){a=o[r];var s=Bn(a),l="wrapper"==s?La(a):x;t=l&&tr(l[0])&&l[1]==(O|T|S|P)&&!l[4].length&&1==l[9]?t[Bn(l[0])].apply(t,l[3]):1==a.length&&tr(a)?t[s]():t.thru(a)}return function(){var e=arguments,r=e[0];if(t&&1==e.length&&Ss(r)&&r.length>=R)return t.plant(r).value();for(var i=0,a=n?o[i].apply(this,e):r;++i<n;)a=o[i].call(this,a);return a}}}function _n(e,t){return function(n,r,i){return"function"==typeof r&&i===x&&Ss(n)?e(n,r):t(n,an(r,i,3))}}function An(e){return function(t,n,r){return("function"!=typeof n||r!==x)&&(n=an(n,r,3)),e(t,n,eo)}}function Tn(e){return function(t,n,r){return("function"!=typeof n||r!==x)&&(n=an(n,r,3)),e(t,n)}}function En(e){return function(t,n,r){var i={};return n=Ln(n,r,3),Ot(t,function(t,r,o){var a=n(t,r,o);r=e?a:r,t=e?t:a,i[r]=t}),i}}function Sn(e){return function(t,n,r){return t=i(t),(e?t:"")+Nn(t,n,r)+(e?"":t)}}function Dn(e){var t=vi(function(n,r){var i=m(r,t.placeholder);return Rn(n,e,x,r,i)});return t}function On(e,t){return function(n,r,i,o){var a=arguments.length<3;return"function"==typeof r&&o===x&&Ss(n)?e(n,r,i,a):Kt(n,Ln(r,o,4),i,a,t)}}function Pn(e,t,n,r,i,o,a,s,l,u){function c(){for(var b=arguments.length,w=b,$=Lo(b);w--;)$[w]=arguments[w];if(r&&($=ln($,r,i)),o&&($=un($,o,a)),f||v){var k=c.placeholder,A=m($,k);if(b-=A.length,u>b){var T=s?nt(s):x,E=xa(u-b,0),O=f?A:x,P=f?x:A,N=f?$:x,j=f?x:$;t|=f?S:D,t&=~(f?D:S),g||(t&=~(C|_));var I=[e,t,n,N,O,j,P,T,l,E],F=Pn.apply(x,I);return tr(e)&&Ha(F,I),F.placeholder=k,F}}var R=h?n:this,M=p?R[e]:e;return s&&($=lr($,s)),d&&l<$.length&&($.length=l),this&&this!==Ze&&this instanceof c&&(M=y||vn(e)),M.apply(R,$)}var d=t&O,h=t&C,p=t&_,f=t&T,g=t&A,v=t&E,y=p?x:vn(e);return c}function Nn(e,t,n){var r=e.length;if(t=+t,r>=t||!wa(t))return"";var i=t-r;return n=null==n?" ":n+"",vo(n,ma(i/n.length)).slice(0,i)}function jn(e,t,n,r){function i(){for(var t=-1,s=arguments.length,l=-1,u=r.length,c=Lo(u+s);++l<u;)c[l]=r[l];for(;s--;)c[l++]=arguments[++t];var d=this&&this!==Ze&&this instanceof i?a:e;return d.apply(o?n:this,c)}var o=t&C,a=vn(e);return i}function In(e){var t=Vo[e];return function(e,n){return n=n===x?0:+n||0,n?(n=ua(10,n),t(e*n)/n):t(e)}}function Fn(e){return function(t,n,r,i){var o=Ln(r);return null==r&&o===wt?rn(t,n,e):on(t,n,o(r,i,1),e)}}function Rn(e,t,n,r,i,o,a,s){var l=t&_;if(!l&&"function"!=typeof e)throw new Jo(q);var u=r?r.length:0;if(u||(t&=~(S|D),r=i=x),u-=i?i.length:0,t&D){var c=r,d=i;r=i=x}var h=l?x:La(e),p=[e,t,n,r,i,c,d,o,a,s];if(h&&(ir(p,h),t=p[1],s=p[9]),p[9]=null==s?l?0:e.length:xa(s-u,0)||0,t==C)var f=fn(p[0],p[2]);else f=t!=S&&t!=(C|S)||p[4].length?Pn.apply(x,p):jn.apply(x,p);var g=h?qa:Ha;return g(f,p)}function Mn(e,t,n,r,i,o,a){var s=-1,l=e.length,u=t.length;if(l!=u&&!(i&&u>l))return!1;for(;++s<l;){var c=e[s],d=t[s],h=r?r(i?d:c,i?c:d,s):x;if(h!==x){if(h)continue;return!1}if(i){if(!ht(t,function(e){return c===e||n(c,e,r,i,o,a)}))return!1}else if(c!==d&&!n(c,d,r,i,o,a))return!1}return!0}function Un(e,t,n){switch(n){case W:case V:return+e==+t;case z:return e.name==t.name&&e.message==t.message;case Q:return e!=+e?t!=+t:e==+t;case Y:case Z:return e==t+""}return!1}function qn(e,t,n,r,i,o,a){var s=qs(e),l=s.length,u=qs(t),c=u.length;if(l!=c&&!i)return!1;for(var d=l;d--;){var h=s[d];if(!(i?h in t:ta.call(t,h)))return!1}for(var p=i;++d<l;){h=s[d];var f=e[h],g=t[h],m=r?r(i?g:f,i?f:g,h):x;if(!(m===x?n(f,g,r,i,o,a):m))return!1;p||(p="constructor"==h)}if(!p){var v=e.constructor,y=t.constructor;if(v!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y))return!1}return!0}function Ln(e,t,n){var r=G.callback||Ao;return r=r===Ao?wt:r,n?r(e,t,n):r}function Bn(e){for(var t=e.name+"",n=ja[t],r=n?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Hn(e,t,r){var i=G.indexOf||Cr;return i=i===Cr?n:i,e?i(e,t,r):i}function Wn(e){for(var t=to(e),n=t.length;n--;)t[n][2]=rr(t[n][1]);return t}function Vn(e,t){var n=null==e?x:e[t];return Ri(n)?n:x}function zn(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=ka(t,e+a);break;case"takeRight":e=xa(e,t-a)}}return{start:e,end:t}}function Kn(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ta.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Gn(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=Ko),new t}function Qn(e,t,n){var r=e.constructor;switch(t){case te:return sn(e);case W:case V:return new r(+e);case ne:case re:case ie:case oe:case ae:case se:case le:case ue:case ce:var i=e.buffer;return new r(n?sn(i):i,e.byteOffset,e.length);case Q:case Z:return new r(e);case Y:var o=new r(e.source,Se.exec(e));o.lastIndex=e.lastIndex}return o}function Jn(e,t,n){null==e||er(t,e)||(t=hr(t),e=1==t.length?e:jt(e,Gt(t,0,-1)),t=Ar(t));var r=null==e?e:e[t];return null==r?x:r.apply(e,n)}function Yn(e){return null!=e&&nr(Ba(e))}function Xn(e,t){return e="number"==typeof e||Pe.test(e)?+e:-1,t=null==t?Pa:t,e>-1&&e%1==0&&t>e}function Zn(e,t,n){if(!ji(n))return!1;var r=typeof t;if("number"==r?Yn(n)&&Xn(t,n.length):"string"==r&&t in n){var i=n[t];return e===e?e===i:i!==i}return!1}function er(e,t){var n=typeof e;if("string"==n&&xe.test(e)||"number"==n)return!0;if(Ss(e))return!1;var r=!$e.test(e);return r||null!=t&&e in dr(t)}function tr(e){var t=Bn(e),n=G[t];if("function"!=typeof n||!(t in Le.prototype))return!1;if(e===n)return!0;var r=La(n);return!!r&&e===r[0]}function nr(e){return"number"==typeof e&&e>-1&&e%1==0&&Pa>=e}function rr(e){return e===e&&!ji(e)}function ir(e,t){var n=e[1],r=t[1],i=n|r,o=O>i,a=r==O&&n==T||r==O&&n==P&&e[7].length<=t[8]||r==(O|P)&&n==T;if(!o&&!a)return e;r&C&&(e[2]=t[2],i|=n&C?0:A);var s=t[3];if(s){var l=e[3];e[3]=l?ln(l,s,t[4]):nt(s),e[4]=l?m(e[3],L):nt(t[4])}return s=t[5],s&&(l=e[5],e[5]=l?un(l,s,t[6]):nt(s),e[6]=l?m(e[5],L):nt(t[6])),s=t[7],s&&(e[7]=nt(s)),r&O&&(e[8]=null==e[8]?t[8]:ka(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function or(e,t){return e===x?t:Ds(e,t,or)}function ar(e,t){e=dr(e);for(var n=-1,r=t.length,i={};++n<r;){var o=t[n];o in e&&(i[o]=e[o])}return i}function sr(e,t){var n={};return Dt(e,function(e,r,i){t(e,r,i)&&(n[r]=e)}),n}function lr(e,t){for(var n=e.length,r=ka(t.length,n),i=nt(e);r--;){var o=t[r];e[r]=Xn(o,n)?i[o]:x}return e}function ur(e){for(var t=eo(e),n=t.length,r=n&&e.length,i=!!r&&nr(r)&&(Ss(e)||_i(e)),o=-1,a=[];++o<n;){var s=t[o];(i&&Xn(s,r)||ta.call(e,s))&&a.push(s)}return a}function cr(e){return null==e?[]:Yn(e)?ji(e)?e:Ko(e):oo(e)}function dr(e){return ji(e)?e:Ko(e)}function hr(e){if(Ss(e))return e;var t=[];return i(e).replace(ke,function(e,n,r,i){t.push(r?i.replace(Te,"$1"):n||e)}),t}function pr(e){return e instanceof Le?e.clone():new ee(e.__wrapped__,e.__chain__,nt(e.__actions__))}function fr(e,t,n){t=(n?Zn(e,t,n):null==t)?1:xa(ya(t)||1,1);for(var r=0,i=e?e.length:0,o=-1,a=Lo(ma(i/t));i>r;)a[++o]=Gt(e,r,r+=t);return a}function gr(e){for(var t=-1,n=e?e.length:0,r=-1,i=[];++t<n;){var o=e[t];o&&(i[++r]=o)}return i}function mr(e,t,n){var r=e?e.length:0;return r?((n?Zn(e,t,n):null==t)&&(t=1),Gt(e,0>t?0:t)):[]}function vr(e,t,n){var r=e?e.length:0;return r?((n?Zn(e,t,n):null==t)&&(t=1),t=r-(+t||0),Gt(e,0,0>t?0:t)):[]}function yr(e,t,n){return e&&e.length?tn(e,Ln(t,n,3),!0,!0):[]}function br(e,t,n){return e&&e.length?tn(e,Ln(t,n,3),!0):[]}function wr(e,t,n,r){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&Zn(e,t,n)&&(n=0,r=i),At(e,t,n,r)):[]}function $r(e){return e?e[0]:x}function xr(e,t,n){var r=e?e.length:0;return n&&Zn(e,t,n)&&(t=!1),r?St(e,t):[]}function kr(e){var t=e?e.length:0;return t?St(e,!0):[]}function Cr(e,t,r){var i=e?e.length:0;if(!i)return-1;if("number"==typeof r)r=0>r?xa(i+r,0):r;else if(r){var o=rn(e,t);return i>o&&(t===t?t===e[o]:e[o]!==e[o])?o:-1}return n(e,t,r||0)}function _r(e){return vr(e,1)}function Ar(e){var t=e?e.length:0;return t?e[t-1]:x}function Tr(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(0>n?xa(r+n,0):ka(n||0,r-1))+1;else if(n){i=rn(e,t,!0)-1;var o=e[i];return(t===t?t===o:o!==o)?i:-1}if(t!==t)return p(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1}function Er(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,r=Hn(),i=e.length;++n<i;)for(var o=0,a=e[n];(o=r(t,a,o))>-1;)pa.call(t,o,1);return t}function Sr(e,t,n){var r=[];if(!e||!e.length)return r;var i=-1,o=[],a=e.length;for(t=Ln(t,n,3);++i<a;){var s=e[i];t(s,i,e)&&(r.push(s),o.push(i))}return Vt(e,o),r}function Dr(e){return mr(e,1)}function Or(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&Zn(e,t,n)&&(t=0,n=r),Gt(e,t,n)):[]}function Pr(e,t,n){var r=e?e.length:0;return r?((n?Zn(e,t,n):null==t)&&(t=1),Gt(e,0,0>t?0:t)):[]}function Nr(e,t,n){var r=e?e.length:0;return r?((n?Zn(e,t,n):null==t)&&(t=1),t=r-(+t||0),Gt(e,0>t?0:t)):[]}function jr(e,t,n){return e&&e.length?tn(e,Ln(t,n,3),!1,!0):[]}function Ir(e,t,n){return e&&e.length?tn(e,Ln(t,n,3)):[]}function Fr(e,t,r,i){var o=e?e.length:0;if(!o)return[];null!=t&&"boolean"!=typeof t&&(i=r,r=Zn(e,t,i)?x:t,t=!1);var a=Ln();return(null!=r||a!==wt)&&(r=a(r,i,3)),t&&Hn()===n?v(e,r):Zt(e,r)}function Rr(e){if(!e||!e.length)return[];var t=-1,n=0;e=st(e,function(e){return Yn(e)?(n=xa(e.length,n),!0):void 0});for(var r=Lo(n);++t<n;)r[t]=lt(e,Ht(t));return r}function Mr(e,t,n){var r=e?e.length:0;if(!r)return[];var i=Rr(e);return null==t?i:(t=an(t,n,4),lt(i,function(e){return ct(e,t,x,!0)}))}function Ur(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Yn(n))var r=r?ut(kt(r,n),kt(n,r)):n}return r?Zt(r):[]}function qr(e,t){var n=-1,r=e?e.length:0,i={};for(!r||t||Ss(e[0])||(t=[]);++n<r;){var o=e[n];t?i[o]=t[n]:o&&(i[o[0]]=o[1])}return i}function Lr(e){var t=G(e);return t.__chain__=!0,t}function Br(e,t,n){return t.call(n,e),e}function Hr(e,t,n){return t.call(n,e)}function Wr(){return Lr(this)}function Vr(){return new ee(this.value(),this.__chain__)}function zr(e){for(var t,n=this;n instanceof X;){var r=pr(n);t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t}function Kr(){var e=this.__wrapped__,t=function(e){return e.reverse()};if(e instanceof Le){var n=e;return this.__actions__.length&&(n=new Le(this)),n=n.reverse(),n.__actions__.push({func:Hr,args:[t],thisArg:x}),new ee(n,this.__chain__)}return this.thru(t)}function Gr(){return this.value()+""}function Qr(){return nn(this.__wrapped__,this.__actions__)}function Jr(e,t,n){var r=Ss(e)?ot:Ct;return n&&Zn(e,t,n)&&(t=x),("function"!=typeof t||n!==x)&&(t=Ln(t,n,3)),r(e,t)}function Yr(e,t,n){var r=Ss(e)?st:Tt;return t=Ln(t,n,3),r(e,t)}function Xr(e,t){return is(e,Ut(t))}function Zr(e,t,n,r){var i=e?Ba(e):0;return nr(i)||(e=oo(e),i=e.length),n="number"!=typeof n||r&&Zn(t,n,r)?0:0>n?xa(i+n,0):n||0,"string"==typeof e||!Ss(e)&&Bi(e)?i>=n&&e.indexOf(t,n)>-1:!!i&&Hn(e,t,n)>-1}function ei(e,t,n){var r=Ss(e)?lt:Mt;return t=Ln(t,n,3),r(e,t)}function ti(e,t){return ei(e,jo(t))}function ni(e,t,n){var r=Ss(e)?st:Tt;return t=Ln(t,n,3),r(e,function(e,n,r){return!t(e,n,r)})}function ri(e,t,n){if(n?Zn(e,t,n):null==t){e=cr(e);var r=e.length;return r>0?e[zt(0,r-1)]:x}var i=-1,o=Ki(e),r=o.length,a=r-1;for(t=ka(0>t?0:+t||0,r);++i<t;){var s=zt(i,a),l=o[s];o[s]=o[i],o[i]=l}return o.length=t,o}function ii(e){return ri(e,Ea)}function oi(e){var t=e?Ba(e):0;return nr(t)?t:qs(e).length}function ai(e,t,n){var r=Ss(e)?ht:Qt;return n&&Zn(e,t,n)&&(t=x),("function"!=typeof t||n!==x)&&(t=Ln(t,n,3)),r(e,t)}function si(e,t,n){if(null==e)return[];n&&Zn(e,t,n)&&(t=x);var r=-1;t=Ln(t,n,3);var i=Mt(e,function(e,n,i){return{criteria:t(e,n,i),index:++r,value:e}});return Jt(i,s)}function li(e,t,n,r){return null==e?[]:(r&&Zn(t,n,r)&&(n=x),Ss(t)||(t=null==t?[]:[t]),Ss(n)||(n=null==n?[]:[n]),Yt(e,t,n))}function ui(e,t){return Yr(e,Ut(t))}function ci(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new Jo(q);
var n=e;e=t,t=n}return e=wa(e=+e)?e:0,function(){return--e<1?t.apply(this,arguments):void 0}}function di(e,t,n){return n&&Zn(e,t,n)&&(t=x),t=e&&null==t?e.length:xa(+t||0,0),Rn(e,O,x,x,x,x,t)}function hi(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new Jo(q);var r=e;e=t,t=r}return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=x),n}}function pi(e,t,n){function r(){p&&sa(p),u&&sa(u),g=0,u=p=f=x}function i(t,n){n&&sa(n),u=p=f=x,t&&(g=gs(),c=e.apply(h,l),p||u||(l=h=x))}function o(){var e=t-(gs()-d);0>=e||e>t?i(f,u):p=ha(o,e)}function a(){i(v,p)}function s(){if(l=arguments,d=gs(),h=this,f=v&&(p||!y),m===!1)var n=y&&!p;else{u||y||(g=d);var r=m-(d-g),i=0>=r||r>m;i?(u&&(u=sa(u)),g=d,c=e.apply(h,l)):u||(u=ha(a,r))}return i&&p?p=sa(p):p||t===m||(p=ha(o,t)),n&&(i=!0,c=e.apply(h,l)),!i||p||u||(l=h=x),c}var l,u,c,d,h,p,f,g=0,m=!1,v=!0;if("function"!=typeof e)throw new Jo(q);if(t=0>t?0:+t||0,n===!0){var y=!0;v=!1}else ji(n)&&(y=!!n.leading,m="maxWait"in n&&xa(+n.maxWait||0,t),v="trailing"in n?!!n.trailing:v);return s.cancel=r,s}function fi(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new Jo(q);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new fi.Cache,n}function gi(e){if("function"!=typeof e)throw new Jo(q);return function(){return!e.apply(this,arguments)}}function mi(e){return hi(2,e)}function vi(e,t){if("function"!=typeof e)throw new Jo(q);return t=xa(t===x?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,i=xa(n.length-t,0),o=Lo(i);++r<i;)o[r]=n[t+r];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,n[0],o);case 2:return e.call(this,n[0],n[1],o)}var a=Lo(t+1);for(r=-1;++r<t;)a[r]=n[r];return a[t]=o,e.apply(this,a)}}function yi(e){if("function"!=typeof e)throw new Jo(q);return function(t){return e.apply(this,t)}}function bi(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Jo(q);return n===!1?r=!1:ji(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),pi(e,t,{leading:r,maxWait:+t,trailing:i})}function wi(e,t){return t=null==t?Eo:t,Rn(t,S,x,[e],[])}function $i(e,t,n,r){return t&&"boolean"!=typeof t&&Zn(e,t,n)?t=!1:"function"==typeof t&&(r=n,n=t,t=!1),"function"==typeof n?$t(e,t,an(n,r,3)):$t(e,t)}function xi(e,t,n){return"function"==typeof t?$t(e,!0,an(t,n,3)):$t(e,!0)}function ki(e,t){return e>t}function Ci(e,t){return e>=t}function _i(e){return f(e)&&Yn(e)&&ta.call(e,"callee")&&!ca.call(e,"callee")}function Ai(e){return e===!0||e===!1||f(e)&&ra.call(e)==W}function Ti(e){return f(e)&&ra.call(e)==V}function Ei(e){return!!e&&1===e.nodeType&&f(e)&&!qi(e)}function Si(e){return null==e?!0:Yn(e)&&(Ss(e)||Bi(e)||_i(e)||f(e)&&Ni(e.splice))?!e.length:!qs(e).length}function Di(e,t,n,r){n="function"==typeof n?an(n,r,3):x;var i=n?n(e,t):x;return i===x?It(e,t,n):!!i}function Oi(e){return f(e)&&"string"==typeof e.message&&ra.call(e)==z}function Pi(e){return"number"==typeof e&&wa(e)}function Ni(e){return ji(e)&&ra.call(e)==K}function ji(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ii(e,t,n,r){return n="function"==typeof n?an(n,r,3):x,Rt(e,Wn(t),n)}function Fi(e){return Ui(e)&&e!=+e}function Ri(e){return null==e?!1:Ni(e)?oa.test(ea.call(e)):f(e)&&Oe.test(e)}function Mi(e){return null===e}function Ui(e){return"number"==typeof e||f(e)&&ra.call(e)==Q}function qi(e){var t;if(!f(e)||ra.call(e)!=J||_i(e)||!ta.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var n;return Dt(e,function(e,t){n=t}),n===x||ta.call(e,n)}function Li(e){return ji(e)&&ra.call(e)==Y}function Bi(e){return"string"==typeof e||f(e)&&ra.call(e)==Z}function Hi(e){return f(e)&&nr(e.length)&&!!Ue[ra.call(e)]}function Wi(e){return e===x}function Vi(e,t){return t>e}function zi(e,t){return t>=e}function Ki(e){var t=e?Ba(e):0;return nr(t)?t?nt(e):[]:oo(e)}function Gi(e){return bt(e,eo(e))}function Qi(e,t,n){var r=Ia(e);return n&&Zn(e,t,n)&&(t=x),t?vt(r,t):r}function Ji(e){return Nt(e,eo(e))}function Yi(e,t,n){var r=null==e?x:jt(e,hr(t),t+"");return r===x?n:r}function Xi(e,t){if(null==e)return!1;var n=ta.call(e,t);if(!n&&!er(t)){if(t=hr(t),e=1==t.length?e:jt(e,Gt(t,0,-1)),null==e)return!1;t=Ar(t),n=ta.call(e,t)}return n||nr(e.length)&&Xn(t,e.length)&&(Ss(e)||_i(e))}function Zi(e,t,n){n&&Zn(e,t,n)&&(t=x);for(var r=-1,i=qs(e),o=i.length,a={};++r<o;){var s=i[r],l=e[s];t?ta.call(a,l)?a[l].push(s):a[l]=[s]:a[l]=s}return a}function eo(e){if(null==e)return[];ji(e)||(e=Ko(e));var t=e.length;t=t&&nr(t)&&(Ss(e)||_i(e))&&t||0;for(var n=e.constructor,r=-1,i="function"==typeof n&&n.prototype===e,o=Lo(t),a=t>0;++r<t;)o[r]=r+"";for(var s in e)a&&Xn(s,t)||"constructor"==s&&(i||!ta.call(e,s))||o.push(s);return o}function to(e){e=dr(e);for(var t=-1,n=qs(e),r=n.length,i=Lo(r);++t<r;){var o=n[t];i[t]=[o,e[o]]}return i}function no(e,t,n){var r=null==e?x:e[t];return r===x&&(null==e||er(t,e)||(t=hr(t),e=1==t.length?e:jt(e,Gt(t,0,-1)),r=null==e?x:e[Ar(t)]),r=r===x?n:r),Ni(r)?r.call(e):r}function ro(e,t,n){if(null==e)return e;var r=t+"";t=null!=e[r]||er(t,e)?[r]:hr(t);for(var i=-1,o=t.length,a=o-1,s=e;null!=s&&++i<o;){var l=t[i];ji(s)&&(i==a?s[l]=n:null==s[l]&&(s[l]=Xn(t[i+1])?[]:{})),s=s[l]}return e}function io(e,t,n,r){var i=Ss(e)||Hi(e);if(t=Ln(t,r,4),null==n)if(i||ji(e)){var o=e.constructor;n=i?Ss(e)?new o:[]:Ia(Ni(o)?o.prototype:x)}else n={};return(i?rt:Ot)(e,function(e,r,i){return t(n,e,r,i)}),n}function oo(e){return en(e,qs(e))}function ao(e){return en(e,eo(e))}function so(e,t,n){return t=+t||0,n===x?(n=t,t=0):n=+n||0,e>=ka(t,n)&&e<xa(t,n)}function lo(e,t,n){n&&Zn(e,t,n)&&(t=n=x);var r=null==e,i=null==t;if(null==n&&(i&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,i=!0)),r&&i&&(t=1,i=!1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var o=Aa();return ka(e+o*(t-e+la("1e-"+((o+"").length-1))),t)}return zt(e,t)}function uo(e){return e=i(e),e&&e.charAt(0).toUpperCase()+e.slice(1)}function co(e){return e=i(e),e&&e.replace(Ne,u).replace(Ae,"")}function ho(e,t,n){e=i(e),t+="";var r=e.length;return n=n===x?r:ka(0>n?0:+n||0,r),n-=t.length,n>=0&&e.indexOf(t,n)==n}function po(e){return e=i(e),e&&ve.test(e)?e.replace(ge,c):e}function fo(e){return e=i(e),e&&_e.test(e)?e.replace(Ce,d):e||"(?:)"}function go(e,t,n){e=i(e),t=+t;var r=e.length;if(r>=t||!wa(t))return e;var o=(t-r)/2,a=ya(o),s=ma(o);return n=Nn("",s,n),n.slice(0,a)+e+n}function mo(e,t,n){return(n?Zn(e,t,n):null==t)?t=0:t&&(t=+t),e=wo(e),_a(e,t||(De.test(e)?16:10))}function vo(e,t){var n="";if(e=i(e),t=+t,1>t||!e||!wa(t))return n;do t%2&&(n+=e),t=ya(t/2),e+=e;while(t);return n}function yo(e,t,n){return e=i(e),n=null==n?0:ka(0>n?0:+n||0,e.length),e.lastIndexOf(t,n)==n}function bo(e,t,n){var r=G.templateSettings;n&&Zn(e,t,n)&&(t=n=x),e=i(e),t=mt(vt({},n||t),r,gt);var o,a,s=mt(vt({},t.imports),r.imports,gt),l=qs(s),u=en(s,l),c=0,d=t.interpolate||je,p="__p += '",f=Go((t.escape||je).source+"|"+d.source+"|"+(d===we?Ee:je).source+"|"+(t.evaluate||je).source+"|$","g"),g="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Me+"]")+"\n";e.replace(f,function(t,n,r,i,s,l){return r||(r=i),p+=e.slice(c,l).replace(Ie,h),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),s&&(a=!0,p+="';\n"+s+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t}),p+="';\n";var m=t.variable;m||(p="with (obj) {\n"+p+"\n}\n"),p=(a?p.replace(de,""):p).replace(he,"$1").replace(pe,"$1;"),p="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var v=Ys(function(){return Wo(l,g+"return "+p).apply(x,u)});if(v.source=p,Oi(v))throw v;return v}function wo(e,t,n){var r=e;return(e=i(e))?(n?Zn(r,t,n):null==t)?e.slice(y(e),b(e)+1):(t+="",e.slice(o(e,t),a(e,t)+1)):e}function $o(e,t,n){var r=e;return e=i(e),e?(n?Zn(r,t,n):null==t)?e.slice(y(e)):e.slice(o(e,t+"")):e}function xo(e,t,n){var r=e;return e=i(e),e?(n?Zn(r,t,n):null==t)?e.slice(0,b(e)+1):e.slice(0,a(e,t+"")+1):e}function ko(e,t,n){n&&Zn(e,t,n)&&(t=x);var r=N,o=j;if(null!=t)if(ji(t)){var a="separator"in t?t.separator:a;r="length"in t?+t.length||0:r,o="omission"in t?i(t.omission):o}else r=+t||0;if(e=i(e),r>=e.length)return e;var s=r-o.length;if(1>s)return o;var l=e.slice(0,s);if(null==a)return l+o;if(Li(a)){if(e.slice(s).search(a)){var u,c,d=e.slice(0,s);for(a.global||(a=Go(a.source,(Se.exec(a)||"")+"g")),a.lastIndex=0;u=a.exec(d);)c=u.index;l=l.slice(0,null==c?s:c)}}else if(e.indexOf(a,s)!=s){var h=l.lastIndexOf(a);h>-1&&(l=l.slice(0,h))}return l+o}function Co(e){return e=i(e),e&&me.test(e)?e.replace(fe,w):e}function _o(e,t,n){return n&&Zn(e,t,n)&&(t=x),e=i(e),e.match(t||Fe)||[]}function Ao(e,t,n){return n&&Zn(e,t,n)&&(t=x),f(e)?So(e):wt(e,t)}function To(e){return function(){return e}}function Eo(e){return e}function So(e){return Ut($t(e,!0))}function Do(e,t){return qt(e,$t(t,!0))}function Oo(e,t,n){if(null==n){var r=ji(t),i=r?qs(t):x,o=i&&i.length?Nt(t,i):x;(o?o.length:r)||(o=!1,n=t,t=e,e=this)}o||(o=Nt(t,qs(t)));var a=!0,s=-1,l=Ni(e),u=o.length;n===!1?a=!1:ji(n)&&"chain"in n&&(a=n.chain);for(;++s<u;){var c=o[s],d=t[c];e[c]=d,l&&(e.prototype[c]=function(t){return function(){var n=this.__chain__;if(a||n){var r=e(this.__wrapped__),i=r.__actions__=nt(this.__actions__);return i.push({func:t,args:arguments,thisArg:e}),r.__chain__=n,r}return t.apply(e,ut([this.value()],arguments))}}(d))}return e}function Po(){return Ze._=ia,this}function No(){}function jo(e){return er(e)?Ht(e):Wt(e)}function Io(e){return function(t){return jt(e,hr(t),t+"")}}function Fo(e,t,n){n&&Zn(e,t,n)&&(t=n=x),e=+e||0,n=null==n?1:+n||0,null==t?(t=e,e=0):t=+t||0;for(var r=-1,i=xa(ma((t-e)/(n||1)),0),o=Lo(i);++r<i;)o[r]=e,e+=n;return o}function Ro(e,t,n){if(e=ya(e),1>e||!wa(e))return[];var r=-1,i=Lo(ka(e,Sa));for(t=an(t,n,1);++r<e;)Sa>r?i[r]=t(r):t(r);return i}function Mo(e){var t=++na;return i(e)+t}function Uo(e,t){return(+e||0)+(+t||0)}function qo(e,t,n){return n&&Zn(e,t,n)&&(t=x),t=Ln(t,n,3),1==t.length?pt(Ss(e)?e:cr(e),t):Xt(e,t)}g=g?et.defaults(Ze.Object(),g,et.pick(Ze,Re)):Ze;var Lo=g.Array,Bo=g.Date,Ho=g.Error,Wo=g.Function,Vo=g.Math,zo=g.Number,Ko=g.Object,Go=g.RegExp,Qo=g.String,Jo=g.TypeError,Yo=Lo.prototype,Xo=Ko.prototype,Zo=Qo.prototype,ea=Wo.prototype.toString,ta=Xo.hasOwnProperty,na=0,ra=Xo.toString,ia=Ze._,oa=Go("^"+ea.call(ta).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),aa=g.ArrayBuffer,sa=g.clearTimeout,la=g.parseFloat,ua=Vo.pow,ca=Xo.propertyIsEnumerable,da=Vn(g,"Set"),ha=g.setTimeout,pa=Yo.splice,fa=g.Uint8Array,ga=Vn(g,"WeakMap"),ma=Vo.ceil,va=Vn(Ko,"create"),ya=Vo.floor,ba=Vn(Lo,"isArray"),wa=g.isFinite,$a=Vn(Ko,"keys"),xa=Vo.max,ka=Vo.min,Ca=Vn(Bo,"now"),_a=g.parseInt,Aa=Vo.random,Ta=zo.NEGATIVE_INFINITY,Ea=zo.POSITIVE_INFINITY,Sa=4294967295,Da=Sa-1,Oa=Sa>>>1,Pa=9007199254740991,Na=ga&&new ga,ja={};G.support={};G.templateSettings={escape:ye,evaluate:be,interpolate:we,variable:"",imports:{_:G}};var Ia=function(){function e(){}return function(t){if(ji(t)){e.prototype=t;var n=new e;e.prototype=x}return n||{}}}(),Fa=hn(Ot),Ra=hn(Pt,!0),Ma=pn(),Ua=pn(!0),qa=Na?function(e,t){return Na.set(e,t),e}:Eo,La=Na?function(e){return Na.get(e)}:No,Ba=Ht("length"),Ha=function(){var e=0,t=0;return function(n,r){var i=gs(),o=F-(i-t);if(t=i,o>0){if(++e>=I)return n}else e=0;return qa(n,r)}}(),Wa=vi(function(e,t){return f(e)&&Yn(e)?kt(e,St(t,!1,!0)):[]}),Va=xn(),za=xn(!0),Ka=vi(function(e){for(var t=e.length,r=t,i=Lo(d),o=Hn(),a=o===n,s=[];r--;){var l=e[r]=Yn(l=e[r])?l:[];i[r]=a&&l.length>=120?gn(r&&l):null}var u=e[0],c=-1,d=u?u.length:0,h=i[0];e:for(;++c<d;)if(l=u[c],(h?Ye(h,l):o(s,l,0))<0){for(var r=t;--r;){var p=i[r];if((p?Ye(p,l):o(e[r],l,0))<0)continue e}h&&h.push(l),s.push(l)}return s}),Ga=vi(function(t,n){n=St(n);var r=yt(t,n);return Vt(t,n.sort(e)),r}),Qa=Fn(),Ja=Fn(!0),Ya=vi(function(e){return Zt(St(e,!1,!0))}),Xa=vi(function(e,t){return Yn(e)?kt(e,t):[]}),Za=vi(Rr),es=vi(function(e){var t=e.length,n=t>2?e[t-2]:x,r=t>1?e[t-1]:x;return t>2&&"function"==typeof n?t-=2:(n=t>1&&"function"==typeof r?(--t,r):x,r=x),e.length=t,Mr(e,n,r)}),ts=vi(function(e){return e=St(e),this.thru(function(t){return tt(Ss(t)?t:[dr(t)],e)})}),ns=vi(function(e,t){return yt(e,St(t))}),rs=cn(function(e,t,n){ta.call(e,n)?++e[n]:e[n]=1}),is=$n(Fa),os=$n(Ra,!0),as=_n(rt,Fa),ss=_n(it,Ra),ls=cn(function(e,t,n){ta.call(e,n)?e[n].push(t):e[n]=[t]}),us=cn(function(e,t,n){e[n]=t}),cs=vi(function(e,t,n){var r=-1,i="function"==typeof t,o=er(t),a=Yn(e)?Lo(e.length):[];return Fa(e,function(e){var s=i?t:o&&null!=e?e[t]:x;a[++r]=s?s.apply(e,n):Jn(e,t,n)}),a}),ds=cn(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),hs=On(ct,Fa),ps=On(dt,Ra),fs=vi(function(e,t){if(null==e)return[];var n=t[2];return n&&Zn(t[0],t[1],n)&&(t.length=1),Yt(e,St(t),[])}),gs=Ca||function(){return(new Bo).getTime()},ms=vi(function(e,t,n){var r=C;if(n.length){var i=m(n,ms.placeholder);r|=S}return Rn(e,r,t,n,i)}),vs=vi(function(e,t){t=t.length?St(t):Ji(e);for(var n=-1,r=t.length;++n<r;){var i=t[n];e[i]=Rn(e[i],C,e)}return e}),ys=vi(function(e,t,n){var r=C|_;if(n.length){var i=m(n,ys.placeholder);r|=S}return Rn(t,r,e,n,i)}),bs=yn(T),ws=yn(E),$s=vi(function(e,t){return xt(e,1,t)}),xs=vi(function(e,t,n){return xt(e,t,n)}),ks=Cn(),Cs=Cn(!0),_s=vi(function(e,t){if(t=St(t),"function"!=typeof e||!ot(t,r))throw new Jo(q);var n=t.length;return vi(function(r){for(var i=ka(r.length,n);i--;)r[i]=t[i](r[i]);return e.apply(this,r)})}),As=Dn(S),Ts=Dn(D),Es=vi(function(e,t){return Rn(e,P,x,x,x,St(t))}),Ss=ba||function(e){return f(e)&&nr(e.length)&&ra.call(e)==H},Ds=dn(Lt),Os=dn(function(e,t,n){return n?mt(e,t,n):vt(e,t)}),Ps=bn(Os,ft),Ns=bn(Ds,or),js=kn(Ot),Is=kn(Pt),Fs=An(Ma),Rs=An(Ua),Ms=Tn(Ot),Us=Tn(Pt),qs=$a?function(e){var t=null==e?x:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&Yn(e)?ur(e):ji(e)?$a(e):[]}:ur,Ls=En(!0),Bs=En(),Hs=vi(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=lt(St(t),Qo);return ar(e,kt(eo(e),t))}var n=an(t[0],t[1],3);return sr(e,function(e,t,r){return!n(e,t,r)})}),Ws=vi(function(e,t){return null==e?{}:"function"==typeof t[0]?sr(e,an(t[0],t[1],3)):ar(e,St(t))}),Vs=mn(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}),zs=mn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Ks=Sn(),Gs=Sn(!0),Qs=mn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Js=mn(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Ys=vi(function(e,t){try{return e.apply(x,t)}catch(n){return Oi(n)?n:new Ho(n)}}),Xs=vi(function(e,t){return function(n){return Jn(n,e,t)}}),Zs=vi(function(e,t){return function(n){return Jn(e,n,t)}}),el=In("ceil"),tl=In("floor"),nl=wn(ki,Ta),rl=wn(Vi,Ea),il=In("round");return G.prototype=X.prototype,ee.prototype=Ia(X.prototype),ee.prototype.constructor=ee,Le.prototype=Ia(X.prototype),Le.prototype.constructor=Le,Ve.prototype["delete"]=ze,Ve.prototype.get=Ke,Ve.prototype.has=Ge,Ve.prototype.set=Qe,Je.prototype.push=Xe,fi.Cache=Ve,G.after=ci,G.ary=di,G.assign=Os,G.at=ns,G.before=hi,G.bind=ms,G.bindAll=vs,G.bindKey=ys,G.callback=Ao,G.chain=Lr,G.chunk=fr,G.compact=gr,G.constant=To,G.countBy=rs,G.create=Qi,G.curry=bs,G.curryRight=ws,G.debounce=pi,G.defaults=Ps,G.defaultsDeep=Ns,G.defer=$s,G.delay=xs,G.difference=Wa,G.drop=mr,G.dropRight=vr,G.dropRightWhile=yr,G.dropWhile=br,G.fill=wr,G.filter=Yr,G.flatten=xr,G.flattenDeep=kr,G.flow=ks,G.flowRight=Cs,G.forEach=as,G.forEachRight=ss,G.forIn=Fs,G.forInRight=Rs,G.forOwn=Ms,G.forOwnRight=Us,G.functions=Ji,G.groupBy=ls,G.indexBy=us,G.initial=_r,G.intersection=Ka,G.invert=Zi,G.invoke=cs,G.keys=qs,G.keysIn=eo,G.map=ei,G.mapKeys=Ls,G.mapValues=Bs,G.matches=So,G.matchesProperty=Do,G.memoize=fi,G.merge=Ds,G.method=Xs,G.methodOf=Zs,G.mixin=Oo,G.modArgs=_s,G.negate=gi,G.omit=Hs,G.once=mi,G.pairs=to,G.partial=As,G.partialRight=Ts,G.partition=ds,G.pick=Ws,G.pluck=ti,G.property=jo,G.propertyOf=Io,G.pull=Er,G.pullAt=Ga,G.range=Fo,G.rearg=Es,G.reject=ni,G.remove=Sr,G.rest=Dr,G.restParam=vi,G.set=ro,G.shuffle=ii,G.slice=Or,G.sortBy=si,G.sortByAll=fs,G.sortByOrder=li,G.spread=yi,G.take=Pr,G.takeRight=Nr,G.takeRightWhile=jr,G.takeWhile=Ir,G.tap=Br,G.throttle=bi,G.thru=Hr,G.times=Ro,G.toArray=Ki,G.toPlainObject=Gi,G.transform=io,G.union=Ya,G.uniq=Fr,G.unzip=Rr,G.unzipWith=Mr,G.values=oo,G.valuesIn=ao,G.where=ui,G.without=Xa,G.wrap=wi,G.xor=Ur,G.zip=Za,G.zipObject=qr,G.zipWith=es,G.backflow=Cs,G.collect=ei,G.compose=Cs,G.each=as,G.eachRight=ss,G.extend=Os,G.iteratee=Ao,G.methods=Ji,G.object=qr,G.select=Yr,G.tail=Dr,G.unique=Fr,Oo(G,G),G.add=Uo,G.attempt=Ys,G.camelCase=Vs,G.capitalize=uo,G.ceil=el,G.clone=$i,G.cloneDeep=xi,G.deburr=co,G.endsWith=ho,G.escape=po,G.escapeRegExp=fo,G.every=Jr,G.find=is,G.findIndex=Va,G.findKey=js,G.findLast=os,G.findLastIndex=za,G.findLastKey=Is,G.findWhere=Xr,G.first=$r,G.floor=tl,G.get=Yi,G.gt=ki,G.gte=Ci,G.has=Xi,G.identity=Eo,G.includes=Zr,G.indexOf=Cr,G.inRange=so,G.isArguments=_i,G.isArray=Ss,G.isBoolean=Ai,G.isDate=Ti,G.isElement=Ei,G.isEmpty=Si,G.isEqual=Di,G.isError=Oi,G.isFinite=Pi,G.isFunction=Ni,G.isMatch=Ii,G.isNaN=Fi,G.isNative=Ri,G.isNull=Mi,G.isNumber=Ui,G.isObject=ji,G.isPlainObject=qi,G.isRegExp=Li,G.isString=Bi,G.isTypedArray=Hi,G.isUndefined=Wi,G.kebabCase=zs,G.last=Ar,G.lastIndexOf=Tr,G.lt=Vi,G.lte=zi,G.max=nl,G.min=rl,G.noConflict=Po,G.noop=No,G.now=gs,G.pad=go,G.padLeft=Ks,G.padRight=Gs,G.parseInt=mo,G.random=lo,G.reduce=hs,G.reduceRight=ps,G.repeat=vo,G.result=no,G.round=il,G.runInContext=$,G.size=oi,G.snakeCase=Qs,G.some=ai,G.sortedIndex=Qa,G.sortedLastIndex=Ja,G.startCase=Js,G.startsWith=yo,G.sum=qo,G.template=bo,G.trim=wo,G.trimLeft=$o,G.trimRight=xo,G.trunc=ko,G.unescape=Co,G.uniqueId=Mo,G.words=_o,G.all=Jr,G.any=ai,G.contains=Zr,G.eq=Di,G.detect=is,G.foldl=hs,G.foldr=ps,G.head=$r,G.include=Zr,G.inject=hs,Oo(G,function(){var e={};return Ot(G,function(t,n){G.prototype[n]||(e[n]=t)}),e}(),!1),G.sample=ri,G.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return ri(t,e)}):ri(this.value())},G.VERSION=k,rt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){G[e].placeholder=G}),rt(["drop","take"],function(e,t){Le.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new Le(this);n=null==n?1:xa(ya(n)||0,0);var i=this.clone();return r?i.__takeCount__=ka(i.__takeCount__,n):i.__views__.push({size:n,type:e+(i.__dir__<0?"Right":"")}),i},Le.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),rt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n!=U;Le.prototype[e]=function(e,t){var i=this.clone();return i.__iteratees__.push({iteratee:Ln(e,t,1),type:n}),i.__filtered__=i.__filtered__||r,i}}),rt(["first","last"],function(e,t){var n="take"+(t?"Right":"");Le.prototype[e]=function(){return this[n](1).value()[0]}}),rt(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");Le.prototype[e]=function(){return this.__filtered__?new Le(this):this[n](1)}}),rt(["pluck","where"],function(e,t){var n=t?"filter":"map",r=t?Ut:jo;Le.prototype[e]=function(e){return this[n](r(e))}}),Le.prototype.compact=function(){return this.filter(Eo)},Le.prototype.reject=function(e,t){return e=Ln(e,t,1),this.filter(function(t){return!e(t)})},Le.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=this;return n.__filtered__&&(e>0||0>t)?new Le(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==x&&(t=+t||0,n=0>t?n.dropRight(-t):n.take(t-e)),n)},Le.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},Le.prototype.toArray=function(){return this.take(Ea)},Ot(Le.prototype,function(e,t){var n=/^(?:filter|map|reject)|While$/.test(t),r=/^(?:first|last)$/.test(t),i=G[r?"take"+("last"==t?"Right":""):t];i&&(G.prototype[t]=function(){var t=r?[1]:arguments,o=this.__chain__,a=this.__wrapped__,s=!!this.__actions__.length,l=a instanceof Le,u=t[0],c=l||Ss(a);c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var d=function(e){return r&&o?i(e,1)[0]:i.apply(x,ut([e],t))},h={func:Hr,args:[d],thisArg:x},p=l&&!s;if(r&&!o)return p?(a=a.clone(),a.__actions__.push(h),e.call(a)):i.call(x,this.value())[0];if(!r&&c){a=p?a:new Le(this);var f=e.apply(a,t);return f.__actions__.push(h),new ee(f,o)}return this.thru(d)})}),rt(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var t=(/^(?:replace|split)$/.test(e)?Zo:Yo)[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:join|pop|replace|shift)$/.test(e);G.prototype[e]=function(){var e=arguments;return r&&!this.__chain__?t.apply(this.value(),e):this[n](function(n){return t.apply(n,e)})}}),Ot(Le.prototype,function(e,t){var n=G[t];if(n){var r=n.name+"",i=ja[r]||(ja[r]=[]);i.push({name:t,func:n})}}),ja[Pn(x,_).name]=[{name:"wrapper",func:x}],Le.prototype.clone=Be,Le.prototype.reverse=He,Le.prototype.value=We,G.prototype.chain=Wr,G.prototype.commit=Vr,G.prototype.concat=ts,G.prototype.plant=zr,G.prototype.reverse=Kr,G.prototype.toString=Gr,G.prototype.run=G.prototype.toJSON=G.prototype.valueOf=G.prototype.value=Qr,G.prototype.collect=G.prototype.map,G.prototype.head=G.prototype.first,G.prototype.select=G.prototype.filter,G.prototype.tail=G.prototype.rest,G}var x,k="3.10.1",C=1,_=2,A=4,T=8,E=16,S=32,D=64,O=128,P=256,N=30,j="...",I=150,F=16,R=200,M=1,U=2,q="Expected a function",L="__lodash_placeholder__",B="[object Arguments]",H="[object Array]",W="[object Boolean]",V="[object Date]",z="[object Error]",K="[object Function]",G="[object Map]",Q="[object Number]",J="[object Object]",Y="[object RegExp]",X="[object Set]",Z="[object String]",ee="[object WeakMap]",te="[object ArrayBuffer]",ne="[object Float32Array]",re="[object Float64Array]",ie="[object Int8Array]",oe="[object Int16Array]",ae="[object Int32Array]",se="[object Uint8Array]",le="[object Uint8ClampedArray]",ue="[object Uint16Array]",ce="[object Uint32Array]",de=/\b__p \+= '';/g,he=/\b(__p \+=) '' \+/g,pe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,fe=/&(?:amp|lt|gt|quot|#39|#96);/g,ge=/[&<>"'`]/g,me=RegExp(fe.source),ve=RegExp(ge.source),ye=/<%-([\s\S]+?)%>/g,be=/<%([\s\S]+?)%>/g,we=/<%=([\s\S]+?)%>/g,$e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,xe=/^\w*$/,ke=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Ce=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,_e=RegExp(Ce.source),Ae=/[\u0300-\u036f\ufe20-\ufe23]/g,Te=/\\(\\)?/g,Ee=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Se=/\w*$/,De=/^0[xX]/,Oe=/^\[object .+?Constructor\]$/,Pe=/^\d+$/,Ne=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,je=/($^)/,Ie=/['\n\r\u2028\u2029\\]/g,Fe=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),Re=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Me=-1,Ue={};Ue[ne]=Ue[re]=Ue[ie]=Ue[oe]=Ue[ae]=Ue[se]=Ue[le]=Ue[ue]=Ue[ce]=!0,Ue[B]=Ue[H]=Ue[te]=Ue[W]=Ue[V]=Ue[z]=Ue[K]=Ue[G]=Ue[Q]=Ue[J]=Ue[Y]=Ue[X]=Ue[Z]=Ue[ee]=!1;var qe={};qe[B]=qe[H]=qe[te]=qe[W]=qe[V]=qe[ne]=qe[re]=qe[ie]=qe[oe]=qe[ae]=qe[Q]=qe[J]=qe[Y]=qe[Z]=qe[se]=qe[le]=qe[ue]=qe[ce]=!0,qe[z]=qe[K]=qe[G]=qe[X]=qe[ee]=!1;var Le={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Be={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},He={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},We={"function":!0,object:!0},Ve={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},ze={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ke=We[typeof exports]&&exports&&!exports.nodeType&&exports,Ge=We[typeof module]&&module&&!module.nodeType&&module,Qe=Ke&&Ge&&"object"==typeof global&&global&&global.Object&&global,Je=We[typeof self]&&self&&self.Object&&self,Ye=We[typeof window]&&window&&window.Object&&window,Xe=Ge&&Ge.exports===Ke&&Ke,Ze=Qe||Ye!==(this&&this.window)&&Ye||Je||this,et=$();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Ze._=et,define(function(){return et})):Ke&&Ge?Xe?(Ge.exports=et)._=et:Ke._=et:Ze._=et}.call(this),function(e){"use strict";if("function"==typeof define&&define.amd)define(["jquery","jquery.ui.widget","jquery.iframe-transport","jquery.fileupload"],e);else{var t=window.jQuery;e(t),t(function(){void 0!==t.fn.cloudinary_fileupload&&t("input.cloudinary-fileupload[type=file]").cloudinary_fileupload()})}}(function(e){"use strict";function t(e){if(null===e||"undefined"==typeof e)return"";var t,n,r=e+"",i="",o=0;t=n=0,o=r.length;for(var a=0;o>a;a++){var s=r.charCodeAt(a),l=null;128>s?n++:l=s>127&&2048>s?String.fromCharCode(s>>6|192,63&s|128):String.fromCharCode(s>>12|224,s>>6&63|128,63&s|128),null!==l&&(n>t&&(i+=r.slice(t,n)),i+=l,t=n=a+1)}return n>t&&(i+=r.slice(t,o)),i}function n(e){e=t(e);var n="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D",r=0,i=0,o=0;r=-1^r;for(var a=0,s=e.length;s>a;a++)o=255&(r^e.charCodeAt(a)),i="0x"+n.substr(9*o,8),r=r>>>8^i;return r=-1^r,0>r&&(r+=4294967296),r}function r(e,t,n){var r=e[t];return delete e[t],"undefined"==typeof r?n:r}function i(t){return null===t||"undefined"==typeof t?[]:e.isArray(t)?t:[t]}function o(e){return function(t){return i(t).join(e)}}function a(e){return"undefined"!=typeof e&&(""+e).length>0}function s(t){for(var n=i(t.transformation),r=!0,o=0;o<n.length;o++)r=r&&"string"==typeof n[o];if(r)return[];delete t.transformation;for(var a=[],o=0;o<n.length;o++){var s=n[o];"string"==typeof s?a.push("t_"+s):a.push(c(e.extend({},s)))}return a}function l(e){var t=r(e,"size");if(t){var n=t.split("x");e.width=n[0],e.height=n[1]}}function u(e){var t=e.width,n=e.height,r=e.overlay||e.underlay,i=e.crop,o=!r&&!e.angle&&"fit"!=i&&"limit"!=i&&"lfill"!=i;o&&(t&&!e.html_width&&"auto"!==t&&parseFloat(t)>=1&&(e.html_width=t),n&&!e.html_height&&parseFloat(n)>=1&&(e.html_height=n)),i||r||(delete e.width,delete e.height)}function c(e){var t=s(e);if(l(e),u(e),void 0!==e.offset){var n=d(e.offset);delete e.offset,null!==n&&(e.start_offset=n[0],e.end_offset=n[1])}var i=[];for(var o in D){var c=r(e,o);a(c)&&(O[o]&&(c=O[o](c)),a(c)&&i.push(D[o]+"_"+c))}i.sort();var h=r(e,"raw_transformation");a(h)&&i.push(h);var p=i.join(",");return a(p)&&t.push(p),t.join("/")}function d(e){var t;switch(e.constructor){case String:var n="("+N+")..("+N+")";e.match(n)&&(t=e.split(".."));break;case Array:t=e;break;default:t=[null,null]}return t}function h(e){var t=String(e).match(new RegExp("^"+N+"$"));if(t){var n=a(t[5])?"p":"";e=(t[1]||t[4])+n}return e}function p(e){if(!e.match(/^https?:\//)){var t=document.location.protocol+"//"+document.location.host;"?"==e[0]?t+=document.location.pathname:"/"!=e[0]&&(t+=document.location.pathname.replace(/\/[^\/]*$/,"/")),e=t+e}return e}function f(e,t,r,i,o,a,s,l,u){if(t.match(/^\//)&&!s)return"/res"+t;var c=s?"https://":"file:"===window.location.protocol?"file://":"http://";c=u?u+"//":c;var d=!r;if(s)l&&l!=_||(l=r?t+"-res.cloudinary.com":T),d=d||l==T,null==o&&d&&(o=i),o&&(l=l.replace("res.cloudinary.com","res-"+(n(e)%5+1)+".cloudinary.com")),c+=l;else if(a){var h=i?"a"+(n(e)%5+1)+".":"";c+=h+a}else c+=r?t+"-res":"res",c+=i?"-"+(n(e)%5+1):"",c+=".cloudinary.com";return d&&(c+="/"+t),c}function g(e,t,n,r,i){var o=e+"/"+t;if(n)if("image/upload"==o)o="images";else{if("raw/upload"!=o)throw"URL Suffix only supported for image/upload and raw/upload";o="files"}if(r){if("image/upload"!=o&&"images"!=o)throw"Root path only supported for image/upload";o=""}return i&&"image/upload"==o&&(o="iu"),o}function m(t,n){n=n||{};var i=r(n,"type","upload");"fetch"==i&&(n.fetch_format=n.fetch_format||r(n,"format"));var o=c(n),s=r(n,"resource_type","image"),l=r(n,"version"),u=r(n,"format"),d=r(n,"cloud_name",e.cloudinary.config().cloud_name);if(!d)throw"Unknown cloud_name";var h=r(n,"private_cdn",e.cloudinary.config().private_cdn),m=r(n,"secure_distribution",e.cloudinary.config().secure_distribution),v=r(n,"cname",e.cloudinary.config().cname),y=r(n,"cdn_subdomain",e.cloudinary.config().cdn_subdomain),b=r(n,"secure_cdn_subdomain",e.cloudinary.config().secure_cdn_subdomain),w=r(n,"shorten",e.cloudinary.config().shorten),$=r(n,"secure","https:"==window.location.protocol),x=r(n,"protocol",e.cloudinary.config().protocol),k=r(n,"trust_public_id"),C=r(n,"url_suffix"),_=r(n,"use_root_path",e.cloudinary.config().use_root_path);if(C&&!h)throw"URL Suffix only supported in private CDN";if("fetch"==i&&(t=p(t)),t.search("/")>=0&&!t.match(/^v[0-9]+/)&&!t.match(/^https?:\//)&&!a(l)&&(l=1),t.match(/^https?:/)){if("upload"==i||"asset"==i)return t;t=encodeURIComponent(t).replace(/%3A/g,":").replace(/%2F/g,"/")}else{if(t=encodeURIComponent(decodeURIComponent(t)).replace(/%3A/g,":").replace(/%2F/g,"/"),C){if(C.match(/[\.\/]/))throw"url_suffix should not include . or /";t=t+"/"+C}u&&(k||(t=t.replace(/\.(jpg|png|gif|webp)$/,"")),t=t+"."+u)}
var A=g(s,i,C,_,w),T=f(t,d,h,y,b,v,$,m,x),E=[T,A,o,l?"v"+l:"",t].join("/").replace(/([^:])\/+/g,"$1/");return E}function v(e){return 10*Math.ceil(e/10)}function y(t,n){e.cloudinary.config("dpr")&&!n.dpr&&(n.dpr=e.cloudinary.config("dpr"));var i=m(t,n),o=r(n,"html_width"),a=r(n,"html_height");return o&&(n.width=o),a&&(n.height=a),i}function b(t,n,r){var i=n[t]||e.cloudinary.config(t);return"undefined"==typeof i&&(i=r),i}function w(e,t){for(var n=e.length-2;n>=0&&e[n]>=t;)n--;return e[n+1]}function $(e){switch(typeof e){case"object":var t="";return void 0!==e.codec&&(t=e.codec,void 0!==e.profile&&(t+=":"+e.profile,void 0!==e.level&&(t+=":"+e.level))),t;case"string":return e;default:return null}}function x(e,t){return t?t===!0?e:e+'="'+t+'"':void 0}function k(t){var n=e.map(t,function(e,t){return x(t,e)});return n.sort(),n.filter(function(e){return e}).join(" ")}var C="d3jpl91pxevbkh.cloudfront.net",_="cloudinary-a.akamaihd.net",A="res.cloudinary.com",T=A,E={format:"jpg",resource_type:"video"},S=["webm","mp4","ogv"],D={angle:"a",audio_codec:"ac",audio_frequency:"af",background:"b",bit_rate:"br",border:"bo",color:"co",color_space:"cs",crop:"c",default_image:"d",delay:"dl",density:"dn",duration:"du",dpr:"dpr",effect:"e",end_offset:"eo",fetch_format:"f",flags:"fl",gravity:"g",height:"h",opacity:"o",overlay:"l",page:"pg",prefix:"p",quality:"q",radius:"r",start_offset:"so",transformation:"t",underlay:"u",video_codec:"vc",video_sampling:"vs",width:"w",x:"x",y:"y",zoom:"z"},O={angle:function(e){return i(e).join(".")},background:function(e){return e.replace(/^#/,"rgb:")},border:function(t){if(e.isPlainObject(t)){var n=""+(t.width||2),r=(t.color||"black").replace(/^#/,"rgb:");t=n+"px_solid_"+r}return t},color:function(e){return e.replace(/^#/,"rgb:")},dpr:function(e){return e=e.toString(),"auto"===e?"1.0":e.match(/^\d+$/)?e+".0":e},effect:o(":"),flags:o("."),transformation:o("."),video_codec:$,start_offset:h,end_offset:h,duration:h},P="([0-9]*)\\.([0-9]+)|([0-9]+)",N="("+P+")([%pP])?",j=null,I=null,F=!1,R={};e.cloudinary={CF_SHARED_CDN:C,OLD_AKAMAI_SHARED_CDN:_,AKAMAI_SHARED_CDN:A,SHARED_CDN:T,config:function(t,n){if(j||(j={},e('meta[name^="cloudinary_"]').each(function(){j[e(this).attr("name").replace("cloudinary_","")]=e(this).attr("content")})),"undefined"!=typeof n)j[t]=n;else{if("string"==typeof t)return j[t];t&&(j=t)}return j},url:function(t,n){return n=e.extend({},n),m(t,n)},video_url:function(t,n){return n=e.extend({resource_type:"video"},n),m(t,n)},video_thumbnail_url:function(t,n){return n=e.extend({},E,n),m(t,n)},url_internal:m,transformation_string:function(t){return t=e.extend({},t),c(t)},image:function(t,n){n=e.extend({},n);var r=y(t,n),i=e("<img/>").data("src-cache",r).attr(n).cloudinary_update(n);return i},video_thumbnail:function(t,n){n=e.extend({},E,n),image(t,n)},facebook_profile_image:function(t,n){return e.cloudinary.image(t,e.extend({type:"facebook"},n))},twitter_profile_image:function(t,n){return e.cloudinary.image(t,e.extend({type:"twitter"},n))},twitter_name_profile_image:function(t,n){return e.cloudinary.image(t,e.extend({type:"twitter_name"},n))},gravatar_image:function(t,n){return e.cloudinary.image(t,e.extend({type:"gravatar"},n))},fetch_image:function(t,n){return e.cloudinary.image(t,e.extend({type:"fetch"},n))},video:function(t,n){n=n||{},t=t.replace(/\.(mp4|ogv|webm)$/,"");var o=r(n,"source_types",[]),a=r(n,"source_transformation",{}),s=r(n,"fallback_content","");0==o.length&&(o=S);var l=e.extend(!0,{},n);l.hasOwnProperty("poster")?e.isPlainObject(l.poster)&&(l.poster.hasOwnProperty("public_id")?l.poster=m(l.poster.public_id,l.poster):l.poster=m(t,e.extend({},E,l.poster))):l.poster=m(t,e.extend({},E,n)),l.poster||delete l.poster;var u="<video ";l.hasOwnProperty("resource_type")||(l.resource_type="video");var c=e.isArray(o)&&o.length>1,d=t;c||(d=d+"."+i(o)[0]);var h=m(d,l);if(c||(l.src=h),l.hasOwnProperty("html_width")&&(l.width=r(l,"html_width")),l.hasOwnProperty("html_height")&&(l.height=r(l,"html_height")),u=u+k(l)+">",c)for(var p=0;p<o.length;p++){var f=o[p],g=a[f]||{};h=m(d+"."+f,e.extend(!0,{resource_type:"video"},n,g));var v="ogv"==f?"ogg":f,y="video/"+v;u=u+"<source "+k({src:h,type:y})+">"}return u+=s,u+="</video>"},sprite_css:function(t,n){return n=e.extend({type:"sprite"},n),t.match(/.css$/)||(n.format="css"),e.cloudinary.url(t,n)},responsive:function(t){I=e.extend(I||{},t),e("img.cld-responsive, img.cld-hidpi").cloudinary_update(I);var n=b("responsive_resize",I,!0);if(n&&!F){I.resizing=F=!0;var r=null;e(window).on("resize",function(){function t(){r&&(clearTimeout(r),r=null)}function n(){e("img.cld-responsive").cloudinary_update(I)}function i(){t(),setTimeout(function(){t(),n()},o)}var o=b("responsive_debounce",I,100);o?i():n()})}},calc_stoppoint:function(t,n){var r=e(t).data("stoppoints")||e.cloudinary.config().stoppoints||v;return"function"==typeof r?r(n):("string"==typeof r&&(r=e.map(r.split(","),function(e){return parseInt(e)})),w(r,n))},device_pixel_ratio:function(){var t=window.devicePixelRatio||1,n=R[t];if(!n){var r=w(e.cloudinary.supported_dpr_values,t);n=r.toString(),n.match(/^\d+$/)&&(n+=".0"),R[t]=n}return n},supported_dpr_values:[.75,1,1.3,1.5,2,3]},e.fn.cloudinary=function(t){return this.filter("img").each(function(){var n=e.extend({width:e(this).attr("width"),height:e(this).attr("height"),src:e(this).attr("src")},e(this).data(),t),i=r(n,"source",r(n,"src")),o=y(i,n);e(this).data("src-cache",o).attr({width:n.width,height:n.height})}).cloudinary_update(t),this},e.fn.cloudinary_update=function(t){t=t||{};var n=b("responsive_use_stoppoints",t,"resize"),r=n===!1||"resize"==n&&!t.resizing;return this.filter("img").each(function(){t.responsive&&e(this).addClass("cld-responsive");var n={},i=e(this).data("src-cache")||e(this).data("src");if(i){var o=e(this).hasClass("cld-responsive")&&i.match(/\bw_auto\b/);if(o){var a,s,l=e(this).parents(),u=l.length,c=0;for(s=0;u>s&&(a=l[s],!(c=e(a).width()));s+=1);if(0==c)return;var d=r?c:e.cloudinary.calc_stoppoint(this,c),h=e(this).data("width")||0;d>h?e(this).data("width",d):d=h,i=i.replace(/\bw_auto\b/g,"w_"+d),n.width=null,t.responsive_preserve_height||(n.height=null)}n.src=i.replace(/\bdpr_(1\.0|auto)\b/g,"dpr_"+e.cloudinary.device_pixel_ratio()),e(this).attr(n)}}),this};var M=null;e.fn.webpify=function(t,n){var r=this;if(t=t||{},n=n||t,!M){M=e.Deferred();var i=new Image;i.onerror=M.reject,i.onload=M.resolve,i.src="data:image/webp;base64,UklGRi4AAABXRUJQVlA4TCEAAAAvAUAAEB8wAiMwAgSSNtse/cXjxyCCmrYNWPwmHRH9jwMA"}return e(function(){M.done(function(){e(r).cloudinary(e.extend({},n,{format:"webp"}))}).fail(function(){e(r).cloudinary(t)})}),this},e.fn.fetchify=function(t){return this.cloudinary(e.extend(t,{type:"fetch"}))},e.fn.fileupload&&(e.cloudinary.delete_by_token=function(t,n){n=n||{};var r=n.url;if(!r){var i=n.cloud_name||e.cloudinary.config().cloud_name;r="https://api.cloudinary.com/v1_1/"+i+"/delete_by_token"}var o=e.support.xhrFileUpload?"json":"iframe json";return e.ajax({url:r,method:"POST",data:{token:t},headers:{"X-Requested-With":"XMLHttpRequest"},dataType:o})},e.fn.cloudinary_fileupload=function(t){var n=!this.data("blueimpFileupload");if(n&&(t=e.extend({maxFileSize:2e7,dataType:"json",headers:{"X-Requested-With":"XMLHttpRequest"}},t)),this.fileupload(t),n&&(this.bind("fileuploaddone",function(t,n){if(!n.result.error){if(n.result.path=["v",n.result.version,"/",n.result.public_id,n.result.format?"."+n.result.format:""].join(""),n.cloudinaryField&&n.form.length>0){var r=[n.result.resource_type,n.result.type,n.result.path].join("/")+"#"+n.result.signature,i=e(t.target).prop("multiple"),o=function(){e("<input/>").attr({type:"hidden",name:n.cloudinaryField}).val(r).appendTo(n.form)};if(i)o();else{var a=e(n.form).find('input[name="'+n.cloudinaryField+'"]');a.length>0?a.val(r):o()}}e(t.target).trigger("cloudinarydone",n)}}),this.bind("fileuploadsend",function(e,t){t.headers["X-Unique-Upload-Id"]=(1e10*Math.random()).toString(16)}),this.bind("fileuploadstart",function(t){e(t.target).trigger("cloudinarystart")}),this.bind("fileuploadstop",function(t){e(t.target).trigger("cloudinarystop")}),this.bind("fileuploadprogress",function(t,n){e(t.target).trigger("cloudinaryprogress",n)}),this.bind("fileuploadprogressall",function(t,n){e(t.target).trigger("cloudinaryprogressall",n)}),this.bind("fileuploadfail",function(t,n){e(t.target).trigger("cloudinaryfail",n)}),this.bind("fileuploadalways",function(t,n){e(t.target).trigger("cloudinaryalways",n)}),!this.fileupload("option").url)){var r=t.cloud_name||e.cloudinary.config().cloud_name,i=t.resource_type||"auto",o=t.type||"upload",a="https://api.cloudinary.com/v1_1/"+r+"/"+i+"/"+o;this.fileupload("option","url",a)}return this},e.fn.cloudinary_upload_url=function(e){this.fileupload("option","formData").file=e,this.fileupload("add",{files:[e]}),delete this.fileupload("option","formData").file},e.fn.unsigned_cloudinary_upload=function(t,n,r){r=r||{},n=e.extend({},n)||{};for(var i=["cloud_name","resource_type","type"],o=0;o<i.length;o++){var a=i[o];n[a]&&(r[a]=n[a],delete n[a])}for(var s in n){var l=n[s];e.isPlainObject(l)?n[s]=e.map(l,function(e,t){return t+"="+e}).join("|"):e.isArray(l)&&(l.length>0&&e.isArray(l[0])?n[s]=e.map(l,function(e){return e.join(",")}).join("|"):n[s]=l.join(","))}n.callback||(n.callback="/cloudinary_cors.html"),n.upload_preset=t,r.formData=n,r.cloudinary_field&&(r.cloudinaryField=r.cloudinary_field,delete r.cloudinary_field);var u=r.html||{};return u["class"]="cloudinary_fileupload "+(u["class"]||""),r.multiple&&(u.multiple=!0),this.attr(u).cloudinary_fileupload(r),this},e.cloudinary.unsigned_upload_tag=function(t,n,r){return e("<input/>").attr({type:"file",name:"file"}).unsigned_cloudinary_upload(t,n,r)})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery.cloudinary","angular"],e):e(window.jQuery,angular)}(function(e,t){var n=t.module("cloudinary",[]),r=function(e){return e.match(/cl[A-Z]/)&&(e=e.substring(2)),e.replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase()};["Src","Srcset","Href"].forEach(function(t){var i="cl"+t;t=t.toLowerCase(),n.directive(i,["$sniffer",function(n){return{priority:99,link:function(o,a,s){var l=t,u=t;"href"===t&&"[object SVGAnimatedString]"===toString.call(a.prop("href"))&&(u="xlinkHref",s.$attr[u]="xlink:href",l=null),s.$observe(i,function(t){if(t){var i={};e.each(a[0].attributes,function(){i[r(this.name)]=this.value}),t=e.cloudinary.url(t,i),s.$set(u,t),n.msie&&l&&a.prop(l,s[u])}})}}}])}),n.directive("clTransformation",[function(){return{restrict:"E",transclude:!1,require:"^clImage",link:function(t,n,i,o){var a={};e.each(i,function(e,t){"$"!==e[0]&&(a[r(e)]=t)}),o.addTransformation(a)}}}]),n.directive("clImage",[function(){var t=function(e){this.addTransformation=function(t){e.transformations=e.transformations||[],e.transformations.push(t)}};return t.$inject=["$scope"],{restrict:"E",replace:!0,transclude:!0,template:"<img ng-transclude/>",scope:{},priority:99,controller:t,link:function(t,n,i){var o={},a=null;e.each(i,function(e,t){o[r(e)]=t}),t.transformations&&(o.transformation=t.transformations),i.$observe("publicId",function(e){e&&(a=e,s())}),i.$observe("version",function(e){e&&(o.version=e,s())}),i.htmlWidth?n.attr("width",i.htmlWidth):n.removeAttr("width"),i.htmlHeight?n.attr("height",i.htmlHeight):n.removeAttr("height");var s=function(){var t=e.cloudinary.url(a,o);n.attr("src",t)}}}}])}),angular.module("app",["angular-loading-bar","filters","validators","firebase","fire","routes","tree","publications","login","account","ui.bootstrap","main","angular-underscore","updateMeta"]).controller("AppController",["$scope","FireAuth",function(e,t){e.logout=function(){t.$unauth()},e.inProduction=!1,e.sizeOf=function(e){return"undefined"==typeof e&&(e={}),Object.keys(e).length},e.firstObj=function(e){for(var t in e)if(e.hasOwnProperty(t))return t}}]),angular.module("main",[]).controller("MainController",[function(e){}]).directive("inputFocus",[function(){return{restrict:"A",link:function(e,t){t.focus()}}}]),angular.module("filters",[]).filter("capitalize",[function(){return function(e){return e?e.replace(/([^\W_]+[^\s-]*) */g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}):""}}]).directive("capitalize",["$filter",function(e){return{require:"ngModel",link:function(t,n,r,i){i.$parsers.push(function(t){var n=e("capitalize")(t);return n!=t&&(i.$setViewValue(n),i.$render()),n})}}}]).filter("slug",[function(){return function(e){return e?String(e).toLowerCase().replace(/[^a-zá-źA-ZÁ-Ź0-9]/g," ").trim().replace(/\s{2,}/g," ").replace(/\s+/g,"-"):""}}]).filter("noSpecialChars",[function(){return function(e){return e?String(e).replace(/[^a-zá-źA-ZÁ-Ź0-9]/g," ").trim().replace(/\s{2,}/g," "):""}}]).filter("capitalizeFirstChar",[function(){return function(e){return e?e.trim().replace(/(^\w?)/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1)}):""}}]).directive("capitalizeFirstChar",["$filter",function(e){return{require:"ngModel",link:function(t,n,r,i){i.$parsers.push(function(t){var n=e("capitalizeFirstChar")(t);return n!=t&&(i.$setViewValue(n),i.$render()),n})}}}]).filter("dateParse",["$window","$filter",function(e,t){return function(n,r,i){return n?t("date")(e.Date.parse(n),r,i):""}}]).filter("stringReplace",[function(){return function(e,t,n){return e.split(t).join(n)}}]).filter("reverse",[function(){return function(e){return angular.isArray(e)?e.slice().reverse():[]}}]).filter("camelCase",[function(){return function(e){return e?e.trim().replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,function(e,t){return 0===+e?"":0===t?e.toLowerCase():e.toUpperCase()}):""}}]).filter("lispCaseToCamelCase",[function(){return function(e){return e?e.trim().replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()}):""}}]).filter("bytes",[function(){return function(e,t){if(isNaN(parseFloat(e))||!isFinite(e))return"-";"undefined"==typeof t&&(t=1);var n=["bytes","kB","MB","GB","TB","PB"],r=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,Math.floor(r))).toFixed(t)+" "+n[r]}}]).filter("htmlToPlaintext",[function(){return function(e){return e?String(e).replace(/<[^>]+>/gm," ").trim():""}}]).filter("unsafe",["$sce",function(e){return e.trustAsHtml}]).filter("removeFileExtension",["$filter",function(e){return function(t){return t?e("stringReplace")(t,"."+t.split(".").pop(),"").trim():""}}]),angular.module("validators",[]).directive("noSpecialChars",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$validators.noSpecialChars=function(e){return String(e).match(/[^a-zá-źA-ZÁ-Ź0-9\s]/g)?!1:!0}}}}),angular.module("fire",[]).constant("FIRE_BASE_URL","https://berlin.firebaseio.com").constant("SIMPLE_LOGIN_PROVIDERS",["password","facebook","google","twitter"]).constant("LOGIN_REDIRECT_PATH","/login").factory("FireAuth",["$firebaseAuth","FireRef",function(e,t){return e(t)}]).factory("FireRef",["$window","FIRE_BASE_URL",function(e,t){return new e.Firebase(t)}]).directive("ngHideAuth",["FireAuth","$timeout",function(e,t){return{restrict:"A",link:function(n,r){function i(){t(function(){r.toggleClass("ng-cloak",!!e.$getAuth())},0)}r.addClass("ng-cloak"),e.$onAuth(i),i()}}}]).directive("ngShowAuth",["FireAuth","$timeout",function(e,t){return{restrict:"A",link:function(n,r){function i(){t(function(){r.toggleClass("ng-cloak",!e.$getAuth())},0)}r.addClass("ng-cloak"),e.$onAuth(i),i()}}}]),angular.module("routes",["ngRoute"]).config(["$routeProvider","SECURED_ROUTES",function(e,t){e.whenAuthenticated=function(n,r){return r.resolve=r.resolve||{},r.resolve.user=["FireAuth",function(e){return e.$requireAuth()}],e.when(n,r),t[n]=!0,e}}]).config(["$routeProvider",function(e){e.when("/",{templateUrl:"assets/views/main.html",controller:"MainController"}).whenAuthenticated("/categories",{templateUrl:"assets/views/categories.html",controller:"TreeController"}).whenAuthenticated("/locations",{templateUrl:"assets/views/locations.html",controller:"TreeController"}).whenAuthenticated("/j-tree-test",{templateUrl:"assets/views/jtree-diretive-test.html",controller:"TreeController"}).whenAuthenticated("/new-publication",{templateUrl:"assets/views/publication.html",controller:"PublicationsController"}).whenAuthenticated("/edit-publication/:publicationId",{templateUrl:"assets/views/publication.html",controller:"PublicationsController"}).when("/view-publication/:publicationId/:title",{templateUrl:"assets/views/viewPublication.html",controller:"ViewPublicationController"}).when("/login",{templateUrl:"assets/views/login.html",controller:"LoginController"}).whenAuthenticated("/account",{templateUrl:"assets/views/account.html",controller:"AccountController"}).otherwise({redirectTo:"/"})}]).run(["$rootScope","$location","FireAuth","SECURED_ROUTES","LOGIN_REDIRECT_PATH",function(e,t,n,r,i){function o(e){!e&&a(t.path())&&t.path(i)}function a(e){return r.hasOwnProperty(e)}n.$onAuth(o),e.$on("$routeChangeError",function(e,n,r,o){"AUTH_REQUIRED"===o.toString()&&t.path(i)})}]).constant("SECURED_ROUTES",{}).constant("LOGIN_REDIRECT_PATH","/login"),angular.module("tree",["ngMessages","cgBusy","jlareau.pnotify"]).factory("treeService",["$filter",function(e){return{getPath:function(t,n){var r=[],i=e("reverse")(n),o=function(e){angular.forEach(i,function(t){e===t.$id&&(r.push(t),""!==t.parentId&&o(t.parentId))})};return o(t),e("reverse")(r)},pathNames:function(e){var t=[];return angular.forEach(e,function(e){t.push(e.name)}),t}}}]).controller("TreeController",["$scope","$location","user",function(e,t,n){"facebook:10204911533563856"!==n.uid&&t.path("/")}]).controller("EditNodeController",["$scope","$q","$modalInstance","node","nodeRef",function(e,t,n,r,i){function o(e){var n=t.defer(),r=n.promise;return i.update({name:e.name},function(e){e?n.reject(e):n.resolve()}),r}e.model={name:r.name,id:r.id},e.confirm=function(){e.editNodeForm.$valid&&(e.httpRequestPromise=o(e.model).then(function(){n.close()},function(e){n.dismiss(e)}))},e.cancel=function(){n.dismiss("The editing is been canceled")}}]).controller("DeleteNodeController",["$scope","$modalInstance","node",function(e,t,n){e.node=n,e.branchCheckBox=e.node.left+1!==e.node.right,e.model={branch:null},e.confirm=function(){t.close({node:n,branch:e.model.branch})},e.cancel=function(){t.dismiss("Delete action has be cancel")}}]).directive("jTree",["$q","$templateCache","$compile","$uibModal","FireRef","$firebaseArray","$firebaseObject","notificationService","$log",function(e,t,n,r,i,o,a,s,l){function u(t){var n=e.defer(),r=i.child(w);return r.set(t,function(e){e?n.reject(e):n.resolve()}),n.promise}function c(e){var t={},n=function(e){angular.forEach(e,function(e){t[e.id]={},t[e.id].name=e.name,t[e.id].parentId=e.parentId,t[e.id].left=e.left,t[e.id].right=e.right,e.children.length>0&&n(e.children)})};return n(e),t}function d(e){var t,n=function(e,r){angular.forEach(e,function(e){t||(t=1),e.left=t,t+=1,r?e.parentId=r:e.parentId="",void 0!==e.children&&e.children.length>=1?n(e.children,e.id):e.children=[],e.right=t,t+=1})};n(e)}function h(e,t,n){var r={targetTree:[],recordsIdsForDelete:[]},i=function(e){var t=[];t.push(e.id);var n=function(e){angular.forEach(e,function(e){t.push(e.id),e.children.length>0&&n(e.children)})};return n(e.children),t},o=function(e){angular.forEach(e,function(e){if(e.id===t)if(e.children.length>0)if(n===!0)r.recordsIdsForDelete=i(e);else{if(r.recordsIdsForDelete.push(e.id),""===e.parentId)for(var a=0;a<e.children.length;a++)e.children[a].parentId="";else for(var s=0;s<e.children.length;s++)e.children[s].parentId=e.parentId;o(e.children)}else r.recordsIdsForDelete.push(e.id);else{var l={id:e.id,parentId:e.parentId,name:e.label,left:e.left,right:e.right,children:[]};""!==e.parentId?f(r.targetTree,l):r.targetTree.push(l),void 0!==e.children&&o(e.children)}})};return o(e),r}function p(e){var t={};return t.id=e.$id,t.label=e.name,t.parentId=e.parentId,t.left=parseInt(e.left),t.right=parseInt(e.right),t.children=[],t}function f(e,t){angular.forEach(e,function(e){e.id===t.parentId?e.children.push(t):e.children.length>0&&f(e.children,t)})}function g(e){var t=[];return angular.forEach(e,function(e){var n=p(e);""!==n.parentId?f(t,n):t.push(n)}),t}function m(e,t){var n={dragAndDrop:!0,selectable:!0,autoEscape:!1,autoOpen:!1,data:t};e.tree(n)}function v(e,t){e.tree("loadData",t)}var y={rawNodes:[]},b={},w="";return{restrict:"E",template:'<section cg-busy="{promise:httpRequestPromise,message:\'Just a moment\'}"><section><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title">New node</h3></div><div class="panel-body" ><form id="nodeForm" name="nodeForm" novalidate="" ng-submit="nodeFormSettings.submitForm()"><div class="form-group"><label>New node</label><input type="text" name="node" ng-model="nodeFormSettings.model.nodeName" required no-special-chars class="form-control" placeholder="" tabindex="1"><div data-ng-messages="nodeForm.$submitted && nodeForm.node.$error" class="help-block"><div data-ng-message="required">- The <b>node</b> name is required.</div><div data-ng-message="noSpecialChars">- The <b>node</b> name must not have special characters.</div></div></div></form></div><div class="panel-footer"><button form="nodeForm" class="btn btn-primary" type="submit">Send</button> <button class="btn btn-warning" ng-click="nodeFormSettings.resetForm()">Cancel</button></div></div></section><section><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title" style="line-height: 30px;">The <b>{{reference | capitalize}}</b> tree data:<div class="btn-group pull-right" role="group" aria-label="..." ng-show="nodeSelected.status"><button ng-click="editNode(nodeSelected.node)" type="button" class="btn btn-info">Edit</button><button ng-click="deleteNode(nodeSelected.node)" type="button" class="btn btn-danger">Delete</button></div></h3></div><div class="panel-body"><div ng-show="rawNodes.length === 0">Start add some data.</div><div id="tree"></div><div/><div/></section><section><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title" style="line-height: 30px;">The <b>{{reference | capitalize}}</b> tree <b>Raw</b> data: </h3></div><div class="panel-body"><div><div class="alert alert-danger" role="alert"> For recovering purposes, after any changes, update the node service at code level, to avoid lost of this critical data.  </div></div><pre>{{rawNodes | json }}</pre><div/><div/></section><section/>',scope:{reference:"@"},link:function(e,t){if("undefined"==typeof e.reference)throw">>> The reference attr is undefined >>>";w=e.reference;var n=t.find("#tree");m(n,[]),n.bind("tree.move",function(t){t.preventDefault(),t.move_info.do_move();var r=angular.fromJson(n.tree("toJson"));d(r);var i=c(r);e.httpRequestPromise=u(i).then(function(){e.nodeSelected={},s.success("The tree or nodes has been update")},function(e){s.error(e)})}),n.bind("tree.select",function(t){var n={status:!1,$node:{}};null!==t.node&&(n.node=t.node,n.status=!0),e.nodeSelected=n,b=n,e.$apply()}),e.editNode=function(t){var n=r.open({template:'<div class="modal-header"><h3 class="modal-title">Edit node:</h3></div><div class="modal-body" cg-busy="{promise:httpRequestPromise,message:\'Just a moment\'}"><h3 class="text-danger" style="margin-top: 0; margin-bottom: 0;">{{node.name | capitalizeFirstChar}}</h3><form id="editNodeForm" name="editNodeForm" novalidate="" ng-submit="confirm()"><div class="form-group"><label>Node name</label><input type="text" name="node" ng-model="model.name" required no-special-chars class="form-control" placeholder="" tabindex="1"><div data-ng-messages="editNodeForm.$submitted && editNodeForm.node.$error" class="help-block"><div data-ng-message="required">- The <b>node</b> name is required.</div><div data-ng-message="noSpecialChars">- La <b>node</b> name must not have special characters.</div></div></div></form></div><div class="modal-footer"><button class="btn btn-warning" ng-click="cancel()">Cancel</button><button form="editNodeForm" class="btn btn-primary" type="submit">Confirm</button></div>',controller:"EditNodeController",resolve:{node:function(){return t},nodeRef:function(){return i.child(e.reference).child(t.id)}}});n.result.then(function(){e.nodeSelected={},s.success("It was updated successfully.")},function(e){s.error(e)})},e.deleteNode=function(t){var n=r.open({template:'<div class="modal-header"><h3 class="modal-title">Do you really want to delete this node?</h3></div><div class="modal-body"><h3 class="text-danger" style="margin-top: 0; margin-bottom: 0;">{{node.name | capitalizeFirstChar}}</h3><form id="deleteBranchForm" name="deleteBranchForm" novalidate="" ng-submit="confirm()"><div ng-show="branchCheckBox"><div class="checkbox"><label><input type="checkbox" name="branch" ng-model="model.branch" value="">And daughters nodes to.</label></div></div></form></div><div class="modal-footer"><button class="btn btn-warning" ng-click="cancel()">Cancel</button><button form="deleteBranchForm" class="btn btn-primary" type="submit">Confirm</button></div>',controller:"DeleteNodeController",resolve:{node:function(){return t}}});n.result.then(function(t){e.nodeSelected={};var n=h(g(y.rawNodes),t.node.id,t.branch);d(n.targetTree);var r=c(n.targetTree);e.httpRequestPromise=u(r).then(function(){s.success("The tree or nodes has been update")},function(e){s.error(e)})},function(e){s.error(e)})},e.nodeFormSettings={model:{nodeName:""},submitForm:function(){if(e.nodeForm.$valid){var t,n,r=y.rawNodes.length;if(r>=1){var i=2*r;t=i+1,n=i+2}else t=1,n=2;var o={left:t,right:n,parentId:"",name:e.nodeFormSettings.model.nodeName};e.httpRequestPromise=y.rawNodes.$add(o).then(function(){e.nodeSelected={},s.success("Data has been saved."),e.nodeFormSettings.resetForm()},function(e){s.error(e)})}},resetForm:function(){e.nodeFormSettings.model=angular.copy(e.nodeFormSettings.modelCopy),e.nodeForm.$setUntouched(),e.nodeForm.$setPristine()}},e.nodeFormSettings.modelCopy=angular.copy(e.nodeFormSettings.model),y.rawNodes=o(i.child(e.reference).orderByChild("left")),e.rawNodes=a(i.child(e.reference).orderByChild("left")),e.httpRequestPromise=y.rawNodes.$loaded(null,function(e){s.error(e)}),y.rawNodes.$watch(function(){v(n,g(y.rawNodes))})}}}]);var publicationsModule=angular.module("publications",["uuid","ngMessages","angular-redactor","ngFileUpload","cloudinary","algoliasearch"]).factory("publicationService",["$q","$window","imagesService",function(e,t,n){return{savePublication:function(n,r,i){var o=e.defer();if(angular.isDefined(i)&&""!==i){var a=r.child(i);delete n.releaseDate,delete n.images,a.update(n,function(e){e?o.reject(e):o.resolve({publicationId:i})})}else{var s=r.push();n.releaseDate=t.Firebase.ServerValue.TIMESTAMP,s.set(n,function(e){e?o.reject(e):o.resolve({publicationId:s.key()})})}return o.promise},removePublication:function(t,r){var i=e.defer(),o={};return o.deleteImages=n.deleteImages(r,null),o.detelePublication=t.child(r).remove(function(e){e?i.reject(e):i.resolve()}),e.all(o).then(function(){i.resolve()},function(e){notificationService.error(e)}),i.promise}}}]).controller("PublicationsController",["$scope","$q","$window","$filter","$routeParams","$location","$http","FireRef","$firebaseArray","$firebaseObject","rfc4122","treeService","notificationService","Upload","user","$uibModal","publicationService","imagesService","$log",function(e,t,n,r,i,o,a,s,l,u,c,d,h,p,f,g,m,v,y){function b(e){var n=t.defer(),r=x.child(e),i=u(r);return i.$loaded(function(){"undefined"==typeof i.releaseDate?n.reject("404"):f.uid!==i.userID?n.reject("401"):n.resolve({publication:i})},function(e){n.reject(e)}),n.promise}function w(n){var r=t.defer();return b(n).then(function(t){angular.forEach(t.publication,function(t,n){"releaseDate"!==n&&(e.publication.model[n]=t)})}).then(function(){e.publication.images=[],angular.forEach(e.publication.model.images,function(t,n){t.$id=n,e.publication.images.push(t)})}).then(function(){e.publication.$id=n,e.publication.categoryPath=d.getPath(e.publication.model.categoryId,e.publication.categories),e.publication.categoryPath.length>0?e.publication.categorySelected=!0:(e.publication.redefineCategory=!0,e.publication.categorySelected=!1,e.publication.model.categoryId=""),e.publication.locationPath=d.getPath(e.publication.model.locationId,e.publication.locations),0===e.publication.locationPath.length&&(e.publication.redefineLocation=!0,e.publication.model.locationId=""),e.publication.inEditMode=!0,r.resolve()},function(e){o.path("/"),r.reject(e)}),r.promise}var $=t.defer(),x=s.child("publications");e.httpRequestPromise=$.promise,e.publication={$id:"",categoryPath:[],locationPath:[],categories:l(s.child("categories").orderByChild("left")),locations:l(s.child("locations").orderByChild("left")),categorySelected:!1,inEditMode:!1,isReady:!1,model:{userID:f.uid,categoryId:"",locationId:"",featuredImageId:"",department:"",title:"",htmlDescription:"",barcode:"",barcodeType:"CODE128"}};var k=e.publication.categories.$loaded(),C=e.publication.locations.$loaded();t.all([k,C]).then(function(){return angular.isDefined(i.publicationId)?w(i.publicationId):void(e.publication.images=[])}).then(function(){e.publication.isReady=!0,$.resolve()}),e.submit=function(){if(e.publicationForm.$valid){var n=t.defer();m.savePublication(e.publication.model,x,e.publication.$id).then(function(t){return e.publication.$id=""!==e.publication.$id?e.publication.$id:t.publicationId,v.saveFiles(x,e.publication.$id,e.publication.images)}).then(function(){h.success("Data has been save"),n.resolve()},function(e){h.error(e),n.reject(e)}),e.httpRequestPromise=n.promise}else h.error("Something is missing")},e.discard=function(){var t=g.open({templateUrl:"discardPublication.html",controller:"DiscardPublicationController",resolve:{publicationId:function(){return""!==e.publication.$id},title:function(){return""!==e.publication.model.title&&void 0!==e.publication.model.title?e.publication.model.title:"Untitled"}}});t.result.then(function(){""!==e.publication.$id?e.httpRequestPromise=m.removePublication(x,e.publication.$id).then(function(){h.success("The publication has been deleted."),o.path("/")}):(h.success("The publication has been discard."),o.path("/"))},function(e){h.error(e)})}}]).controller("DiscardPublicationController",["$scope","$modalInstance","publicationId","title",function(e,t,n,r){e.publication={$id:n,title:r},e.confirm=function(){t.close()},e.cancel=function(){t.dismiss("This has be cancel")}}]).directive("locationInput",["treeService",function(e){return{scope:{formName:"=",locations:"=",model:"=",redefineLocation:"=",locationPath:"="},template:'<div><hr class="hr-xs"><label class="control-label"><i class="fa fa-map-marker"></i> Location <sup style="color: red;">*</sup></label><div class="list-group" style="margin-bottom: 0"><button type="button" class="list-group-item" ng-click="setLocation(location.$id); publication.redefineLocation = false;" ng-repeat="location in locations | filter:{parentId: model.locationId}:true" ><i style="color: #286090" class="fa fa-folder"></i> {{location.name | capitalizeFirstChar}}</button></div><ol ng-show="locationPath.length > 0" class="breadcrumb" style="margin-bottom: 0; margin-top: 10px;"><li ng-click="model.locationId =\'\'; locationPath =[];" class="a-link"> Reset </li><li ng-repeat="location in locationPath" ng-click="setLocation(location.$id)" ng-class="{\'a-link\': !$last}"> {{location.name | capitalizeFirstChar}} </li></ol><input name="location" ng-model="model.locationId" required class="form-control" placeholder="" type="text" style="display: none;"><div data-ng-messages="formName.$submitted && formName.location.$error" class="help-block"><div data-ng-message="required" >- The <b>Location</b> is required.</div></div><div ng-show="formName.redefineLocation === true" class="alert alert-danger alert-xs" style="margin-bottom: 10px;" role="alert"><b>NOTE: Sorry, but we need to redefine the location.</b></div><div class="alert alert-info alert-xs" style="margin-bottom: 0; margin-top: 10px;" role="alert">NOTE: Select the <b>location</b> that best suits to the publication. No matter if it is too general or specific, the important thing is to select one.</div></div>',
link:function(t){t.setLocation=function(n){t.model.locationId=n,t.locationPath=e.getPath(n,t.locations),t.model.locations=e.pathNames(t.locationPath)}}}}]).directive("categorySelector",["treeService",function(e){return{restrict:"E",scope:{categoryPath:"=",categorySelected:"=",isReady:"=",inEditMode:"=",model:"=",categories:"=",redefineCategory:"="},template:'<div class="panel panel-default" ng-show="categorySelected === false && isReady"><div class="panel-heading"><h3 class="panel-title" ng-switch="inEditMode"><span ng-switch-when="false" >New Publication - Select a category:</span><span ng-switch-when="true">Edit Publication</span></h3></div><div class="list-group"><button type="button" class="list-group-item" ng-click="setCategory(category.$id)" ng-repeat="category in categories | filter:{parentId: model.categoryId}:true" ><i style="color: #286090" class="fa" ng-class="{\'fa-folder\': (category.name !== \'Marketplace\' && category.name !== \'Jobs\' && category.name !== \'Real Estate\' && category.name !== \'Transport\' && category.name !== \'Services\') , \'fa-shopping-cart\': (category.name === \'Marketplace\') , \'fa-suitcase\': (category.name === \'Jobs\'), \'fa-home\': (category.name === \'Real Estate\'), \'fa-car\': (category.name === \'Transport\'), \'fa-wrench\' : (category.name === \'Services\')}"></i> {{category.name | capitalizeFirstChar}}</button></div><div class="panel-body"><ol ng-show="categoryPath.length > 0" class="breadcrumb" style="margin-bottom: 7px;"><li ng-click="model.categoryId = \'\'; categoryPath =[];" class="a-link"> Reset </li><li ng-repeat="category in categoryPath" ng-click="setCategory(category.$id)" ng-class="{\'a-link\': !$last}"> {{category.name | capitalizeFirstChar}} </li></ol><div ng-show="redefineCategory === true" class="alert alert-danger alert-xs" style="margin-bottom: 10px;" role="alert"><b>NOTE: Sorry, but we need to redefine the category.</b></div><div class="alert alert-info alert-xs" style="margin-bottom: 0;" role="alert">NOTE: Select the category that best suits to the publication. No matter if it is too general or specific, the important thing is to select one.</div></div><div class="panel-footer" style="text-align: right;"><button ng-click="categorySelected = true; redefineCategory = false" type="button" class="btn btn-primary" ng-disabled="model.categoryId ===\'\'" ><i class="fa fa-check"></i> Confirm selection</button></div></div>',link:function(t){t.setCategory=function(n){t.model.categoryId=n,t.categoryPath=e.getPath(n,t.categories),t.model.categories=e.pathNames(t.categoryPath),t.model.department=t.categoryPath[0]?t.categoryPath[0].name:""}}}}]).directive("descriptionInput",["$filter",function(e){return{restrict:"E",scope:{formName:"=",model:"="},template:'<div class="form-group"><label class="control-label"><span class="glyphicon glyphicon-book"></span> Description <sup style="color: red;">*</sup></label><textarea redactor name="htmlDescription" data-ng-model="model.htmlDescription" required class="form-control" placeholder=""></textarea><div data-ng-messages="formName.$submitted && formName.htmlDescription.$error" class="help-block"><div data-ng-message="required" >- The <b>description</b> is required.</div></div></div>',link:function(t){t.$watch(function(e){return e.model.htmlDescription},function(){t.model.description=e("htmlToPlaintext")(t.model.htmlDescription)})}}}]).directive("warrantyInput",["$filter",function(e){return{restrict:"E",scope:{formName:"=",model:"="},template:'<div class="form-group"><label class="control-label"><i class="fa fa-certificate"></i> Warranty <sup style="color: red;">*</sup></label><textarea redactor name="htmlWarranty" data-ng-model="model.htmlWarranty" required class="form-control" placeholder=""></textarea><div data-ng-messages="formName.$submitted && formName.htmlWarranty.$error" class="help-block"><div data-ng-message="required" >- The <b>Warranty</b> is required.</div></div></div>',link:function(t){t.$watch(function(e){return e.model.htmlWarranty},function(){t.model.warranty=e("htmlToPlaintext")(t.model.htmlWarranty)})}}}]).directive("titleInput",["$filter",function(e){return{restrict:"E",scope:{formName:"=",model:"="},template:'<div class="form-group"><label class="control-label"><span class="glyphicon glyphicon-bookmark"></span> Title <sup style="color: red;">*</sup></label><input type="text" name="title" ng-model="model.title" required minlength="7" capitalize-first-char class="form-control" placeholder=""><div data-ng-messages="formName.$submitted && formName.title.$error" class="help-block"><div data-ng-message="required">- The <b>title</b> is required.</div><div data-ng-message="minlength" >- The <b>title</b> must be at least 7 characters long.</div></div></div>'}}]).directive("quantityInput",[function(){return{restrict:"E",scope:{formName:"=",model:"="},template:'<div class="form-group" ><div class="row"><div class="col-xs-4"><label class="control-label"><i class="fa fa-cubes"></i> Quantity in stock <sup style="color: red;">*</sup></label><div class="input-group"><div class="input-group-addon">Units</div><input name="quantity" ng-model="model.quantity" required class="form-control" placeholder="Eje: 100" type="number"></div><div data-ng-messages="formName.$submitted && formName.quantity.$error" class="help-block"><div data-ng-message="required">- The <b>quantity</b> is required.</div></div></div></div></div>'}}]).directive("priceInput",[function(){return{restrict:"E",scope:{formName:"=",model:"="},template:'<div class="form-group" ><div class="row"><div class="col-xs-4"><label class="control-label"><span class="glyphicon glyphicon-tag"></span> Price <sup style="color: red;">*</sup></label><div class="input-group"><div class="input-group-addon">£</div><input name="price" ng-model="model.price" required class="form-control" placeholder="Eje: 1000" type="number"></div><div data-ng-messages="formName.$submitted && formName.price.$error" class="help-block"><div data-ng-message="required">- The <b>price</b> is required.</div></div></div></div></div>'}}]).directive("jobTypeSelect",[function(){return{restrict:"E",scope:{model:"="},template:'<hr class="hr-xs"><label><i class="fa fa-random"></i> Job type</label><div class="row" style="margin-bottom: 10px;"><div class="col-xs-5"><select class="form-control" ng-model="model.jobType"><option ng-repeat="type in jobTypes" value="{{type}}">{{type}}</option></select></div></div>',link:function(e){"undefined"==typeof e.model.jobType&&(e.model.jobType="Permanent"),e.jobTypes=["Permanent","Contract"]}}}]).directive("salaryInput",[function(){return{restrict:"E",scope:{formName:"=",model:"="},template:'<hr class="hr-xs"><div class="row"><div class="col-xs-8"><label><i class="fa fa-gbp"></i> Salary</label><div class="row" style="margin-bottom: 10px;"><div class="col-xs-5"><select class="form-control" ng-model="model.jobSalaryType"><option ng-repeat="salaryType in jobSalaryTypes" value="{{salaryType}}"> {{salaryType}} </option></select></div></div><label><i class="fa fa-gbp"></i> From:</label><div class="form-group" style="margin-bottom: 10px;"><input name="jobSalaryStartAt" ng-model="model.jobSalaryStartAt" required class="form-control" placeholder="<Base salary or start at>" type="number"></div><div data-ng-messages="(formName.$submitted && formName.jobSalaryStartAt.$error) || (formName.jobSalaryStartAt.$dirty && formName.jobSalaryStartAt.$error)" class="help-block"><div data-ng-message="required">- The <b>start or base salary</b> is required.</div></div><label><i class="fa fa-gbp"></i> To:</label><div class="form-group" style="margin-bottom: 10px;"><input name="jobSalaryEndAt" ng-model="model.jobSalaryEndAt" required class="form-control" placeholder="<End at>" type="number"></div><div data-ng-messages="(formName.$submitted && formName.jobSalaryEndAt.$error) || (formName.jobSalaryEndAt.$dirty && formName.jobSalaryEndAt.$error)" class="help-block"><div data-ng-message="required">- The <b> max salary </b> is required.</div></div><div class="checkbox"><label><input ng-model="model.jobHasBonus" type="checkbox"> The job Has Bonus?</label></div><div class="checkbox" style="margin-bottom: 0;"><label><input ng-model="model.jobHasBenefits" type="checkbox"> The job Has Benefits?</label></div></div></div>',link:function(e){function t(){switch(e.model.jobSalaryType){case"Annual":e.model.jobEstimatedMonthlySalary=e.model.jobSalaryStartAt/12;break;case"Daily":e.model.jobEstimatedMonthlySalary=21.741*e.model.jobSalaryStartAt;break;case"Hourly":e.model.jobEstimatedMonthlySalary=8*e.model.jobSalaryStartAt*21.741}}"undefined"==typeof e.model.jobSalaryStartAt&&(e.model.jobSalaryStartAt=null),"undefined"==typeof e.model.jobSalaryEndAt&&(e.model.jobSalaryEndAt=null),"undefined"==typeof e.model.jobHasBonus&&(e.model.jobHasBonus=!1),"undefined"==typeof e.model.jobHasBenefits&&(e.model.jobHasBenefits=!1),"undefined"==typeof e.model.jobSalaryType&&(e.model.jobSalaryType="Annual"),e.jobSalaryTypes=["Annual","Daily","Hourly"],e.$watch(function(e){return e.model.jobSalaryType},function(){t()}),e.$watch(function(e){return e.model.jobSalaryStartAt},function(){t()})}}}]).directive("recruiterTypesSelect",[function(){return{restrict:"E",scope:{model:"="},template:'<hr class="hr-xs"><label><i class="fa fa-random"></i> Recruiter type</label><div class="row" style="margin-bottom: 10px;"><div class="col-xs-5"><select class="form-control" ng-model="model.jobRecruiterType"><option ng-repeat="type in recruiterTypes" value="{{type}}">{{type}}</option></select></div></div>',link:function(e){"undefined"==typeof e.model.jobRecruiterType&&(e.model.jobRecruiterType="Agency"),e.recruiterTypes=["Agency","Direct Employer"]}}}]).directive("reHomeStatus",[function(){return{restrict:"E",scope:{model:"="},template:'<hr class="hr-xs"><label><i class="fa fa-random"></i> Home status</label><div class="row" style="margin-bottom: 10px;"><div class="col-xs-5"><select class="form-control" ng-model="model.reHomeStatus"><option ng-repeat="option in options" value="{{option}}">{{option}}</option></select></div></div>',link:function(e){"undefined"==typeof e.model.reHomeStatus&&(e.model.reHomeStatus="New"),e.options=["New","Refurbished","Used"]}}}]).directive("reHomeFor",[function(){return{restrict:"E",scope:{model:"="},template:'<hr class="hr-xs"><label><i class="fa fa-random"></i> Home for</label><div class="row" style="margin-bottom: 10px;"><div class="col-xs-5"><select class="form-control" ng-model="model.reHomeFor"><option ng-repeat="option in options" value="{{option}}">{{option}}</option></select></div></div>',link:function(e){"undefined"==typeof e.model.reHomeFor&&(e.model.reHomeFor="Sale"),e.options=["Sale","Rent"]}}}]);publicationsModule.controller("ViewPublicationController",["$scope","$q","$window","$filter","$routeParams","$location","$http","FireRef","$firebaseArray","$firebaseObject","rfc4122","notificationService","Upload","$uibModal","$log",function(e,t,n,r,i,o,a,s,l,u,c,d,h,p,f){function g(e){var n=t.defer(),r=m.child(e),i=u(r);return i.$loaded(function(){"undefined"==typeof i.releaseDate?n.reject():n.resolve({publication:i})},function(e){n.reject(e)}),n.promise}var m=s.child("publications");e.c={},e.barcode={string:"",options:{width:1,height:50,quite:10,format:"CODE128",displayValue:!0,font:"monospace",textAlign:"center",fontSize:12,backgroundColor:"",lineColor:"#000"}},angular.isDefined(i.publicationId)?e.httpRequestPromise=g(i.publicationId).then(function(t){e.publication=t.publication,e.publicationImages=[],e.barcode.string=t.publication.barcode,e.seo={url:"https://londres.herokuapp.com/#/view-publication/"+t.publication.$id+"/"+r("slug")(t.publication.title)+".html"},angular.forEach(t.publication.images,function(n,r){n.$id=r,r!==t.publication.featuredImageId?e.publicationImages.push(n):e.publicationImages.unshift(n)})},function(){d.error("This action cannot be completed."),o.path("/")}):(d.error("This action cannot be completed."),o.path("/"))}]).directive("facebook",["$window",function(e){return{restrict:"E",scope:{url:"="},template:'<div class="fb-like" data-href="{{url}}" data-layout="button_count" data-action="like" data-show-faces="true" data-share="true"></div>',link:function(){"undefined"!=typeof e.FB&&e.FB.XFBML.parse()}}}]),publicationsModule.directive("barcodeImg",["$compile","$window",function(e,t){function n(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}return{restrict:"E",scope:{barcodeString:"=",barcodeOptions:"="},link:function(r,i){var o="",a="";n()?(o='<canvas id="barcode-img"></canvas>',a="canvas"):(o='<img id="barcode-img">',a="img"),i.html(e(o)(r)),"undefined"!=typeof r.barcodeString&&("undefined"==typeof r.barcodeOptions&&(r.barcodeOptions={}),r.$watch(function(){return r.barcodeString},function(e){t.JsBarcode(i.find(a),e,r.barcodeOptions)}))}}}]).directive("barcode",["$window",function(e){return{restrict:"A",require:"ngModel",scope:{barcodeOptions:"="},link:function(t,n,r,i){function o(e){a=e}"undefined"==typeof t.barcodeOptions&&(t.barcodeOptions={});var a;i.$validators.barcode=function(n){var r=document.getElementById("barcode-img");return"undefined"==typeof r&&(r=document.createElement("div")),e.JsBarcode(r,n,t.barcodeOptions,o),a}}}}]).directive("barcodeInput",["rfc4122",function(e){return{restrict:"E",scope:{formName:"=",inputModel:"=",selectModel:"="},template:'<hr class="hr-xs"><div class="row"><div class="col-xs-8"><label><i class="fa fa-barcode"></i> Barcode</label><div class="row" style="margin-bottom: 10px;"><div class="col-xs-5"><select class="form-control" ng-model="selectModel" ng-change="formName.barcode.$dirty = true; formName.barcode.$pristine = false; inputModel = \'\';"><option ng-repeat="barcode in barcode.types" value="{{barcode.type}}">{{barcode.title}}</option></select></div><div class="col-xs-5"><button ng-show="selectModel === \'CODE128\'" class="btn btn-default" type="button" ng-click="setBarcodeCODE128Randomly(); formName.barcode.$dirty = true; formName.barcode.$pristine = false;">Set one CODE128 type randomly</button></div></div><div class="form-group" style="margin-bottom: 10px;"><input name="barcode" ng-model="inputModel" required barcode barcode-options="barcode.options" class="form-control" placeholder="<Place here the bar code>" type="text"></div><div data-ng-messages="(formName.$submitted && formName.barcode.$error) || (formName.barcode.$dirty && formName.barcode.$error)" class="help-block"><div data-ng-message="required">- The <b>barcode</b> is required.</div><div data-ng-message="barcode">- The <b>barcode </b> must be valid.</div></div><barcode-img ng-show="!formName.barcode.$error.barcode"></barcode-img></div></div><div class="alert alert-info alert-xs" style="margin-bottom: 0; margin-top: 10px;" role="alert">NOTE: The <b>barcode</b> is obligatory for all type of publications, if you don\'t have one, you can set one CODE128 type randomly, with the barcode you and the clients can track this publication in many ways, and other publications they can maybe have the same barcode.</div>',link:function(t){t.barcode={types:[{title:"EAN (13)",type:"EAN"},{title:"UPC-A",type:"UPC"},{title:"CODE39",type:"CODE39"},{title:"CODE128",type:"CODE128"},{title:"ITF (Interleaved 2 of 5)",type:"ITF"},{title:"ITF14",type:"ITF14"},{title:"Pharmacode",type:"pharmacode"}],options:{width:1,height:50,quite:10,format:"CODE128",displayValue:!0,font:"monospace",textAlign:"center",fontSize:12,backgroundColor:"",lineColor:"#000"}},t.setBarcodeCODE128Randomly=function(){t.inputModel=e.v4()},t.$watch(function(){return t.selectModel},function(e){t.barcode.options.format=e})}}}]),publicationsModule.factory("imagesService",["$q","$http","$window","Upload",function(e,t,n,r){function i(t,n,i){var o=e.defer();return t.upload=r.upload({url:"https://api.cloudinary.com/v1_1/berlin/upload",fields:{public_id:n,upload_preset:"ebdyaimw",context:"alt="+t.name+"|caption="+t.name+"|photo="+t.name+"|$id="+n,tags:[i]},file:t}).progress(function(e){t.progress=Math.round(100*e.loaded/e.total)}).success(function(e){t.inServer=!0,t.$id=e.context.custom.$id,o.resolve({$id:e.context.custom.$id})}).error(function(e){t.details=e,o.reject()}),o.promise}return{deleteImages:function(n,r){var i=e.defer(),o={publicationId:n};return"undefined"!=typeof r&&Array.isArray(r)&&(o.public_ids=r),t({method:"DELETE",url:"/files",params:o}).then(function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},saveFiles:function(t,r,o){var a=t.child(r).child("images"),s={},l={};return angular.forEach(o,function(e){if(!angular.isDefined(e.inServer)){var t=a.push();l[t.key()]=t,s[t.key()]=i(e,t.key(),r).then(function(t){return l[t.$id].set({name:e.name,size:e.size,type:e.type,width:e.width,height:e.height,inServer:!0,addedDate:n.Firebase.ServerValue.TIMESTAMP})})}}),e.all(s)},saveFiles2:function(t,r,i){var o=t.child(r).child("images"),a={},s={};return angular.forEach(i,function(e){if(!angular.isDefined(e.inServer)){var t=o.push();s[t.key()]=t,a[t.key()]=Upload.upload({url:"https://api.cloudinary.com/v1_1/berlin/upload",data:{file:e,public_id:t.key(),upload_preset:"ebdyaimw",context:"alt="+e.name+"|caption="+e.name+"|photo="+e.name+"|$id="+t.key(),tags:r}}).then(function(t){return e.inServer=!0,e.$id=t.data.public_id,s[t.data.public_id].set({name:t.data.original_filename+"."+t.data.format,size:t.data.bytes,type:t.data.format,width:t.data.width,height:t.data.height,inServer:!0,addedDate:n.Firebase.ServerValue.TIMESTAMP})},function(t){e.details=t},function(t){e.progress=Math.round(100*t.loaded/t.total)})}}),e.all(a)},featuredImage:function(t,n){function r(e){e?i.reject(e):i.resolve()}var i=e.defer(),o={};return angular.isDefined(n)&&""!==n?o.featuredImageId=n:o.featuredImageId="",t.update(o,r),i.promise}}}]).directive("publicationImages",["$q","$filter","FireRef","notificationService","imagesService",function(e,t,n,r,i){return{scope:{formName:"=",images:"=",publicationId:"=",model:"=",httpRequestPromise:"="},templateUrl:"publicationImages.html",link:function(o){var a=n.child("publications");o.imagesInfo=function(){var e={inQueue:0,inServer:0,invalid:0};return angular.forEach(o.images,function(t){angular.isDefined(t.inServer)||angular.isDefined(t.$error)?angular.isDefined(t.inServer)?e.inServer+=1:e.invalid+=1:e.inQueue+=1}),e},o.deleteAllPublicationImages=function(){i.deleteImages(o.publicationId,null).then(function(){var e=a.child(o.publicationId),t=e.child("images");return t.set({})}).then(function(){angular.copy([],o.images),r.success("The images has been deleted")},function(){r.error("The images cannot be deleted")})},o.setAsPrimaryImage=function(e){var t=a.child(o.publicationId);o.httpRequestPromise=i.featuredImage(t,e).then(function(){o.model.featuredImageId=e,r.success("The file as been selected as featured image.")})},o.removeFile=function(n,s){function l(e){o.images=t("filter")(o.images,function(t,n){return n!==e}),r.success("The file as been delete.")}if(angular.isDefined(s.inServer)){var u={};if(s.$id===o.model.featuredImageId){var c=a.child(o.publicationId);u.blankFeaturedImage=i.featuredImage(c).then(function(){o.model.featuredImageId=""})}u.deleteImage=i.deleteImages(o.publicationId,[s.$id]).then(function(){var e=a.child(o.publicationId).child("images").child(s.$id);return e.set({})}).then(function(){l(n)},function(e){r.error(e)}),o.httpRequestPromise=e.all(u)}else l(n)},o.removeInvalidFiles=function(){o.images=t("filter")(o.images,function(e){return!angular.isDefined(e.$error)})},o.removeAllQueueFiles=function(){o.images=t("filter")(o.images,function(e){return!(!angular.isDefined(e.inServer)&&!angular.isDefined(e.$error))}),r.success("All queue files have been removed.")}}}}]),publicationsModule.controller("ListPublicationsController",["$scope","$q","$location","$window","algolia","FireRef","$firebaseArray","$routeParams","$filter",function(e,t,n,r,i,o,a,s,l){function u(){var n=t.defer(),i=r.Object.keys(e.algolia.faceting.currentFacets).length,o=0;return e.algolia.req.facetFilters=[],angular.forEach(e.algolia.faceting.currentFacets,function(t,r){t.length>0&&angular.forEach(t,function(t){e.algolia.req.facetFilters.push(r+":"+t.name)}),o++,i===o&&n.resolve()}),n.promise}function c(){function n(){i.search(e.algolia.req).then(function(t){t.query!==e.algolia.req.query?n():(e.algolia.res=t,d("categories"),d("locations"),r.resolve())},function(e){r.reject(e)})}var r=t.defer(),i=f.initIndex(e.algolia.sortOrder.currentIndexName);return n(),r.promise}function d(t){e.algolia.faceting.facetsAvailables[t]=[],angular.forEach(e.algolia.res.facets[t],function(n,r){angular.forEach(g[t],function(i){if(r===i.name)if(angular.isDefined(e.algolia.faceting.currentFacets[t])&&e.algolia.faceting.currentFacets[t].length>0){var o=e._(e.algolia.faceting.currentFacets[t]).last();i.parentId===o.$id&&(i.count=n,e.algolia.faceting.facetsAvailables[t].push(i))}else""===i.parentId&&(i.count=n,e.algolia.faceting.facetsAvailables[t].push(i))})})}function h(){e.algolia.sortOrder.changeIndexName("publications"),angular.copy({},e.algolia.faceting.currentFacets),e.algolia.req.facetFilters=[],e.algolia.req.page=0,e.algolia.pagination.currentPage=1}var p={},f=i.Client("FU6V8V2Y6Q","75b635c7c8656803b0b9e82e0510f266"),g={categories:a(o.child("categories").orderByChild("left")),locations:a(o.child("locations").orderByChild("left"))};p.categories=g.categories.$loaded(),p.locations=g.locations.$loaded(),e.algolia={req:{query:"",facets:"*",facetFilters:[],hitsPerPage:7,getRankingInfo:1,page:0,highlightPreTag:"<b>",highlightPostTag:"</b>"},res:{},pagination:{maxSize:10,currentPage:1,pageChanged:function(){e.algolia.req.page=e.algolia.pagination.currentPage-1,c()}},sortOrder:{currentIndexName:"publications",changeIndexName:function(t){e.algolia.sortOrder.currentIndexName=t},sortBy:function(){e.algolia.req.page=0,e.algolia.pagination.currentPage=1,c()},options:{Marketplace:[{title:"Relevance",indexName:"publications"},{title:"Low prices publications",indexName:"publications_by_price_asc"},{title:"Highest prices publications",indexName:"publications_by_price_desc"},{title:"Latest publications",indexName:"publications_by_releaseDate_desc"},{title:"Old publications",indexName:"publications_by_releaseDate_asc"}],Jobs:[{title:"Relevance",indexName:"publications"},{title:"Highest salary publications",indexName:"publications_by_salary_desc"},{title:"Low salary publications",indexName:"publications_by_salary_asc"},{title:"Latest publications",indexName:"publications_by_releaseDate_desc"},{title:"Old publications",indexName:"publications_by_releaseDate_asc"}],"Real Estate":[{title:"Relevance",indexName:"publications"},{title:"Low prices publications",indexName:"publications_by_price_asc"},{title:"Highest prices publications",indexName:"publications_by_price_desc"},{title:"Latest publications",indexName:"publications_by_releaseDate_desc"},{title:"Old publications",indexName:"publications_by_releaseDate_asc"}],Transport:[{title:"Relevance",indexName:"publications"},{title:"Low prices publications",indexName:"publications_by_price_asc"},{title:"Highest prices publications",indexName:"publications_by_price_desc"},{title:"Latest publications",indexName:"publications_by_releaseDate_desc"},{title:"Old publications",indexName:"publications_by_releaseDate_asc"}],Services:[{title:"Relevance",indexName:"publications"},{title:"Latest publications",indexName:"publications_by_releaseDate_desc"},{title:"Old publications",indexName:"publications_by_releaseDate_asc"}]}},faceting:{facetsAvailables:{userID:[],categories:[],locations:[],jobType:[],jobRecruiterType:[],jobSalaryType:[],reHomeStatus:[],reHomeFor:[],jobHasBenefits:[],jobHasBonus:[]},currentFacets:{userID:[],categories:[],locations:[],jobType:[],jobRecruiterType:[],jobSalaryType:[],reHomeStatus:[],reHomeFor:[],jobHasBenefits:[],jobHasBonus:[]},treeFacetsMethods:{addFacet:function(t,n){e.algolia.faceting.currentFacets[t]=angular.isDefined(e.algolia.faceting.currentFacets[t])?e.algolia.faceting.currentFacets[t]:[],e.algolia.faceting.currentFacets[t].push(n),e.algolia.req.facetFilters.push(t+":"+n.name),c()},removeAllFacet:function(t){angular.copy([],e.algolia.faceting.currentFacets[t]),"categories"===t&&(angular.copy([],e.algolia.faceting.currentFacets.reHomeStatus),angular.copy([],e.algolia.faceting.currentFacets.reHomeFor),angular.copy([],e.algolia.faceting.currentFacets.jobType),angular.copy([],e.algolia.faceting.currentFacets.jobSalaryType),angular.copy([],e.algolia.faceting.currentFacets.jobRecruiterType),angular.copy([],e.algolia.faceting.currentFacets.jobHasBenefits),angular.copy([],e.algolia.faceting.currentFacets.jobHasBonus)),u().then(function(){e.algolia.sortOrder.changeIndexName("publications"),c()})},removeFacet:function(t,n,r){var i=[];angular.copy(e.algolia.faceting.currentFacets[t],i),angular.copy([],e.algolia.faceting.currentFacets[t]);for(var o=0;r>=o;o++)e.algolia.faceting.currentFacets[t].push(i[o]),o===r&&u().then(function(){c()})}},facetsMethods:{addFacet:function(t,n){var r={};r.name=n,e.algolia.faceting.currentFacets[t]=angular.isDefined(e.algolia.faceting.currentFacets[t])?e.algolia.faceting.currentFacets[t]:[],e.algolia.faceting.currentFacets[t].push(r),e.algolia.req.facetFilters.push(t+":"+r.name),c()},removeFacet:function(t){angular.copy([],e.algolia.faceting.currentFacets[t]),u().then(function(){e.algolia.sortOrder.changeIndexName("publications"),c()})}}}},e.submit=function(){h(),c().then(null,function(e){notificationService.error(e)})};var m=t.defer();e.httpRequestPromise=m.promise,t.all(p).then(function(){e.$watch(function(){return e.algolia.req.query},function(){if(h(),"undefined"!=typeof e.account){var t={};t.name=e.account.user.uid,e.algolia.faceting.currentFacets.userID=[],e.algolia.faceting.currentFacets.userID.push(t),e.algolia.req.facetFilters.push("userID:"+t.name)}c().then(null,function(e){notificationService.error(e)})})}).then(function(){e.thePublicationsAreReady=!0,m.resolve()}),e.viewPublication=function(e){n.path("/view-publication/"+e)},e.editPublication=function(e){n.path("/edit-publication/"+e)}}]),angular.module("login",["ngMessages","validation.match","trTrustpass","ngPasswordStrength"]).controller("LoginController",["$scope","FireAuth","$location","$q","FireRef","notificationService","$window","$log",function(e,t,n,r,i,o,a,s){var l=angular.copy(e.model={signIn:{email:"",password:"",rememberMe:!1},register:{names:"",lastNames:"",email:"",password:"",samePassword:""},recoverAccount:{email:""}});e.forms={signIn:{},register:{},recoverAccount:{}},e.resetRegisterForm=function(){angular.copy(l.register,e.model.register),e.forms.register.$setUntouched(),e.forms.register.$setPristine()},e.resetSignInForm=function(){angular.copy(l.signIn,e.model.signIn),e.forms.signIn.$setUntouched(),e.forms.signIn.$setPristine()};var u=function(){a.location="#/new-publication"},c=function(e){switch(e.code){case"AUTHENTICATION_DISABLED":o.error("The requested authentication provider is disabled for this Firebase application.");break;case"EMAIL_TAKEN":o.error("The new user account cannot be created because the email is already in use.");break;case"INVALID_ARGUMENTS":o.error("The specified credentials are malformed or incomplete. Please refer to the error message, error details, and Firebase documentation for the required arguments for authenticating with this provider.");break;case"INVALID_CONFIGURATION":o.error("The requested authentication provider is misconfigured, and the request cannot complete. Please confirm that the provider 's client ID and secret are correct in your App Dashboard and the app is properly set up on the provider 's website.");break;case"INVALID_CREDENTIALS":o.error("The requested authentication provider is misconfigured, and the request cannot complete. Please confirm that the provider 's client ID and secret are correct in your App Dashboard and the app is properly set up on the provider 's website.");break;case"INVALID_EMAIL":o.error("The specified email is not a valid email.");break;case"INVALID_ORIGIN":o.error("A security error occurred while processing the authentication request. The web origin for the request is not in your list of approved request origins. To approve this origin, visit the Login & Auth tab in your App Dashboard.");break;case"INVALID_PASSWORD":o.error("The specified user account password is incorrect.");break;case"INVALID_PROVIDER":o.error("The requested authentication provider does not exist. Please consult the Firebase Authentication documentation for a list of supported providers.");break;case"INVALID_TOKEN":o.error("The specified authentication token is invalid. This can occur when the token is malformed, expired, or the Firebase app secret that was used to generate it has been revoked.");break;case"INVALID_USER":o.error("The specified user account does not exist.");break;case"NETWORK_ERROR":o.error("An error occurred while attempting to contact the authentication server.");break;case"PROVIDER_ERROR":o.error("A third-party provider error occurred. Please refer to the error message and error details for more information.");break;case"TRANSPORT_UNAVAILABLE":o.error("The requested login method is not available in the user's browser environment. Popups are not available in Chrome for iOS, iOS Preview Panes, or local, file:// URLs. Redirects are not available in PhoneGap / Cordova, or local, file:// URLs.");break;case"UNKNOWN_ERROR":o.error("An unknown error occurred. Please refer to the error message and error details for more information.");break;case"USER_CANCELLED":o.error("The current authentication request was cancelled by the user.");break;case"USER_DENIED":o.error("The user did not authorize the application. This error can occur when the user has cancelled an OAuth authentication request.");break;default:o.error("Undefined Error: ",e)}},d=function(t){var n=r.defer(),o=i.child("users").child(t.uid),a={};return o.once("value",function(r){var i=null!==r.val();if(i)n.resolve();else{switch(t.provider){case"facebook":a.names=t.facebook.displayName,a.provider=t.provider;break;case"twitter":a.names=t.twitter.displayName,a.provider=t.provider;break;case"password":a.email=e.model.register.email,a.names=e.model.register.names,a.lastNames=e.model.register.lastNames,a.provider=t.provider}o.set(a,function(e){e?n.reject(e):n.resolve()})}}),n.promise},h=function(){var n=r.defer();return t.$createUser({email:e.model.register.email,password:e.model.register.password}).then(function(){return t.$authWithPassword({email:e.model.register.email,password:e.model.register.password},{rememberMe:!0})}).then(d).then(function(){n.resolve()},function(e){n.reject(e)}),n.promise};e.register=function(){e.forms.register.$setSubmitted(!0),e.forms.register.$valid&&(e.httpRequestPromise=h().then(function(){u()},function(e){c(e)}))};var p=function(){var n=r.defer(),i=e.model.signIn.rememberMe?"default":"sessionOnly";return t.$authWithPassword({email:e.model.signIn.email,password:e.model.signIn.password},{remember:i}).then(function(e){s.info("authData",e),n.resolve()},function(e){n.reject(e)}),n.promise};e.signIn=function(){e.forms.signIn.$setSubmitted(!0),e.forms.signIn.$valid&&(e.httpRequestPromise=p().then(function(){u()},function(e){c(e)}),s.info("ok fromJson",angular.fromJson(e.model.signIn)),s.info("ok toJson",angular.toJson(e.model.signIn)))};var f=function(){var n=r.defer();return t.$resetPassword({email:e.model.recoverAccount.email}).then(function(){n.resolve()})["catch"](function(e){n.reject(e)}),n.promise};e.recover=function(){e.forms.recoverAccount.$setSubmitted(!0),e.forms.recoverAccount.$valid&&(e.httpRequestPromise=f().then(function(){o.success("Password reset email sent successfully!")},function(e){c(e)}),s.info("ok fromJson",angular.fromJson(e.model.recoverAccount)),s.info("ok toJson",angular.toJson(e.model.recoverAccount)))},e.oauthLogin=function(e){t.$authWithOAuthPopup(e,{rememberMe:!0}).then(function(e){return d(e)}).then(u,c)}}]),$.cloudinary.config().cloud_name="berlin",angular.module("account",["trTrustpass","ngPasswordStrength","cloudinary","algoliasearch"]).controller("AccountController",["$scope","$q","user","$uibModal","FireRef","$firebaseObject","notificationService","$log",function(e,t,n,r,i,o,a,s){
e.account={user:n,profile:o(i.child("users/"+n.uid)),publications:{},publicationsImages:{}}}]).controller("AccountProfileController",["$scope","$uibModal","notificationService",function(e,t,n){e.account.httpRequestPromise=e.account.profile.$loaded(null,function(e){n.error(e)});var r=function(e){switch(e){case"escape key press":n.notice("This action was canceled by the user");break;case void 0:n.notice("This action was canceled by the user");break;case"backdrop click":n.notice("This action was canceled by the user");break;default:n.error(e)}};e.changeProfileDetails=function(i){var o=t.open({templateUrl:"accountProfileDetailsModal.html",controller:"AccountProfileDetailsModalController",size:i,resolve:{profile:function(){return e.account.profile}}});o.result.then(function(){n.success("The profile has been updated.")},function(e){r(e)})},e.changePassword=function(i){var o=t.open({templateUrl:"accountProfilePasswordModal.html",controller:"AccountProfilePasswordModalController",size:i,resolve:{profile:function(){return e.account.profile}}});o.result.then(function(){n.success("The password has been updated.")},function(e){r(e)})},e.changeEmail=function(i){var o=t.open({templateUrl:"accountProfileEmailModal.html",controller:"AccountProfileEmailModalController",size:i,resolve:{profile:function(){return e.account.profile}}});o.result.then(function(){n.success("The email has been updated.")},function(e){r(e)})}}]).controller("AccountBillingController",["$scope",function(e){}]).controller("AccountProfileDetailsModalController",["$scope","$modalInstance","profile",function(e,t,n){e.forms={profileDetails:{}},e.profile=n;angular.copy(e.model={profileDetails:{names:angular.isDefined(n.names)&&""!==n.names?n.names:"",lastNames:angular.isDefined(n.lastNames)&&""!==n.lastNames?n.lastNames:"",mobilePhone:angular.isDefined(n.mobilePhone)&&""!==n.mobilePhone?n.mobilePhone:"",landLineTelephone:angular.isDefined(n.landLineTelephone)&&""!==n.landLineTelephone?n.landLineTelephone:"",email:angular.isDefined(n.email)&&""!==n.email?n.email:""}});e.submit=function(){e.forms.profileDetails.$valid&&(n.names=e.model.profileDetails.names,n.lastNames=e.model.profileDetails.lastNames,n.mobilePhone=e.model.profileDetails.mobilePhone,n.landLineTelephone=e.model.profileDetails.landLineTelephone,"password"!==n.provider&&(n.email=angular.isDefined(e.model.profileDetails.email)?e.model.profileDetails.email:""),e.httpRequestPromise=n.$save().then(function(){t.close()},function(e){t.dismiss(e)}))},e.cancel=function(){t.dismiss()}}]).controller("AccountProfilePasswordModalController",["$scope","$modalInstance","FireAuth","profile",function(e,t,n,r){e.forms={accountPassword:{}};angular.copy(e.model={accountPassword:{oldPassword:"",newPassword:"",sameNewPassword:""}});e.submit=function(){e.forms.accountPassword.$valid&&(e.httpRequestPromise=n.$changePassword({email:r.email,oldPassword:e.model.accountPassword.oldPassword,newPassword:e.model.accountPassword.newPassword}).then(function(){t.close()},function(e){t.dismiss(e)}))},e.cancel=function(){t.dismiss()}}]).controller("AccountProfileEmailModalController",["$q","$scope","$modalInstance","FireAuth","profile",function(e,t,n,r,i){t.forms={emailAccount:{}};var o=angular.copy(t.model={emailAccount:{newEmail:"",password:""}});t.submit=function(){if(t.forms.emailAccount.$valid){var o=e.defer();t.httpRequestPromise=o.promise,r.$changeEmail({password:t.model.emailAccount.password,newEmail:t.model.emailAccount.newEmail,oldEmail:i.email}).then(function(){return i.email=t.model.emailAccount.newEmail,i.$save()}).then(function(){n.close(),o.resolve()},function(e){n.dismiss(e),o.reject(e)})}},t.resetForm=function(){angular.copy(o.emailAccount,t.model.emailAccount),t.forms.emailAccount.$setUntouched(),t.forms.emailAccount.$setPristine()},t.cancel=function(){n.dismiss()}}]),function(e){"use strict";function t(e,n){return new t.prototype.init(e,n)}Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;return function(){return t.apply(e)}});var n=0;e.fn.redactor=function(n){var r=[],i=Array.prototype.slice.call(arguments,1);return"string"==typeof n?this.each(function(){var t,o=e.data(this,"redactor");if("-1"!=n.search(/\./)?(t=n.split("."),"undefined"!=typeof o[t[0]]&&(t=o[t[0]][t[1]])):t=o[n],"undefined"!=typeof o&&e.isFunction(t)){var a=t.apply(o,i);void 0!==a&&a!==o&&r.push(a)}else e.error('No such method "'+n+'" for Redactor')}):this.each(function(){e.data(this,"redactor",{}),e.data(this,"redactor",t(this,n))}),0===r.length?this:1===r.length?r[0]:r},e.Redactor=t,e.Redactor.VERSION="10.2.1",e.Redactor.modules=["alignment","autosave","block","buffer","build","button","caret","clean","code","core","dropdown","file","focus","image","indent","inline","insert","keydown","keyup","lang","line","link","linkify","list","modal","observe","paragraphize","paste","placeholder","progress","selection","shortcuts","tabifier","tidy","toolbar","upload","utils"],e.Redactor.opts={lang:"en",direction:"ltr",plugins:!1,focus:!1,focusEnd:!1,placeholder:!1,visual:!0,tabindex:!1,minHeight:!1,maxHeight:!1,linebreaks:!1,replaceDivs:!0,paragraphize:!0,cleanStyleOnEnter:!1,enterKey:!0,cleanOnPaste:!0,cleanSpaces:!0,pastePlainText:!1,autosave:!1,autosaveName:!1,autosaveInterval:60,autosaveOnChange:!1,autosaveFields:!1,linkTooltip:!0,linkProtocol:"http",linkNofollow:!1,linkSize:50,imageEditable:!0,imageLink:!0,imagePosition:!0,imageFloatMargin:"10px",imageResizable:!0,imageUpload:null,imageUploadParam:"file",uploadImageField:!1,dragImageUpload:!0,fileUpload:null,fileUploadParam:"file",dragFileUpload:!0,s3:!1,convertLinks:!0,convertUrlLinks:!0,convertImageLinks:!0,convertVideoLinks:!0,preSpaces:4,tabAsSpaces:!1,tabKey:!0,scrollTarget:!1,toolbar:!0,toolbarFixed:!0,toolbarFixedTarget:document,toolbarFixedTopOffset:0,toolbarExternal:!1,toolbarOverflow:!1,source:!0,buttons:["html","formatting","bold","italic","deleted","unorderedlist","orderedlist","outdent","indent","image","file","link","alignment","horizontalrule"],buttonsHide:[],buttonsHideOnMobile:[],formatting:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],formattingAdd:!1,tabifier:!0,deniedTags:["script","style"],allowedTags:!1,paragraphizeBlocks:["table","div","pre","form","ul","ol","h1","h2","h3","h4","h5","h6","dl","blockquote","figcaption","address","section","header","footer","aside","article","object","style","script","iframe","select","input","textarea","button","option","map","area","math","hr","fieldset","legend","hgroup","nav","figure","details","menu","summary","p"],removeComments:!1,replaceTags:[["strike","del"],["b","strong"]],replaceStyles:[["font-weight:\\s?bold","strong"],["font-style:\\s?italic","em"],["text-decoration:\\s?underline","u"],["text-decoration:\\s?line-through","del"]],removeDataAttr:!1,removeAttr:!1,allowedAttr:!1,removeWithoutAttr:["span"],removeEmpty:["p"],activeButtons:["deleted","italic","bold","underline","unorderedlist","orderedlist","alignleft","aligncenter","alignright","justify"],activeButtonsStates:{b:"bold",strong:"bold",i:"italic",em:"italic",del:"deleted",strike:"deleted",ul:"unorderedlist",ol:"orderedlist",u:"underline"},shortcuts:{"ctrl+shift+m, meta+shift+m":{func:"inline.removeFormat"},"ctrl+b, meta+b":{func:"inline.format",params:["bold"]},"ctrl+i, meta+i":{func:"inline.format",params:["italic"]},"ctrl+h, meta+h":{func:"inline.format",params:["superscript"]},"ctrl+l, meta+l":{func:"inline.format",params:["subscript"]},"ctrl+k, meta+k":{func:"link.show"},"ctrl+shift+7":{func:"list.toggle",params:["orderedlist"]},"ctrl+shift+8":{func:"list.toggle",params:["unorderedlist"]}},shortcutsAdd:!1,buffer:[],rebuffer:[],emptyHtml:"<p>&#x200b;</p>",invisibleSpace:"&#x200b;",imageTypes:["image/png","image/jpeg","image/gif"],indentValue:20,verifiedTags:["a","img","b","strong","sub","sup","i","em","u","small","strike","del","cite","ul","ol","li"],inlineTags:["strong","b","u","em","i","code","del","ins","samp","kbd","sup","sub","mark","var","cite","small"],alignmentTags:["P","H1","H2","H3","H4","H5","H6","DL","DT","DD","DIV","TD","BLOCKQUOTE","OUTPUT","FIGCAPTION","ADDRESS","SECTION","HEADER","FOOTER","ASIDE","ARTICLE"],blockLevelElements:["PRE","UL","OL","LI"],highContrast:!1,observe:{dropdowns:[]},langs:{en:{html:"HTML",video:"Insert Video",image:"Insert Image",table:"Table",link:"Link",link_insert:"Insert link",link_edit:"Edit link",unlink:"Unlink",formatting:"Formatting",paragraph:"Normal text",quote:"Quote",code:"Code",header1:"Header 1",header2:"Header 2",header3:"Header 3",header4:"Header 4",header5:"Header 5",bold:"Bold",italic:"Italic",fontcolor:"Font Color",backcolor:"Back Color",unorderedlist:"Unordered List",orderedlist:"Ordered List",outdent:"Outdent",indent:"Indent",cancel:"Cancel",insert:"Insert",save:"Save",_delete:"Delete",insert_table:"Insert Table",insert_row_above:"Add Row Above",insert_row_below:"Add Row Below",insert_column_left:"Add Column Left",insert_column_right:"Add Column Right",delete_column:"Delete Column",delete_row:"Delete Row",delete_table:"Delete Table",rows:"Rows",columns:"Columns",add_head:"Add Head",delete_head:"Delete Head",title:"Title",image_position:"Position",none:"None",left:"Left",right:"Right",center:"Center",image_web_link:"Image Web Link",text:"Text",mailto:"Email",web:"URL",video_html_code:"Video Embed Code or Youtube/Vimeo Link",file:"Insert File",upload:"Upload",download:"Download",choose:"Choose",or_choose:"Or choose",drop_file_here:"Drop file here",align_left:"Align text to the left",align_center:"Center text",align_right:"Align text to the right",align_justify:"Justify text",horizontalrule:"Insert Horizontal Rule",deleted:"Deleted",anchor:"Anchor",link_new_tab:"Open link in new tab",underline:"Underline",alignment:"Alignment",filename:"Name (optional)",edit:"Edit",upload_label:"Drop file here or "}},linkify:{regexps:{youtube:/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube\.com\S*[^\w\-\s])([\w\-]{11})(?=[^\w\-]|$)(?![?=&+%\w.\-]*(?:['"][^<>]*>|<\/a>))[?=&+%\w.-]*/gi,vimeo:/https?:\/\/(www\.)?vimeo.com\/(\d+)($|\/)/,image:/((https?|www)[^\s]+\.)(jpe?g|png|gif)(\?[^\s-]+)?/gi,url:/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/gi}},codemirror:!1},t.fn=e.Redactor.prototype={keyCode:{BACKSPACE:8,DELETE:46,UP:38,DOWN:40,ENTER:13,SPACE:32,ESC:27,TAB:9,CTRL:17,META:91,SHIFT:16,ALT:18,RIGHT:39,LEFT:37,LEFT_WIN:91},init:function(t,r){if(this.$element=e(t),this.uuid=n++,this.rtePaste=!1,this.$pasteBox=!1,this.loadOptions(r),this.loadModules(),this.formatting={},e.merge(this.opts.blockLevelElements,this.opts.alignmentTags),this.reIsBlock=new RegExp("^("+this.opts.blockLevelElements.join("|")+")$","i"),this.tidy.setupAllowed(),this.opts.deniedTags!==!1)for(var i=["html","head","link","body","meta","applet"],o=0;o<i.length;o++)this.opts.deniedTags.push(i[o]);this.lang.load(),e.extend(this.opts.shortcuts,this.opts.shortcutsAdd),this.core.setCallback("start"),this.start=!0,this.build.run()},loadOptions:function(t){this.opts=e.extend({},e.extend(!0,{},e.Redactor.opts),this.$element.data(),t)},getModuleMethods:function(e){return Object.getOwnPropertyNames(e).filter(function(t){return"function"==typeof e[t]})},loadModules:function(){for(var t=e.Redactor.modules.length,n=0;t>n;n++)this.bindModuleMethods(e.Redactor.modules[n])},bindModuleMethods:function(e){if("undefined"!=typeof this[e]){this[e]=this[e]();for(var t=this.getModuleMethods(this[e]),n=t.length,r=0;n>r;r++)this[e][t[r]]=this[e][t[r]].bind(this)}},alignment:function(){return{left:function(){this.alignment.set("")},right:function(){this.alignment.set("right")},center:function(){this.alignment.set("center")},justify:function(){this.alignment.set("justify")},set:function(e){this.utils.browser("msie")||this.$editor.focus(),this.buffer.set(),this.selection.save(),this.alignment.blocks=this.selection.getBlocks(),this.alignment.type=e,this.alignment.isLinebreaksOrNoBlocks()?this.alignment.setText():this.alignment.setBlocks(),this.selection.restore(),this.code.sync()},setText:function(){var t=this.selection.wrap("div");e(t).attr("data-tagblock","redactor").css("text-align",this.alignment.type)},setBlocks:function(){e.each(this.alignment.blocks,e.proxy(function(e,t){var n=this.utils.getAlignmentElement(t);n&&(this.alignment.isNeedReplaceElement(n)?this.alignment.replaceElement(n):this.alignment.alignElement(n))},this))},isLinebreaksOrNoBlocks:function(){return this.opts.linebreaks&&this.alignment.blocks[0]===!1},isNeedReplaceElement:function(e){return""===this.alignment.type&&"undefined"!=typeof e.data("tagblock")},replaceElement:function(e){e.replaceWith(e.html())},alignElement:function(e){e.css("text-align",this.alignment.type),this.utils.removeEmptyAttr(e,"style")}}},autosave:function(){return{html:!1,enable:function(){this.opts.autosave&&(this.autosave.name=this.opts.autosaveName?this.opts.autosaveName:this.$textarea.attr("name"),this.opts.autosaveOnChange||(this.autosaveInterval=setInterval(this.autosave.load,1e3*this.opts.autosaveInterval)))},onChange:function(){this.opts.autosaveOnChange&&this.autosave.load()},load:function(){if(this.autosave.source=this.code.get(),this.autosave.html!==this.autosave.source){var t={};t.name=this.autosave.name,t[this.autosave.name]=this.autosave.source,t=this.autosave.getHiddenFields(t);var n=e.ajax({url:this.opts.autosave,type:"post",data:t});n.done(this.autosave.success)}},getHiddenFields:function(t){return this.opts.autosaveFields===!1||"object"!=typeof this.opts.autosaveFields?t:(e.each(this.opts.autosaveFields,e.proxy(function(n,r){null!==r&&0===r.toString().indexOf("#")&&(r=e(r).val()),t[n]=r},this)),t)},success:function(t){var n;try{n=e.parseJSON(t)}catch(r){n=t}var i="undefined"==typeof n.error?"autosave":"autosaveError";this.core.setCallback(i,this.autosave.name,n),this.autosave.html=this.autosave.source},disable:function(){clearInterval(this.autosaveInterval)}}},block:function(){return{formatting:function(e){this.block.clearStyle=!1;var t,n;"undefined"!=typeof this.formatting[e].data?t="data":"undefined"!=typeof this.formatting[e].attr?t="attr":"undefined"!=typeof this.formatting[e]["class"]&&(t="class"),"undefined"!=typeof this.formatting[e].clear&&(this.block.clearStyle=!0),t&&(n=this.formatting[e][t]),this.block.format(this.formatting[e].tag,t,n)},format:function(t,n,r){"quote"==t&&(t="blockquote");var i=["p","pre","blockquote","h1","h2","h3","h4","h5","h6"];if(-1!=e.inArray(t,i)){this.block.isRemoveInline="pre"==t||-1!=t.search(/h[1-6]/i),this.utils.browser("msie")||this.$editor.focus();var o=e.trim(this.$editor.html());if(this.block.isEmpty=this.utils.isEmpty(o),this.utils.browser("mozilla")&&!this.focus.isFocused()&&this.block.isEmpty){var a;this.opts.linebreaks||(a=this.$editor.children().first(),this.caret.setEnd(a))}this.block.blocks=this.selection.getBlocks(),this.block.blocksSize=this.block.blocks.length,this.block.type=n,this.block.value=r,this.buffer.set(),this.selection.save(),this.block.set(t),this.selection.restore(),this.code.sync()}},set:function(e){this.selection.get(),this.block.containerTag=this.range.commonAncestorContainer.tagName,this.range.collapsed?this.block.setCollapsed(e):this.block.setMultiple(e)},setCollapsed:function(t){if(this.opts.linebreaks&&this.block.isEmpty&&"p"!=t){var n=document.createElement(t);return this.$editor.html(n),void this.caret.setEnd(n)}var r=this.block.blocks[0];if(r!==!1){if("LI"==r.tagName){if("blockquote"!=t)return;return void this.block.formatListToBlockquote()}var i="TD"==this.block.containerTag||"TH"==this.block.containerTag;if(i&&!this.opts.linebreaks)document.execCommand("formatblock",!1,"<"+t+">"),r=this.selection.getBlock(),this.block.toggle(e(r));else if(r.tagName.toLowerCase()!=t)if(this.opts.linebreaks&&"p"==t)e(r).append("<br>"),this.utils.replaceWithContents(r);else{var o=this.utils.replaceToTag(r,t);this.block.toggle(o),"p"!=t&&"blockquote"!=t&&o.find("img").remove(),this.block.isRemoveInline&&this.utils.removeInlineTags(o),("p"==t||this.block.headTag)&&o.find("p").contents().unwrap(),this.block.formatTableWrapping(o)}else if("blockquote"==t&&r.tagName.toLowerCase()==t)if(this.opts.linebreaks)e(r).append("<br>"),this.utils.replaceWithContents(r);else{var a=this.utils.replaceToTag(r,"p");this.block.toggle(a)}else r.tagName.toLowerCase()==t&&this.block.toggle(e(r));"undefined"==typeof this.block.type&&"undefined"==typeof this.block.value&&e(r).removeAttr("class").removeAttr("style")}},setMultiple:function(t){var n=this.block.blocks[0],r="TD"==this.block.containerTag||"TH"==this.block.containerTag;if(n!==!1&&1===this.block.blocksSize)if(n.tagName.toLowerCase()==t&&"blockquote"==t)if(this.opts.linebreaks)e(n).append("<br>"),this.utils.replaceWithContents(n);else{var i=this.utils.replaceToTag(n,"p");this.block.toggle(i)}else if("LI"==n.tagName){if("blockquote"!=t)return;this.block.formatListToBlockquote()}else if("BLOCKQUOTE"==this.block.containerTag)this.block.formatBlockquote(t);else if(this.opts.linebreaks&&(r||this.range.commonAncestorContainer!=n))this.block.formatWrap(t);else if(this.opts.linebreaks&&"p"==t)e(n).prepend("<br>").append("<br>"),this.utils.replaceWithContents(n);else if("TD"===n.tagName)this.block.formatWrap(t);else{var o=this.utils.replaceToTag(n,t);this.block.toggle(o),this.block.isRemoveInline&&this.utils.removeInlineTags(o),("p"==t||this.block.headTag)&&o.find("p").contents().unwrap()}else if(this.opts.linebreaks||"p"!=t){if("blockquote"==t){for(var a=0,s=0;s<this.block.blocksSize;s++)"BLOCKQUOTE"==this.block.blocks[s].tagName&&a++;if(a==this.block.blocksSize)return void e.each(this.block.blocks,e.proxy(function(t,n){var r=!1;this.opts.linebreaks?(e(n).prepend("<br>").append("<br>"),r=this.utils.replaceWithContents(n)):r=this.utils.replaceToTag(n,"p"),r&&"undefined"==typeof this.block.type&&"undefined"==typeof this.block.value&&r.removeAttr("class").removeAttr("style")},this))}this.block.formatWrap(t)}else{var l=0,u=!1;"class"==this.block.type&&(u="toggle",l=e(this.block.blocks).filter("."+this.block.value).length,this.block.blocksSize==l?u="toggle":this.block.blocksSize>l?u="set":0===l&&(u="set"));var c=["ul","ol","li","td","th","dl","dt","dd"];e.each(this.block.blocks,e.proxy(function(n,r){if(-1==e.inArray(r.tagName.toLowerCase(),c)){var i=this.utils.replaceToTag(r,t);u?"toggle"==u?this.block.toggle(i):"remove"==u?this.block.remove(i):"set"==u&&this.block.setForce(i):this.block.toggle(i),"p"!=t&&"blockquote"!=t&&i.find("img").remove(),this.block.isRemoveInline&&this.utils.removeInlineTags(i),("p"==t||this.block.headTag)&&i.find("p").contents().unwrap(),"undefined"==typeof this.block.type&&"undefined"==typeof this.block.value&&i.removeAttr("class").removeAttr("style")}},this))}},setForce:function(e){return this.block.clearStyle&&e.removeAttr("class").removeAttr("style"),"class"==this.block.type?void e.addClass(this.block.value):"attr"==this.block.type||"data"==this.block.type?void e.attr(this.block.value.name,this.block.value.value):void 0},toggle:function(e){return this.block.clearStyle&&e.removeAttr("class").removeAttr("style"),"class"==this.block.type?void e.toggleClass(this.block.value):"attr"==this.block.type||"data"==this.block.type?void(e.attr(this.block.value.name)==this.block.value.value?e.removeAttr(this.block.value.name):e.attr(this.block.value.name,this.block.value.value)):void e.removeAttr("style class")},remove:function(e){e.removeClass(this.block.value)},formatListToBlockquote:function(){var t=e(this.block.blocks[0]).closest("ul, ol",this.$editor[0]);e(t).find("ul, ol").contents().unwrap(),e(t).find("li").append(e("<br>")).contents().unwrap();var n=this.utils.replaceToTag(t,"blockquote");this.block.toggle(n)},formatBlockquote:function(t){document.execCommand("outdent"),document.execCommand("formatblock",!1,t),this.clean.clearUnverified(),this.$editor.find("p:empty").remove();var n=this.selection.getBlock();"p"!=t&&e(n).find("img").remove(),this.opts.linebreaks||this.block.toggle(e(n)),this.$editor.find("ul, ol, tr, blockquote, p").each(e.proxy(this.utils.removeEmpty,this)),this.opts.linebreaks&&"p"==t&&this.utils.replaceWithContents(n)},formatWrap:function(t){if("UL"==this.block.containerTag||"OL"==this.block.containerTag){if("blockquote"!=t)return;this.block.formatListToBlockquote()}var n=this.selection.wrap(t);if(n!==!1){var r=e(n);this.block.formatTableWrapping(r);var i=r.find(this.opts.blockLevelElements.join(",")+", td, table, thead, tbody, tfoot, th, tr");if(i.contents().unwrap(),"p"!=t&&"blockquote"!=t&&r.find("img").remove(),e.each(this.block.blocks,e.proxy(this.utils.removeEmpty,this)),r.append(this.selection.getMarker(2)),this.opts.linebreaks||this.block.toggle(r),this.$editor.find("ul, ol, tr, blockquote, p").each(e.proxy(this.utils.removeEmpty,this)),r.find("blockquote:empty").remove(),this.block.isRemoveInline&&this.utils.removeInlineTags(r),this.opts.linebreaks&&"p"==t&&this.utils.replaceWithContents(r),this.opts.linebreaks){var o=r.next().next();0!=o.size()&&"BR"===o[0].tagName&&o.remove()}}},formatTableWrapping:function(e){0!==e.closest("table",this.$editor[0]).length&&(0===e.closest("tr",this.$editor[0]).length&&e.wrap("<tr>"),0===e.closest("td",this.$editor[0]).length&&0===e.closest("th").length&&e.wrap("<td>"))},removeData:function(t,n){var r=this.selection.getBlocks();e(r).removeAttr("data-"+t),this.code.sync()},setData:function(t,n){var r=this.selection.getBlocks();e(r).attr("data-"+t,n),this.code.sync()},toggleData:function(t,n){var r=this.selection.getBlocks();e.each(r,function(){e(this).attr("data-"+t)?e(this).removeAttr("data-"+t):e(this).attr("data-"+t,n)})},removeAttr:function(t,n){var r=this.selection.getBlocks();e(r).removeAttr(t),this.code.sync()},setAttr:function(t,n){var r=this.selection.getBlocks();e(r).attr(t,n),this.code.sync()},toggleAttr:function(t,n){var r=this.selection.getBlocks();e.each(r,function(){e(this).attr(name)?e(this).removeAttr(name):e(this).attr(name,n)})},removeClass:function(t){var n=this.selection.getBlocks();e(n).removeClass(t),this.utils.removeEmptyAttr(n,"class"),this.code.sync()},setClass:function(t){var n=this.selection.getBlocks();e(n).addClass(t),this.code.sync()},toggleClass:function(t){var n=this.selection.getBlocks();e(n).toggleClass(t),this.code.sync()}}},buffer:function(){return{set:function(e){"undefined"==typeof e||"undo"==e?this.buffer.setUndo():this.buffer.setRedo()},setUndo:function(){this.selection.save(),this.opts.buffer.push(this.$editor.html()),this.selection.restore()},setRedo:function(){this.selection.save(),this.opts.rebuffer.push(this.$editor.html()),this.selection.restore()},getUndo:function(){this.$editor.html(this.opts.buffer.pop())},getRedo:function(){this.$editor.html(this.opts.rebuffer.pop())},add:function(){this.opts.buffer.push(this.$editor.html())},undo:function(){0!==this.opts.buffer.length&&(this.buffer.set("redo"),this.buffer.getUndo(),this.selection.restore(),setTimeout(e.proxy(this.observe.load,this),50))},redo:function(){0!==this.opts.rebuffer.length&&(this.buffer.set("undo"),this.buffer.getRedo(),this.selection.restore(),setTimeout(e.proxy(this.observe.load,this),50))}}},build:function(){return{run:function(){this.build.createContainerBox(),this.build.loadContent(),this.build.loadEditor(),this.build.enableEditor(),this.build.setCodeAndCall()},isTextarea:function(){return"TEXTAREA"===this.$element[0].tagName},createContainerBox:function(){this.$box=e('<div class="redactor-box" role="application" />')},createTextarea:function(){this.$textarea=e("<textarea />").attr("name",this.build.getTextareaName())},getTextareaName:function(){return"undefined"==typeof name?"content-"+this.uuid:this.$element.attr("id")},loadContent:function(){var t=this.build.isTextarea()?"val":"html";this.content=e.trim(this.$element[t]())},enableEditor:function(){this.$editor.attr({contenteditable:!0,dir:this.opts.direction})},loadEditor:function(){var e=this.build.isTextarea()?"fromTextarea":"fromElement";this.build[e]()},fromTextarea:function(){this.$editor=e("<div />"),this.$textarea=this.$element,this.$box.insertAfter(this.$element).append(this.$editor).append(this.$element),this.$editor.addClass("redactor-editor"),this.$element.hide()},fromElement:function(){this.$editor=this.$element,this.build.createTextarea(),this.$box.insertAfter(this.$editor).append(this.$editor).append(this.$textarea),this.$editor.addClass("redactor-editor"),this.$textarea.hide()},setCodeAndCall:function(){this.code.set(this.content),this.build.setOptions(),this.build.callEditor(),this.opts.visual||setTimeout(e.proxy(this.code.showCode,this),200)},callEditor:function(){this.build.disableMozillaEditing(),this.build.disableIeLinks(),this.build.setEvents(),this.build.setHelpers(),this.opts.toolbar&&(this.opts.toolbar=this.toolbar.init(),this.toolbar.build()),this.modal.loadTemplates(),this.build.plugins(),setTimeout(e.proxy(this.observe.load,this),4),this.core.setCallback("init")},setOptions:function(){e(this.$textarea).attr("dir",this.opts.direction),this.opts.linebreaks&&this.$editor.addClass("redactor-linebreaks"),this.opts.tabindex&&this.$editor.attr("tabindex",this.opts.tabindex),this.opts.minHeight&&this.$editor.css("minHeight",this.opts.minHeight),this.opts.maxHeight&&this.$editor.css("maxHeight",this.opts.maxHeight)},setEventDropUpload:function(e){if(e.preventDefault(),this.opts.dragImageUpload&&this.opts.dragFileUpload){var t=e.dataTransfer.files;this.upload.directUpload(t[0],e)}},setEventDrop:function(e){this.code.sync(),setTimeout(this.clean.clearUnverified,1),this.core.setCallback("drop",e)},setEvents:function(){this.$editor.on("drop.redactor",e.proxy(function(e){return e=e.originalEvent||e,void 0!==window.FormData&&e.dataTransfer?0===e.dataTransfer.files.length?this.build.setEventDrop(e):(this.build.setEventDropUpload(e),setTimeout(this.clean.clearUnverified,1),void this.core.setCallback("drop",e)):!0},this)),this.$editor.on("click.redactor",e.proxy(function(e){var t=this.core.getEvent(),n="click"==t||"arrow"==t?!1:"click";this.core.addEvent(n),this.utils.disableSelectAll(),this.core.setCallback("click",e)},this)),this.$editor.on("paste.redactor",e.proxy(this.paste.init,this)),this.$editor.on("cut.redactor",e.proxy(this.code.sync,this)),this.$editor.on("keydown.redactor",e.proxy(this.keydown.init,this)),this.$editor.on("keyup.redactor",e.proxy(this.keyup.init,this)),e.isFunction(this.opts.codeKeydownCallback)&&this.$textarea.on("keydown.redactor-textarea",e.proxy(this.opts.codeKeydownCallback,this)),e.isFunction(this.opts.codeKeyupCallback)&&this.$textarea.on("keyup.redactor-textarea",e.proxy(this.opts.codeKeyupCallback,this)),e.isFunction(this.opts.focusCallback)&&this.$editor.on("focus.redactor",e.proxy(this.opts.focusCallback,this)),e(document).on("mousedown.redactor."+this.uuid,e.proxy(function(e){this.blurClickedElement=e.target},this)),this.$editor.on("blur.redactor",e.proxy(function(t){this.start||this.rtePaste||this.build.isBlured()&&(this.utils.disableSelectAll(),e.isFunction(this.opts.blurCallback)&&this.core.setCallback("blur",t))},this))},isBlured:function(){if(this.blurClickedElement===!0)return!0;var t=e(this.blurClickedElement);return!t.hasClass("redactor-toolbar, redactor-dropdown")&&!t.is("#redactor-modal")&&0===t.parents(".redactor-toolbar, .redactor-dropdown, #redactor-modal").length},setHelpers:function(){this.linkify.isEnabled()&&this.linkify.format(),this.placeholder.enable(),this.opts.focus&&setTimeout(this.focus.setStart,100),this.opts.focusEnd&&setTimeout(this.focus.setEnd,100)},plugins:function(){this.opts.plugins&&e.each(this.opts.plugins,e.proxy(function(n,r){var i="undefined"!=typeof RedactorPlugins&&"undefined"!=typeof RedactorPlugins[r]?RedactorPlugins:t.fn;if(e.isFunction(i[r])){this[r]=i[r]();for(var o=this.getModuleMethods(this[r]),a=o.length,s=0;a>s;s++)this[r][o[s]]=this[r][o[s]].bind(this);e.isFunction(this[r].init)&&this[r].init()}},this))},disableMozillaEditing:function(){if(this.utils.browser("mozilla"))try{document.execCommand("enableObjectResizing",!1,!1),document.execCommand("enableInlineTableEditing",!1,!1)}catch(e){}},disableIeLinks:function(){this.utils.browser("msie")&&document.execCommand("AutoUrlDetect",!1,!1)}}},button:function(){return{build:function(t,n){var r=e('<a href="#" class="re-icon re-'+t+'" rel="'+t+'" />').attr({role:"button","aria-label":n.title,tabindex:"-1"});if((n.func||n.command||n.dropdown)&&this.button.setEvent(r,t,n),n.dropdown){r.addClass("redactor-toolbar-link-dropdown").attr("aria-haspopup",!0);var i=e('<div class="redactor-dropdown redactor-dropdown-'+this.uuid+" redactor-dropdown-box-"+t+'" style="display: none;">');r.data("dropdown",i),this.dropdown.build(t,i,n.dropdown)}return this.utils.isDesktop()&&this.button.createTooltip(r,t,n.title),r},setEvent:function(t,n,r){t.on("touchstart click",e.proxy(function(e){if(t.hasClass("redactor-button-disabled"))return!1;var i="func",o=r.func;r.command?(i="command",o=r.command):r.dropdown&&(i="dropdown",o=!1),this.button.onClick(e,n,i,o)},this))},createTooltip:function(t,n,r){var i=e("<span>").addClass("redactor-toolbar-tooltip redactor-toolbar-tooltip-"+this.uuid+" redactor-toolbar-tooltip-"+n).hide().html(r);i.appendTo("body"),t.on("mouseover",function(){if(!e(this).hasClass("redactor-button-disabled")){var n=t.offset();i.show(),i.css({top:n.top+t.innerHeight()+"px",left:n.left+t.innerWidth()/2-i.innerWidth()/2+"px"})}}),t.on("mouseout",function(){i.hide()})},onClick:function(e,t,n,r){this.button.caretOffset=this.caret.getOffset(),e.preventDefault(),this.utils.browser("msie")&&(e.returnValue=!1),"command"==n?this.inline.format(r):"dropdown"==n?this.dropdown.show(e,t):this.button.onClickCallback(e,r,t)},onClickCallback:function(t,n,r){var i;if(this.blurClickedElement=!0,e.isFunction(n))n.call(this,r);else if("-1"!=n.search(/\./)){if(i=n.split("."),"undefined"==typeof this[i[0]])return;this[i[0]][i[1]](r)}else this[n](r);this.observe.buttons(t,r)},get:function(e){return this.$toolbar.find("a.re-"+e)},setActive:function(e){this.button.get(e).addClass("redactor-act")},setInactive:function(e){this.button.get(e).removeClass("redactor-act")},setInactiveAll:function(e){"undefined"==typeof e?this.$toolbar.find("a.re-icon").removeClass("redactor-act"):this.$toolbar.find("a.re-icon").not(".re-"+e).removeClass("redactor-act")},setActiveInVisual:function(){this.$toolbar.find("a.re-icon").not("a.re-html").removeClass("redactor-button-disabled")},setInactiveInCode:function(){this.$toolbar.find("a.re-icon").not("a.re-html").addClass("redactor-button-disabled")},changeIcon:function(e,t){this.button.get(e).addClass("re-"+t)},removeIcon:function(e,t){this.button.get(e).removeClass("re-"+t)},setAwesome:function(e,t){var n=this.button.get(e);n.removeClass("redactor-btn-image").addClass("fa-redactor-btn"),n.html('<i class="fa '+t+'"></i>')},addCallback:function(t,n){if("buffer"!=t){var r="dropdown"==n?"dropdown":"func",i=t.attr("rel");t.on("touchstart click",e.proxy(function(e){return t.hasClass("redactor-button-disabled")?!1:void this.button.onClick(e,i,r,n)},this))}},addDropdown:function(t,n){t.addClass("redactor-toolbar-link-dropdown").attr("aria-haspopup",!0);var r=t.attr("rel");this.button.addCallback(t,"dropdown");var i=e('<div class="redactor-dropdown redactor-dropdown-'+this.uuid+" redactor-dropdown-box-"+r+'" style="display: none;">');return t.data("dropdown",i),n&&this.dropdown.build(r,i,n),i},add:function(t,n){if(this.opts.toolbar){if(this.button.isMobileUndoRedo(t))return"buffer";var r=this.button.build(t,{title:n});return r.addClass("redactor-btn-image"),this.$toolbar.append(e("<li>").append(r)),r}},addFirst:function(t,n){if(this.opts.toolbar){if(this.button.isMobileUndoRedo(t))return"buffer";var r=this.button.build(t,{title:n});return r.addClass("redactor-btn-image"),this.$toolbar.prepend(e("<li>").append(r)),r}},addAfter:function(t,n,r){if(this.opts.toolbar){if(this.button.isMobileUndoRedo(n))return"buffer";var i=this.button.build(n,{title:r});i.addClass("redactor-btn-image");var o=this.button.get(t);return 0!==o.length?o.parent().after(e("<li>").append(i)):this.$toolbar.append(e("<li>").append(i)),
i}},addBefore:function(t,n,r){if(this.opts.toolbar){if(this.button.isMobileUndoRedo(n))return"buffer";var i=this.button.build(n,{title:r});i.addClass("redactor-btn-image");var o=this.button.get(t);return 0!==o.length?o.parent().before(e("<li>").append(i)):this.$toolbar.append(e("<li>").append(i)),i}},remove:function(e){this.button.get(e).remove()},isMobileUndoRedo:function(e){return("undo"==e||"redo"==e)&&!this.utils.isDesktop()}}},caret:function(){return{setStart:function(t){if(this.utils.isBlock(t))this.caret.set(t,0,t,0);else{var n=this.utils.createSpaceElement();e(t).prepend(n),this.caret.setEnd(n)}},setEnd:function(e){return e=e[0]||e,1==e.lastChild.nodeType?this.caret.setAfter(e.lastChild):void this.caret.set(e,1,e,1)},set:function(t,n,r,i){if(t=t[0]||t,r=r[0]||r,this.utils.isBlockTag(t.tagName)&&""===t.innerHTML&&(t.innerHTML=this.opts.invisibleSpace),"BR"==t.tagName&&this.opts.linebreaks===!1){var o=e(this.opts.emptyHtml)[0];e(t).replaceWith(o),t=o,r=t}this.selection.get();try{this.range.setStart(t,n),this.range.setEnd(r,i)}catch(a){}this.selection.addRange()},setAfter:function(t){try{var n=e(t)[0].tagName;if("BR"==n||this.utils.isBlock(t))"BR"!=n&&this.utils.browser("msie")?this.caret.setStart(e(t).next()):this.caret.setAfterOrBefore(t,"after");else{var r=this.utils.createSpaceElement();e(t).after(r),this.caret.setEnd(r)}}catch(i){var r=this.utils.createSpaceElement();e(t).after(r),this.caret.setEnd(r)}},setBefore:function(t){this.utils.isBlock(t)?this.caret.setEnd(e(t).prev()):this.caret.setAfterOrBefore(t,"before")},setAfterOrBefore:function(e,t){if(this.utils.browser("msie")||this.$editor.focus(),e=e[0]||e,this.selection.get(),"after"==t)try{this.range.setStartAfter(e),this.range.setEndAfter(e)}catch(n){}else try{this.range.setStartBefore(e),this.range.setEndBefore(e)}catch(n){}this.range.collapse(!1),this.selection.addRange()},getOffsetOfElement:function(t){t=t[0]||t,this.selection.get();var n=this.range.cloneRange();return n.selectNodeContents(t),n.setEnd(this.range.endContainer,this.range.endOffset),e.trim(n.toString()).length},getOffset:function(){var e=0,t=window.getSelection();if(t.rangeCount>0){var n=window.getSelection().getRangeAt(0),r=n.cloneRange();r.selectNodeContents(this.$editor[0]),r.setEnd(n.endContainer,n.endOffset),e=r.toString().length}return e},setOffset:function(e,t){"undefined"==typeof t&&(t=e),this.focus.isFocused()||this.focus.setStart();for(var n,r=(this.selection.get(),0),i=document.createTreeWalker(this.$editor[0],NodeFilter.SHOW_TEXT,null,null);n==i.nextNode();)if(r+=n.nodeValue.length,r>e&&(this.range.setStart(n,n.nodeValue.length+e-r),e=1/0),r>=t){this.range.setEnd(n,n.nodeValue.length+t-r);break}this.range.collapse(!1),this.selection.addRange()},setToPoint:function(e,t){this.caret.setOffset(e,t)},getCoords:function(){return this.caret.getOffset()}}},clean:function(){return{onSet:function(t){t=this.clean.savePreCode(t),t=t.replace(/<script(.*?[^>]?)>([\w\W]*?)<\/script>/gi,'<pre class="redactor-script-tag" style="display: none;" $1>$2</pre>'),t=t.replace(/\$/g,"&#36;"),t=t.replace(/<a href="(.*?[^>]?)®(.*?[^>]?)">/gi,'<a href="$1&reg$2">'),this.opts.replaceDivs&&(t=this.clean.replaceDivs(t)),this.opts.linebreaks&&(t=this.clean.replaceParagraphsToBr(t)),t=this.clean.saveFormTags(t);var n=e("<div>");n.html(t);var r=n.find("font[style]");return 0!==r.length&&(r.replaceWith(function(){var t=e(this),n=e("<span>").attr("style",t.attr("style"));return n.append(t.contents())}),t=n.html()),n.remove(),t=t.replace(/<font(.*?[^<])>/gi,""),t=t.replace(/<\/font>/gi,""),t=this.tidy.load(t),this.opts.paragraphize&&(t=this.paragraphize.load(t)),t=this.clean.setVerified(t),t=this.clean.convertInline(t),t=t.replace(/&amp;/g,"&")},onSync:function(t){if(t=t.replace(/\u200B/g,""),t=t.replace(/&#x200b;/gi,""),this.opts.cleanSpaces&&(t=t.replace(/&nbsp;/gi," ")),-1!=t.search(/^<p>(||\s||<br\s?\/?>||&nbsp;)<\/p>$/i))return"";t=t.replace(/<pre class="redactor-script-tag" style="display: none;"(.*?[^>]?)>([\w\W]*?)<\/pre>/gi,"<script$1>$2</script>"),t=this.clean.restoreFormTags(t);var n={"™":"&trade;","©":"&copy;","…":"&hellip;","—":"&mdash;","‐":"&dash;"};e.each(n,function(e,n){t=t.replace(new RegExp(e,"g"),n)}),this.utils.browser("mozilla")&&(t=t.replace(/<br\s?\/?>$/gi,"")),t=t.replace(new RegExp("<br\\s?/?></li>","gi"),"</li>"),t=t.replace(new RegExp("</li><br\\s?/?>","gi"),"</li>"),t=t.replace(/<(.*?)rel="\s*?"(.*?[^>]?)>/gi,'<$1$2">'),t=t.replace(/<(.*?)style="\s*?"(.*?[^>]?)>/gi,'<$1$2">'),t=t.replace(/="">/gi,">"),t=t.replace(/""">/gi,'">'),t=t.replace(/"">/gi,'">'),t=t.replace(/<div(.*?[^>]) data-tagblock="redactor"(.*?[^>])>/gi,"<div$1$2>"),t=t.replace(/<(.*?) data-verified="redactor"(.*?[^>])>/gi,"<$1$2>");var r=e("<div/>").html(e.parseHTML(t,document,!0));return r.find("span").removeAttr("rel"),r.find("pre .redactor-invisible-space").each(function(){e(this).contents().unwrap()}),t=r.html(),t=t.replace(/<img(.*?[^>])rel="(.*?[^>])"(.*?[^>])>/gi,"<img$1$3>"),t=t.replace(/<span class="redactor-invisible-space">(.*?)<\/span>/gi,"$1"),t=t.replace(/ data-save-url="(.*?[^>])"/gi,""),t=t.replace(/<span(.*?)id="redactor-image-box"(.*?[^>])>([\w\W]*?)<img(.*?)><\/span>/gi,"$3<img$4>"),t=t.replace(/<span(.*?)id="redactor-image-resizer"(.*?[^>])>(.*?)<\/span>/gi,""),t=t.replace(/<span(.*?)id="redactor-image-editter"(.*?[^>])>(.*?)<\/span>/gi,""),t=t.replace(/<font(.*?[^<])>/gi,""),t=t.replace(/<\/font>/gi,""),t=this.tidy.load(t),this.opts.linkNofollow&&(t=t.replace(/<a(.*?)rel="nofollow"(.*?[^>])>/gi,"<a$1$2>"),t=t.replace(/<a(.*?[^>])>/gi,'<a$1 rel="nofollow">')),t=t.replace(/\sdata-redactor-(tag|class|style)="(.*?[^>])"/gi,""),t=t.replace(new RegExp('<(.*?) data-verified="redactor"(.*?[^>])>',"gi"),"<$1$2>"),t=t.replace(new RegExp('<(.*?) data-verified="redactor">',"gi"),"<$1>"),t=t.replace(/&amp;/g,"&")},onPaste:function(t,n){if(t=e.trim(t),t=t.replace(/\$/g,"&#36;"),t=t.replace(/<span class="s[0-9]">/gi,"<span>"),t=t.replace(/<span class="Apple-converted-space">&nbsp;<\/span>/gi," "),t=t.replace(/<span class="Apple-tab-span"[^>]*>\t<\/span>/gi,"	"),t=t.replace(/<span[^>]*>(\s|&nbsp;)<\/span>/gi," "),this.opts.pastePlainText)return this.clean.getPlainText(t);if(!this.utils.isSelectAll()&&"undefined"==typeof n){if(this.utils.isCurrentOrParent(["FIGCAPTION","A"]))return this.clean.getPlainText(t,!1);if(this.utils.isCurrentOrParent("PRE"))return t=t.replace(/”/g,'"'),t=t.replace(/“/g,'"'),t=t.replace(/‘/g,"'"),t=t.replace(/’/g,"'"),this.clean.getPreCode(t);if(this.utils.isCurrentOrParent(["BLOCKQUOTE","H1","H2","H3","H4","H5","H6"])){if(t=this.clean.getOnlyImages(t),!this.utils.browser("msie")){var r=this.selection.getBlock();r&&"P"==r.tagName&&(t=t.replace(/<img(.*?)>/gi,"<p><img$1></p>"))}return t}if(this.utils.isCurrentOrParent(["TD"]))return t=this.clean.onPasteTidy(t,"td"),this.opts.linebreaks&&(t=this.clean.replaceParagraphsToBr(t)),t=this.clean.replaceDivsToBr(t);if(this.utils.isCurrentOrParent(["LI"]))return this.clean.onPasteTidy(t,"li")}return t=this.clean.isSingleLine(t,n),this.clean.singleLine||(this.opts.linebreaks&&(t=this.clean.replaceParagraphsToBr(t)),this.opts.replaceDivs&&(t=this.clean.replaceDivs(t)),t=this.clean.saveFormTags(t)),t=this.clean.onPasteWord(t),t=this.clean.onPasteExtra(t),t=this.clean.onPasteTidy(t,"all"),!this.clean.singleLine&&this.opts.paragraphize&&(t=this.paragraphize.load(t)),t=this.clean.removeDirtyStyles(t),t=this.clean.onPasteRemoveSpans(t),t=this.clean.onPasteRemoveEmpty(t),t=this.clean.convertInline(t)},onPasteWord:function(t){if(t=t.replace(/<!--[\s\S]*?-->/gi,""),t=t.replace(/<style[^>]*>[\s\S]*?<\/style>/gi,""),t=t.replace(/<o\:p[^>]*>[\s\S]*?<\/o\:p>/gi,""),t.match(/class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i)){t=t.replace(/<!--[\s\S]+?-->/gi,""),t=t.replace(/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,""),t=t.replace(/<(\/?)s>/gi,"<$1strike>"),t=t.replace(/ /gi," "),t=t.replace(/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(e,t){return t.length>0?t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join(" "):""}),t=this.clean.onPasteIeFixLinks(t),t=t.replace(/<img(.*?)v:shapes=(.*?)>/gi,""),t=t.replace(/src="file\:\/\/(.*?)"/,'src=""');var n=e("<div/>").html(t),r=!1,i=1,o=[];n.find("p[style]").each(function(){var t=e(this).attr("style").match(/mso\-list\:l([0-9]+)\slevel([0-9]+)/);if(t){var a=parseInt(t[1]),s=parseInt(t[2]),l=e(this).html().match(/^[\w]+\./)?"ol":"ul",u=e("<li/>").html(e(this).html());if(u.html(u.html().replace(/^([\w\.]+)</,"<")),u.find("span:first").remove(),1==s&&-1==e.inArray(a,o)){var c=e("<"+l+"/>").attr({"data-level":s,"data-list":a}).html(u);e(this).replaceWith(c),r=a,o.push(a)}else{if(s>i){for(var d=n.find('[data-level="'+i+'"][data-list="'+r+'"]'),h=d,p=i;s>p;p++)c=e("<"+l+"/>"),c.appendTo(h.find("li").last()),h=c;h.attr({"data-level":s,"data-list":a}).html(u)}else{var d=n.find('[data-level="'+s+'"][data-list="'+a+'"]').last();d.append(u)}i=s,r=a,e(this).remove()}}}),n.find("[data-level][data-list]").removeAttr("data-level data-list"),t=n.html(),t=t.replace(/·/g,""),t=t.replace(/<p class="Mso(.*?)"/gi,"<p"),t=t.replace(/ class=\"(mso[^\"]*)\"/gi,""),t=t.replace(/ class=(mso\w+)/gi,""),t=t.replace(/<o:p(.*?)>([\w\W]*?)<\/o:p>/gi,"$2"),t=t.replace(/\n/g," "),t=t.replace(/<p>\n?<li>/gi,"<li>")}return t},onPasteExtra:function(e){return e=e.replace(/<b\sid="internal-source-marker(.*?)">([\w\W]*?)<\/b>/gi,"$2"),e=e.replace(/<b(.*?)id="docs-internal-guid(.*?)">([\w\W]*?)<\/b>/gi,"$3"),e=e.replace(/<span[^>]*(font-style: italic; font-weight: bold|font-weight: bold; font-style: italic)[^>]*>/gi,'<span style="font-weight: bold;"><span style="font-style: italic;">'),e=e.replace(/<span[^>]*font-style: italic[^>]*>/gi,'<span style="font-style: italic;">'),e=e.replace(/<span[^>]*font-weight: bold[^>]*>/gi,'<span style="font-weight: bold;">'),e=e.replace(/<span[^>]*text-decoration: underline[^>]*>/gi,'<span style="text-decoration: underline;">'),e=e.replace(/<img>/gi,""),e=e.replace(/\n{3,}/gi,"\n"),e=e.replace(/<font(.*?)>([\w\W]*?)<\/font>/gi,"$2"),e=e.replace(/<p><p>/gi,"<p>"),e=e.replace(/<\/p><\/p>/gi,"</p>"),e=e.replace(/<li>(\s*|\t*|\n*)<p>/gi,"<li>"),e=e.replace(/<\/p>(\s*|\t*|\n*)<\/li>/gi,"</li>"),e=e.replace(/<\/p>\s<p/gi,"</p><p"),e=e.replace(/<img src="webkit-fake-url\:\/\/(.*?)"(.*?)>/gi,""),e=e.replace(/<p>•([\w\W]*?)<\/p>/gi,"<li>$1</li>"),this.utils.browser("mozilla")&&(e=e.replace(/<br\s?\/?>$/gi,"")),e},onPasteTidy:function(e,t){var n=["span","a","pre","blockquote","small","em","strong","code","kbd","mark","address","cite","var","samp","dfn","sup","sub","b","i","u","del","ol","ul","li","dl","dt","dd","p","br","video","audio","iframe","embed","param","object","img","table","td","th","tr","tbody","tfoot","thead","h1","h2","h3","h4","h5","h6"],r=!1,i=[["a","*"],["img",["src","alt"]],["span",["class","rel","data-verified"]],["iframe","*"],["video","*"],["audio","*"],["embed","*"],["object","*"],["param","*"],["source","*"]];"all"==t?(r=["p","span","h1","h2","h3","h4","h5","h6"],i=[["table","class"],["td",["colspan","rowspan"]],["a","*"],["img",["src","alt","data-redactor-inserted-image"]],["span",["class","rel","data-verified"]],["iframe","*"],["video","*"],["audio","*"],["embed","*"],["object","*"],["param","*"],["source","*"]]):"td"==t?n=["ul","ol","li","span","a","small","em","strong","code","kbd","mark","cite","var","samp","dfn","sup","sub","b","i","u","del","ol","ul","li","dl","dt","dd","br","iframe","video","audio","embed","param","object","img","h1","h2","h3","h4","h5","h6"]:"li"==t&&(n=["ul","ol","li","span","a","small","em","strong","code","kbd","mark","cite","var","samp","dfn","sup","sub","b","i","u","del","br","iframe","video","audio","embed","param","object","img"]);var o={deniedTags:this.opts.deniedTags?this.opts.deniedTags:!1,allowedTags:this.opts.allowedTags?this.opts.allowedTags:n,removeComments:!0,removePhp:!0,removeAttr:this.opts.removeAttr?this.opts.removeAttr:!1,allowedAttr:this.opts.allowedAttr?this.opts.allowedAttr:i,removeEmpty:r};return this.tidy.load(e,o)},onPasteRemoveEmpty:function(e){return e=e.replace(/<(p|h[1-6])>(|\s|\n|\t|<br\s?\/?>)<\/(p|h[1-6])>/gi,""),this.opts.linebreaks||(e=e.replace(/<br>$/i,"")),e},onPasteRemoveSpans:function(e){return e=e.replace(/<span>(.*?)<\/span>/gi,"$1"),e=e.replace(/<span[^>]*>\s|&nbsp;<\/span>/gi," ")},onPasteIeFixLinks:function(t){if(!this.utils.browser("msie"))return t;var n=e.trim(t);return 0===n.search(/^<a(.*?)>(.*?)<\/a>$/i)&&(t=t.replace(/^<a(.*?)>(.*?)<\/a>$/i,"$2")),t},isSingleLine:function(e,t){if(this.clean.singleLine=!1,!this.utils.isSelectAll()&&"undefined"==typeof t){var n=this.opts.blockLevelElements.join("|").replace("P|","").replace("DIV|",""),r=e.match(new RegExp("</("+n+")>","gi")),i=e.match(/<\/(p|div)>/gi);if(!r&&(null===i||i&&i.length<=1)){var o=e.match(/<br\s?\/?>/gi);o||(this.clean.singleLine=!0,e=e.replace(/<\/?(p|div)(.*?)>/gi,""))}}return e},stripTags:function(e,t){t=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var n=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi;return e.replace(n,function(e,n){return t.indexOf("<"+n.toLowerCase()+">")>-1?e:""})},savePreCode:function(e){return e=this.clean.savePreFormatting(e),e=this.clean.saveCodeFormatting(e),e=this.clean.restoreSelectionMarker(e)},savePreFormatting:function(t){var n=t.match(/<pre(.*?)>([\w\W]*?)<\/pre>/gi);return null!==n&&e.each(n,e.proxy(function(e,n){var r=n.match(/<pre(.*?)>([\w\W]*?)<\/pre>/i);r[2]=r[2].replace(/<br\s?\/?>/g,"\n"),r[2]=r[2].replace(/&nbsp;/g," "),this.opts.preSpaces&&(r[2]=r[2].replace(/\t/g,Array(this.opts.preSpaces+1).join(" "))),r[2]=this.clean.encodeEntities(r[2]),r[2]=r[2].replace(/\$/g,"&#36;"),t=t.replace(n,"<pre"+r[1]+">"+r[2]+"</pre>")},this)),t},saveCodeFormatting:function(t){var n=t.match(/<code(.*?)>([\w\W]*?)<\/code>/gi);return null!==n&&e.each(n,e.proxy(function(e,n){var r=n.match(/<code(.*?)>([\w\W]*?)<\/code>/i);r[2]=r[2].replace(/&nbsp;/g," "),r[2]=this.clean.encodeEntities(r[2]),r[2]=r[2].replace(/\$/g,"&#36;"),t=t.replace(n,"<code"+r[1]+">"+r[2]+"</code>")},this)),t},restoreSelectionMarker:function(e){return e=e.replace(/&lt;span id=&quot;selection-marker-([0-9])&quot; class=&quot;redactor-selection-marker&quot; data-verified=&quot;redactor&quot;&gt;​&lt;\/span&gt;/g,'<span id="selection-marker-$1" class="redactor-selection-marker" data-verified="redactor">​</span>')},getTextFromHtml:function(t){t=t.replace(/<br\s?\/?>|<\/H[1-6]>|<\/p>|<\/div>|<\/li>|<\/td>/gi,"\n");var n=document.createElement("div");return n.innerHTML=t,t=n.textContent||n.innerText,e.trim(t)},getPlainText:function(e,t){return e=this.clean.getTextFromHtml(e),e=e.replace(/\n/g,"<br />"),this.opts.paragraphize&&"undefined"==typeof t&&!this.utils.browser("mozilla")&&(e=this.paragraphize.load(e)),e},getPreCode:function(e){return e=e.replace(/<img(.*?) style="(.*?)"(.*?[^>])>/gi,"<img$1$3>"),e=e.replace(/<img(.*?)>/gi,"&lt;img$1&gt;"),e=this.clean.getTextFromHtml(e),this.opts.preSpaces&&(e=e.replace(/\t/g,Array(this.opts.preSpaces+1).join(" "))),e=this.clean.encodeEntities(e)},getOnlyImages:function(e){return e=e.replace(/<img(.*?)>/gi,"[img$1]"),e=e.replace(/<([Ss]*?)>/gi,""),e=e.replace(/\[img(.*?)\]/gi,"<img$1>")},getOnlyLinksAndImages:function(e){return e=e.replace(/<a(.*?)href="(.*?)"(.*?)>([\w\W]*?)<\/a>/gi,'[a href="$2"]$4[/a]'),e=e.replace(/<img(.*?)>/gi,"[img$1]"),e=e.replace(/<(.*?)>/gi,""),e=e.replace(/\[a href="(.*?)"\]([\w\W]*?)\[\/a\]/gi,'<a href="$1">$2</a>'),e=e.replace(/\[img(.*?)\]/gi,"<img$1>")},encodeEntities:function(e){return e=String(e).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"'),e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},removeDirtyStyles:function(t){if(this.utils.browser("msie"))return t;var n=document.createElement("div");return n.innerHTML=t,this.clean.clearUnverifiedRemove(e(n)),t=n.innerHTML,e(n).remove(),t},clearUnverified:function(){if(!this.utils.browser("msie")){this.clean.clearUnverifiedRemove(this.$editor);var e=this.$editor.find("h1, h2, h3, h4, h5, h6");e.find("span").removeAttr("style"),e.find(this.opts.verifiedTags.join(", ")).removeAttr("style"),this.code.sync()}},clearUnverifiedRemove:function(t){t.find(this.opts.verifiedTags.join(", ")).removeAttr("style"),t.find("span").not('[data-verified="redactor"]').removeAttr("style"),t.find('span[data-verified="redactor"], img[data-verified="redactor"]').each(function(t,n){var r=e(n);r.attr("style",r.attr("rel"))})},cleanEmptyParagraph:function(){},setVerified:function(e){if(this.utils.browser("msie"))return e;e=e.replace(new RegExp("<img(.*?[^>])>","gi"),'<img$1 data-verified="redactor">'),e=e.replace(new RegExp("<span(.*?[^>])>","gi"),'<span$1 data-verified="redactor">');var t=e.match(new RegExp('<(span|img)(.*?)style="(.*?)"(.*?[^>])>',"gi"));if(t)for(var n=t.length,r=0;n>r;r++)try{var i=t[r].replace(/style="(.*?)"/i,'style="$1" rel="$1"');e=e.replace(t[r],i)}catch(o){}return e},convertInline:function(t){var n=e("<div />").html(t),r=this.opts.inlineTags;return r.push("span"),n.find(r.join(",")).each(function(){var t=e(this),n=this.tagName.toLowerCase();t.attr("data-redactor-tag",n),"span"==n&&(t.attr("style")?t.attr("data-redactor-style",t.attr("style")):t.attr("class")&&t.attr("data-redactor-class",t.attr("class")))}),t=n.html(),n.remove(),t},normalizeLists:function(){this.$editor.find("li").each(function(t,n){var r=e(n).next();0===r.length||"UL"!=r[0].tagName&&"OL"!=r[0].tagName||e(n).append(r)})},removeSpaces:function(e){return e=e.replace(/\n/g,""),e=e.replace(/[\t]*/g,""),e=e.replace(/\n\s*\n/g,"\n"),e=e.replace(/^[\s\n]*/g," "),e=e.replace(/[\s\n]*$/g," "),e=e.replace(/>\s{2,}</g,"> <"),e=e.replace(/\n\n/g,"\n"),e=e.replace(/\u200B/g,"")},replaceDivs:function(e){return this.opts.linebreaks?(e=e.replace(/<div><br\s?\/?><\/div>/gi,"<br />"),e=e.replace(/<div(.*?)>([\w\W]*?)<\/div>/gi,"$2<br />")):e=e.replace(/<div(.*?)>([\w\W]*?)<\/div>/gi,"<p$1>$2</p>"),e=e.replace(/<div(.*?[^>])>/gi,""),e=e.replace(/<\/div>/gi,"")},replaceDivsToBr:function(e){return e=e.replace(/<div\s(.*?)>/gi,"<p>"),e=e.replace(/<div><br\s?\/?><\/div>/gi,"<br /><br />"),e=e.replace(/<div>([\w\W]*?)<\/div>/gi,"$1<br /><br />")},replaceParagraphsToBr:function(e){return e=e.replace(/<p\s(.*?)>/gi,"<p>"),e=e.replace(/<p><br\s?\/?><\/p>/gi,"<br />"),e=e.replace(/<p>([\w\W]*?)<\/p>/gi,"$1<br /><br />"),e=e.replace(/(<br\s?\/?>){1,}\n?<\/blockquote>/gi,"</blockquote>")},saveFormTags:function(e){return e.replace(/<form(.*?)>([\w\W]*?)<\/form>/gi,'<section$1 rel="redactor-form-tag">$2</section>')},restoreFormTags:function(e){return e.replace(/<section(.*?) rel="redactor-form-tag"(.*?)>([\w\W]*?)<\/section>/gi,"<form$1$2>$3</form>")}}},code:function(){return{set:function(t){t=e.trim(t.toString()),t=this.clean.onSet(t),this.$editor.html(t),this.code.sync(),""!==t&&this.placeholder.remove(),setTimeout(e.proxy(this.buffer.add,this),15),this.start===!1&&this.observe.load()},get:function(){var e=this.$textarea.val();return this.opts.replaceDivs&&(e=this.clean.replaceDivs(e)),this.opts.linebreaks&&(e=this.clean.replaceParagraphsToBr(e)),e=this.tabifier.get(e)},sync:function(){setTimeout(e.proxy(this.code.startSync,this),10)},startSync:function(){var e=this.$editor.html();this.code.syncCode&&this.code.syncCode==e||(this.code.syncCode=e,e=this.core.setCallback("syncBefore",e),e=this.clean.onSync(e),this.$textarea.val(e),this.core.setCallback("sync",e),this.start===!1&&this.core.setCallback("change",e),this.start=!1,0==this.autosave.html&&(this.autosave.html=this.code.get()),this.opts.codemirror&&this.$textarea.next(".CodeMirror").each(function(t,n){n.CodeMirror.setValue(e)}),this.autosave.onChange(),this.autosave.enable())},toggle:function(){this.opts.visual?this.code.showCode():this.code.showVisual()},showCode:function(){this.selection.save(),this.code.offset=this.caret.getOffset();var t=e(window).scrollTop(),n=(this.$editor.innerWidth(),this.$editor.innerHeight());this.$editor.hide();var r=this.$textarea.val();this.modified=this.clean.removeSpaces(r),r=this.tabifier.get(r);var i=0,o=0,a=e("<div/>").append(e.parseHTML(this.clean.onSync(this.$editor.html()),document,!0)),s=a.find("span.redactor-selection-marker");if(s.length>0){var l=this.tabifier.get(a.html()).replace(/&amp;/g,"&");1==s.length?(i=this.utils.strpos(l,a.find("#selection-marker-1").prop("outerHTML")),o=i):2==s.length&&(i=this.utils.strpos(l,a.find("#selection-marker-1").prop("outerHTML")),o=this.utils.strpos(l,a.find("#selection-marker-2").prop("outerHTML"))-a.find("#selection-marker-1").prop("outerHTML").toString().length)}this.selection.removeMarkers(),this.$textarea.val(r),this.opts.codemirror?this.$textarea.next(".CodeMirror").each(function(t,a){e(a).show(),a.CodeMirror.setValue(r),a.CodeMirror.setSize("100%",n),a.CodeMirror.refresh(),i==o?a.CodeMirror.setCursor(a.CodeMirror.posFromIndex(i).line,a.CodeMirror.posFromIndex(o).ch):a.CodeMirror.setSelection({line:a.CodeMirror.posFromIndex(i).line,ch:a.CodeMirror.posFromIndex(i).ch},{line:a.CodeMirror.posFromIndex(o).line,ch:a.CodeMirror.posFromIndex(o).ch}),a.CodeMirror.focus()}):(this.$textarea.height(n).show().focus(),this.$textarea.on("keydown.redactor-textarea-indenting",this.code.textareaIndenting),e(window).scrollTop(t),this.$textarea[0].setSelectionRange&&this.$textarea[0].setSelectionRange(i,o),this.$textarea[0].scrollTop=0),this.opts.visual=!1,this.button.setInactiveInCode(),this.button.setActive("html"),this.core.setCallback("source",r)},showVisual:function(){var e;if(!this.opts.visual){var t=0,n=0;if(this.opts.codemirror){var r;this.$textarea.next(".CodeMirror").each(function(i,o){r=o.CodeMirror.listSelections(),t=o.CodeMirror.indexFromPos(r[0].anchor),n=o.CodeMirror.indexFromPos(r[0].head),e=o.CodeMirror.getValue()})}else t=this.$textarea.get(0).selectionStart,n=this.$textarea.get(0).selectionEnd,e=this.$textarea.hide().val();if(t>n&&n>0){var i=n,o=t;t=i,n=o}if(t=this.code.enlargeOffset(e,t),n=this.code.enlargeOffset(e,n),e=e.substr(0,t)+this.selection.getMarkerAsHtml(1)+e.substr(t),n>t){var a=this.selection.getMarkerAsHtml(1).toString().length;e=e.substr(0,n+a)+this.selection.getMarkerAsHtml(2)+e.substr(n+a)}this.modified!==this.clean.removeSpaces(e)&&this.code.set(e),this.opts.codemirror&&this.$textarea.next(".CodeMirror").hide(),this.$editor.show(),this.utils.isEmpty(e)||this.placeholder.remove(),this.selection.restore(),this.$textarea.off("keydown.redactor-textarea-indenting"),this.button.setActiveInVisual(),this.button.setInactive("html"),this.observe.load(),this.opts.visual=!0,this.core.setCallback("visual",e)}},textareaIndenting:function(e){if(9!==e.keyCode)return!0;var t=this.$textarea,n=t.get(0).selectionStart;return t.val(t.val().substring(0,n)+"	"+t.val().substring(t.get(0).selectionEnd)),t.get(0).selectionStart=t.get(0).selectionEnd=n+1,!1},enlargeOffset:function(e,t){var n=e.length,r=0;if(">"==e[t])r++;else for(var i=t;n>=i&&(r++,">"!=e[i]);i++)if("<"==e[i]||i==n){r=0;break}return t+r}}},core:function(){return{getObject:function(){return e.extend({},this)},getEditor:function(){return this.$editor},getBox:function(){return this.$box},getElement:function(){return this.$element},getTextarea:function(){return this.$textarea},getToolbar:function(){return this.$toolbar?this.$toolbar:!1},addEvent:function(e){this.core.event=e},getEvent:function(){return this.core.event},setCallback:function(t,n,r){var i=t+"Callback",o="redactor",a=this.opts[i];if(this.$textarea){var s=!1,l=e._data(this.$textarea[0],"events");if("undefined"!=typeof l&&"undefined"!=typeof l[i]&&e.each(l[i],e.proxy(function(e,t){if(t.namespace==o){var r="undefined"==typeof r?[n]:[n,r];s="undefined"==typeof r?t.handler.call(this,n):t.handler.call(this,n,r)}},this)),s)return s}return e.isFunction(a)?"undefined"==typeof r?a.call(this,n):a.call(this,n,r):"undefined"==typeof r?n:r},destroy:function(){this.opts.destroyed=!0,this.core.setCallback("destroy"),this.$element.off(".redactor").removeData("redactor"),this.$editor.off(".redactor"),e(document).off("mousedown.redactor."+this.uuid),e(document).off("click.redactor-image-delete."+this.uuid),e(document).off("click.redactor-image-resize-hide."+this.uuid),e(document).off("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid),e("body").off("scroll.redactor."+this.uuid),e(this.opts.toolbarFixedTarget).off("scroll.redactor."+this.uuid),this.$editor.removeClass("redactor-editor redactor-linebreaks redactor-placeholder"),this.$editor.removeAttr("contenteditable");var t=this.code.get();this.opts.toolbar&&this.$toolbar.find("a").each(function(){var t=e(this);t.data("dropdown")&&(t.data("dropdown").remove(),t.data("dropdown",{}))}),this.build.isTextarea()?(this.$box.after(this.$element),this.$box.remove(),this.$element.val(t).show()):(this.$box.after(this.$editor),this.$box.remove(),this.$element.html(t).show()),this.$pasteBox&&this.$pasteBox.remove(),this.$modalBox&&this.$modalBox.remove(),this.$modalOverlay&&this.$modalOverlay.remove(),e(".redactor-toolbar-tooltip-"+this.uuid).remove(),clearInterval(this.autosaveInterval)}}},dropdown:function(){return{build:function(t,n,r){"formatting"==t&&this.opts.formattingAdd&&e.each(this.opts.formattingAdd,e.proxy(function(e,t){var n,i=t.tag;"undefined"!=typeof t["class"]&&(i=i+"-"+t["class"]),t.type=this.utils.isBlockTag(t.tag)?"block":"inline",n="undefined"!=typeof t.func?t.func:"inline"==t.type?"inline.formatting":"block.formatting",this.opts.linebreaks&&"block"==t.type&&"p"==t.tag||(this.formatting[i]={tag:t.tag,style:t.style,"class":t["class"],attr:t.attr,data:t.data,clear:t.clear},r[i]={func:n,title:t.title})},this)),e.each(r,e.proxy(function(r,i){var o=e('<a href="#" class="redactor-dropdown-'+r+'" role="button">'+i.title+"</a>");"formatting"==t&&o.addClass("redactor-formatting-"+r),o.on("click",e.proxy(function(t){t.preventDefault();var n="func",o=i.func;i.command?(n="command",o=i.command):i.dropdown&&(n="dropdown",o=i.dropdown),e(t.target).hasClass("redactor-dropdown-link-inactive")||(this.button.onClick(t,r,n,o),this.dropdown.hideAll())},this)),this.observe.addDropdown(o,r,i),n.append(o)},this))},show:function(t,n){if(!this.opts.visual)return t.preventDefault(),!1;var r=this.button.get(n),i=r.data("dropdown").appendTo(document.body);if(this.opts.highContrast&&i.addClass("redactor-dropdown-contrast"),r.hasClass("dropact"))this.dropdown.hideAll();else{this.dropdown.hideAll(),this.observe.dropdowns(),this.core.setCallback("dropdownShow",{dropdown:i,key:n,button:r}),this.button.setActive(n),r.addClass("dropact");var o=r.offset(),a=i.width();o.left+a>e(document).width()&&(o.left=Math.max(0,o.left-a));var s=o.left+"px";if(this.$toolbar.hasClass("toolbar-fixed-box")){var l=this.$toolbar.innerHeight()+this.opts.toolbarFixedTopOffset,u="fixed";this.opts.toolbarFixedTarget!==document&&(l=this.$toolbar.innerHeight()+this.$toolbar.offset().top+this.opts.toolbarFixedTopOffset,u="absolute"),i.css({position:u,left:s,top:l+"px"}).show()}else{var l=r.innerHeight()+o.top+"px";i.css({position:"absolute",left:s,top:l}).show()}this.core.setCallback("dropdownShown",{dropdown:i,key:n,button:r}),this.$dropdown=i}e(document).one("click.redactor-dropdown",e.proxy(this.dropdown.hide,this)),this.$editor.one("click.redactor-dropdown",e.proxy(this.dropdown.hide,this)),e(document).one("keyup.redactor-dropdown",e.proxy(this.dropdown.closeHandler,this)),i.on("mouseover.redactor-dropdown",e.proxy(this.utils.disableBodyScroll,this)).on("mouseout.redactor-dropdown",e.proxy(this.utils.enableBodyScroll,this)),t.stopPropagation()},closeHandler:function(e){e.which==this.keyCode.ESC&&(this.dropdown.hideAll(),this.$editor.focus())},hideAll:function(){this.$toolbar.find("a.dropact").removeClass("redactor-act").removeClass("dropact"),this.utils.enableBodyScroll(),e(".redactor-dropdown-"+this.uuid).hide(),e(".redactor-dropdown-link-selected").removeClass("redactor-dropdown-link-selected"),this.$dropdown&&(this.$dropdown.off(".redactor-dropdown"),this.core.setCallback("dropdownHide",this.$dropdown),this.$dropdown=!1)},hide:function(t){var n=e(t.target);n.hasClass("dropact")||n.hasClass("redactor-dropdown-link-inactive")||(n.removeClass("dropact"),n.off("mouseover mouseout"),this.dropdown.hideAll())}}},file:function(){return{show:function(){this.modal.load("file",this.lang.get("file"),700),this.upload.init("#redactor-modal-file-upload",this.opts.fileUpload,this.file.insert),this.selection.save(),this.selection.get();var t=this.sel.toString();e("#redactor-filename").val(t),this.modal.show()},insert:function(t,n,r){if("undefined"!=typeof t.error)return this.modal.close(),this.selection.restore(),void this.core.setCallback("fileUploadError",t);var i;if("string"==typeof t)i=t;else{var o=e("#redactor-filename").val();("undefined"==typeof o||""===o)&&(o=t.filename),i='<a href="'+t.filelink+'" id="filelink-marker">'+o+"</a>"}if(n){this.selection.removeMarkers();var a=this.selection.getMarker();this.insert.nodeToCaretPositionFromPoint(r,a)}else this.modal.close();if(this.selection.restore(),this.buffer.set(),this.insert.htmlWithoutClean(i),"string"!=typeof t){var s=e(this.$editor.find("a#filelink-marker"));0!==s.length?s.removeAttr("id").removeAttr("style"):s=!1,this.core.setCallback("fileUpload",s,t)}}}},focus:function(){return{setStart:function(){this.$editor.focus();var e=this.$editor.children().first();if(0!==e.length&&0!==e[0].length&&"BR"!=e[0].tagName&&3!=e[0].nodeType){if("UL"==e[0].tagName||"OL"==e[0].tagName){var t=e.find("li").first();if(!this.utils.isBlock(t)&&""===t.text())return void this.caret.setStart(t)}return this.opts.linebreaks&&!this.utils.isBlockTag(e[0].tagName)?(this.selection.get(),this.range.setStart(this.$editor[0],0),this.range.setEnd(this.$editor[0],0),void this.selection.addRange()):void this.caret.setStart(e)}},setEnd:function(){var e=this.$editor.children().last();this.$editor.focus(),0!==e.size()&&(this.utils.isEmpty(this.$editor.html())?(this.selection.get(),this.range.collapse(!0),this.range.setStartAfter(e[0]),this.range.setEnd(e[0],0),this.selection.addRange()):(this.selection.get(),this.range.selectNodeContents(e[0]),this.range.collapse(!1),this.selection.addRange()))},isFocused:function(){var t=document.getSelection().focusNode;return null===t?!1:this.opts.linebreaks&&e(t.parentNode).hasClass("redactor-linebreaks")?!0:this.utils.isRedactorParent(t.parentNode)?this.$editor.is(":focus"):!1}}},image:function(){return{show:function(){this.modal.load("image",this.lang.get("image"),700),this.upload.init("#redactor-modal-image-droparea",this.opts.imageUpload,this.image.insert),this.selection.save(),this.modal.show()},showEdit:function(t){var n=t.closest("a",this.$editor[0]);if(this.modal.load("imageEdit",this.lang.get("edit"),705),this.modal.createCancelButton(),this.image.buttonDelete=this.modal.createDeleteButton(this.lang.get("_delete")),this.image.buttonSave=this.modal.createActionButton(this.lang.get("save")),this.image.buttonDelete.on("click",e.proxy(function(){this.image.remove(t)},this)),this.image.buttonSave.on("click",e.proxy(function(){this.image.update(t)},this)),e(".redactor-link-tooltip").remove(),e("#redactor-image-title").val(t.attr("alt")),this.opts.imageLink){var r=e("#redactor-image-link");r.attr("href",t.attr("src")),0!==n.length&&(r.val(n.attr("href")),"_blank"==n.attr("target")&&e("#redactor-image-link-blank").prop("checked",!0))}else e(".redactor-image-link-option").hide();if(this.opts.imagePosition){var i="block"==t.css("display")&&"none"==t.css("float")?"center":t.css("float");e("#redactor-image-align").val(i)}else e(".redactor-image-position-option").hide();this.modal.show(),e("#redactor-image-title").focus()},setFloating:function(t){var n=e("#redactor-image-align").val(),r="",i="",o="";switch(n){case"left":r="left",o="0 "+this.opts.imageFloatMargin+" "+this.opts.imageFloatMargin+" 0";break;case"right":r="right",o="0 0 "+this.opts.imageFloatMargin+" "+this.opts.imageFloatMargin;
break;case"center":i="block",o="auto"}t.css({"float":r,display:i,margin:o}),t.attr("rel",t.attr("style"))},update:function(t){this.image.hideResize(),this.buffer.set();var n=t.closest("a",this.$editor[0]);t.attr("alt",e("#redactor-image-title").val()),this.image.setFloating(t);var r=e.trim(e("#redactor-image-link").val());if(""!==r){var i="((xn--)?[a-z0-9]+(-[a-z0-9]+)*\\.)+[a-z]{2,}",o=new RegExp("^(http|ftp|https)://"+i,"i"),a=new RegExp("^"+i,"i");-1==r.search(o)&&0===r.search(a)&&this.opts.linkProtocol&&(r=this.opts.linkProtocol+"://"+r);var s=e("#redactor-image-link-blank").prop("checked")?!0:!1;if(0===n.length){var l=e('<a href="'+r+'">'+this.utils.getOuterHtml(t)+"</a>");s&&l.attr("target","_blank"),t.replaceWith(l)}else n.attr("href",r),s?n.attr("target","_blank"):n.removeAttr("target")}else 0!==n.length&&n.replaceWith(this.utils.getOuterHtml(t));this.modal.close(),this.observe.images(),this.code.sync()},setEditable:function(t){this.opts.imageEditable&&t.on("dragstart",e.proxy(this.image.onDrag,this));var n=e.proxy(function(n){this.observe.image=t,this.image.resizer=this.image.loadEditableControls(t),e(document).on("mousedown.redactor-image-resize-hide."+this.uuid,e.proxy(this.image.hideResize,this)),this.opts.imageResizable&&this.image.resizer.on("mousedown.redactor touchstart.redactor",e.proxy(function(e){this.image.setResizable(e,t)},this))},this);t.off("mousedown.redactor").on("mousedown.redactor",e.proxy(this.image.hideResize,this)),t.off("click.redactor touchstart.redactor").on("click.redactor touchstart.redactor",n)},setResizable:function(e,t){e.preventDefault(),this.image.resizeHandle={x:e.pageX,y:e.pageY,el:t,ratio:t.width()/t.height(),h:t.height()},e=e.originalEvent||e,e.targetTouches&&(this.image.resizeHandle.x=e.targetTouches[0].pageX,this.image.resizeHandle.y=e.targetTouches[0].pageY),this.image.startResize()},startResize:function(){e(document).on("mousemove.redactor-image-resize touchmove.redactor-image-resize",e.proxy(this.image.moveResize,this)),e(document).on("mouseup.redactor-image-resize touchend.redactor-image-resize",e.proxy(this.image.stopResize,this))},moveResize:function(e){e.preventDefault(),e=e.originalEvent||e;var t=this.image.resizeHandle.h;t+=e.targetTouches?e.targetTouches[0].pageY-this.image.resizeHandle.y:e.pageY-this.image.resizeHandle.y;var n=Math.round(t*this.image.resizeHandle.ratio);if(!(50>t||100>n)){var t=Math.round(this.image.resizeHandle.el.width()/this.image.resizeHandle.ratio);this.image.resizeHandle.el.attr({width:n,height:t}),this.image.resizeHandle.el.width(n),this.image.resizeHandle.el.height(t),this.code.sync()}},stopResize:function(){this.handle=!1,e(document).off(".redactor-image-resize"),this.image.hideResize()},onDrag:function(t){return 0!==this.$editor.find("#redactor-image-box").length?(t.preventDefault(),!1):void this.$editor.on("drop.redactor-image-inside-drop",e.proxy(function(){setTimeout(e.proxy(this.image.onDrop,this),1)},this))},onDrop:function(){this.image.fixImageSourceAfterDrop(),this.observe.images(),this.$editor.off("drop.redactor-image-inside-drop"),this.clean.clearUnverified(),this.code.sync()},fixImageSourceAfterDrop:function(){this.$editor.find("img[data-save-url]").each(function(){var t=e(this);t.attr("src",t.attr("data-save-url")),t.removeAttr("data-save-url")})},hideResize:function(t){if(!t||0===e(t.target).closest("#redactor-image-box",this.$editor[0]).length){if(t&&"IMG"==t.target.tagName){var n=e(t.target);n.attr("data-save-url",n.attr("src"))}var r=this.$editor.find("#redactor-image-box");0!==r.length&&(e("#redactor-image-editter").remove(),e("#redactor-image-resizer").remove(),r.find("img").css({marginTop:r[0].style.marginTop,marginBottom:r[0].style.marginBottom,marginLeft:r[0].style.marginLeft,marginRight:r[0].style.marginRight}),r.css("margin",""),r.find("img").css("opacity",""),r.replaceWith(function(){return e(this).contents()}),e(document).off("mousedown.redactor-image-resize-hide."+this.uuid),"undefined"!=typeof this.image.resizeHandle&&this.image.resizeHandle.el.attr("rel",this.image.resizeHandle.el.attr("style")),this.code.sync())}},loadResizableControls:function(t,n){if(this.opts.imageResizable&&!this.utils.isMobile()){var r=e('<span id="redactor-image-resizer" data-redactor="verified"></span>');return this.utils.isDesktop()||r.css({width:"15px",height:"15px"}),r.attr("contenteditable",!1),n.append(r),n.append(t),r}return n.append(t),!1},loadEditableControls:function(t){var n=e('<span id="redactor-image-box" data-redactor="verified">');if(n.css("float",t.css("float")).attr("contenteditable",!1),"auto"!=t[0].style.margin?(n.css({marginTop:t[0].style.marginTop,marginBottom:t[0].style.marginBottom,marginLeft:t[0].style.marginLeft,marginRight:t[0].style.marginRight}),t.css("margin","")):n.css({display:"block",margin:"auto"}),t.css("opacity",".5").after(n),this.opts.imageEditable){this.image.editter=e('<span id="redactor-image-editter" data-redactor="verified">'+this.lang.get("edit")+"</span>"),this.image.editter.attr("contenteditable",!1),this.image.editter.on("click",e.proxy(function(){this.image.showEdit(t)},this)),n.append(this.image.editter);var r=this.image.editter.innerWidth();this.image.editter.css("margin-left","-"+r/2+"px")}return this.image.loadResizableControls(t,n)},remove:function(t){var n=e(t),r=n.closest("a",this.$editor[0]),i=n.closest("figure",this.$editor[0]),o=n.parent();0!==e("#redactor-image-box").length&&(o=e("#redactor-image-box").parent());var a;0!==i.length?(a=i.next(),i.remove()):0!==r.length?(o=r.parent(),r.remove()):n.remove(),e("#redactor-image-box").remove(),0!==i.length?this.caret.setStart(a):this.caret.setStart(o),this.core.setCallback("imageDelete",n[0].src,n),this.modal.close(),this.code.sync()},insert:function(t,n,r){if("undefined"!=typeof t.error)return this.modal.close(),this.selection.restore(),void this.core.setCallback("imageUploadError",t);var i;"string"==typeof t?i=e(t).attr("data-redactor-inserted-image","true"):(i=e("<img>"),i.attr("src",t.filelink).attr("data-redactor-inserted-image","true"));var o=i,a=this.utils.isCurrentOrParent("P");if(a&&(o=e("<blockquote />").append(i)),n){this.selection.removeMarkers();var s=this.selection.getMarker();this.insert.nodeToCaretPositionFromPoint(r,s)}else this.modal.close();this.selection.restore(),this.buffer.set(),this.insert.html(this.utils.getOuterHtml(o),!1);var l=this.$editor.find("img[data-redactor-inserted-image=true]").removeAttr("data-redactor-inserted-image");a?l.parent().contents().unwrap().wrap("<p />"):this.opts.linebreaks&&(this.utils.isEmpty(this.code.get())||l.before("<br>"),l.after("<br>")),"string"!=typeof t&&this.core.setCallback("imageUpload",l,t)}}},indent:function(){return{increase:function(){this.utils.browser("msie")||this.$editor.focus(),this.buffer.set(),this.selection.save();var e=this.selection.getBlock();e&&"LI"==e.tagName?this.indent.increaseLists():e===!1&&this.opts.linebreaks?this.indent.increaseText():this.indent.increaseBlocks(),this.selection.restore(),this.code.sync()},increaseLists:function(){document.execCommand("indent"),this.indent.fixEmptyIndent(),this.clean.normalizeLists(),this.clean.clearUnverified()},increaseBlocks:function(){e.each(this.selection.getBlocks(),e.proxy(function(e,t){if("TD"!==t.tagName&&"TH"!==t.tagName){var n=this.utils.getAlignmentElement(t),r=this.utils.normalize(n.css("margin-left"))+this.opts.indentValue;n.css("margin-left",r+"px")}},this))},increaseText:function(){var t=this.selection.wrap("div");e(t).attr("data-tagblock","redactor"),e(t).css("margin-left",this.opts.indentValue+"px")},decrease:function(){this.buffer.set(),this.selection.save();var e=this.selection.getBlock();e&&"LI"==e.tagName?this.indent.decreaseLists():this.indent.decreaseBlocks(),this.selection.restore(),this.code.sync()},decreaseLists:function(){document.execCommand("outdent");var t=this.selection.getCurrent(),n=e(t).closest("li",this.$editor[0]);this.indent.fixEmptyIndent(),this.opts.linebreaks||0!==n.length||(document.execCommand("formatblock",!1,"p"),this.$editor.find("ul, ol, blockquote, p").each(e.proxy(this.utils.removeEmpty,this))),this.clean.clearUnverified()},decreaseBlocks:function(){e.each(this.selection.getBlocks(),e.proxy(function(e,t){var n=this.utils.getAlignmentElement(t),r=this.utils.normalize(n.css("margin-left"))-this.opts.indentValue;0>=r?this.opts.linebreaks&&"undefined"!=typeof n.data("tagblock")?n.replaceWith(n.html()+"<br />"):(n.css("margin-left",""),this.utils.removeEmptyAttr(n,"style")):n.css("margin-left",r+"px")},this))},fixEmptyIndent:function(){var t=this.selection.getBlock();if(this.range.collapsed&&t&&"LI"==t.tagName&&this.utils.isEmpty(e(t).text())){var n=e(t);n.find("span").not(".redactor-selection-marker").contents().unwrap(),n.append("<br>")}}}},inline:function(){return{formatting:function(e){var t,n;"undefined"!=typeof this.formatting[e].style?t="style":"undefined"!=typeof this.formatting[e]["class"]&&(t="class"),t&&(n=this.formatting[e][t]),this.inline.format(this.formatting[e].tag,t,n)},format:function(t,n,r){var i=this.selection.getCurrent();if(!(i&&"TR"===i.tagName||(this.blurClickedElement=!0,this.utils.isCurrentOrParent("PRE")||this.utils.isCurrentOrParentHeader()))){for(var o=["b","bold","i","italic","underline","strikethrough","deleted","superscript","subscript"],a=["strong","strong","em","em","u","del","del","sup","sub"],s=0;s<o.length;s++)t==o[s]&&(t=a[s]);if(this.opts.allowedTags){if(-1==e.inArray(t,this.opts.allowedTags))return}else if(-1!==e.inArray(t,this.opts.deniedTags))return;this.inline.type=n||!1,this.inline.value=r||!1,this.buffer.set(),this.utils.browser("msie")||this.$editor.focus(),this.selection.get(),this.range.collapsed?this.inline.formatCollapsed(t):this.inline.formatMultiple(t)}},formatCollapsed:function(t){var n=this.selection.getCurrent(),r=e(n).closest(t+"[data-redactor-tag="+t+"]",this.$editor[0]);if(0!==r.length&&"style"!=this.inline.type&&"SPAN"!=r[0].tagName)return void(this.utils.isEmpty(r.text())?(this.caret.setAfter(r[0]),r.remove(),this.code.sync()):this.utils.isEndOfElement(r)&&this.caret.setAfter(r[0]));var i=e("<"+t+">").attr("data-verified","redactor").attr("data-redactor-tag",t);i.html(this.opts.invisibleSpace),i=this.inline.setFormat(i);var i=this.insert.node(i);this.caret.setEnd(i),this.code.sync()},formatMultiple:function(t){if(this.inline.formatConvert(t),this.selection.save(),document.execCommand("strikethrough"),this.$editor.find("strike").each(e.proxy(function(n,r){var i=e(r);this.inline.formatRemoveSameChildren(i,t);var o;if(this.inline.type?(o=e("<span>").attr("data-redactor-tag",t).attr("data-verified","redactor"),o=this.inline.setFormat(o)):o=e("<"+t+">").attr("data-redactor-tag",t).attr("data-verified","redactor"),i.replaceWith(o.html(i.contents())),"span"==t){var a=o.parent();if(a&&"SPAN"==a[0].tagName&&"style"==this.inline.type)for(var s=this.inline.value.split(";"),l=0;l<s.length;l++){if(""===s[l])return;var u=s[l].split(":");a.css(u[0],""),this.utils.removeEmptyAttr(a,"style")&&a.replaceWith(a.contents())}}},this)),"span"!=t&&this.$editor.find(this.opts.inlineTags.join(", ")).each(e.proxy(function(t,n){var r=e(n),i=r.css("text-decoration");"line-through"==i&&(r.css("text-decoration",""),this.utils.removeEmptyAttr(r,"style"))},this)),"del"!=t){var n=this;this.$editor.find("inline").each(function(e,t){n.utils.replaceToTag(t,"del")})}this.selection.restore(),this.code.sync()},formatRemoveSameChildren:function(t,n){var r=this;t.children(n).each(function(){var t=e(this);if(!t.hasClass("redactor-selection-marker"))if("style"==r.inline.type)for(var n=r.inline.value.split(";"),i=0;i<n.length;i++){if(""===n[i])return;var o=n[i].split(":");t.css(o[0],""),r.utils.removeEmptyAttr(t,"style")&&t.replaceWith(t.contents())}else t.contents().unwrap()})},formatConvert:function(t){this.selection.save();var n="";"class"==this.inline.type?n="[data-redactor-class="+this.inline.value+"]":"style"==this.inline.type&&(n='[data-redactor-style="'+this.inline.value+'"]');var r=this;"del"!=t&&this.$editor.find("del").each(function(e,t){r.utils.replaceToTag(t,"inline")}),"span"!=t&&this.$editor.find(t).each(function(){var t=e(this);t.replaceWith(e("<strike />").html(t.contents()))}),this.$editor.find('[data-redactor-tag="'+t+'"]'+n).each(function(){if(""!==n||"span"!=t||this.tagName.toLowerCase()!=t){var r=e(this);r.replaceWith(e("<strike />").html(r.contents()))}}),this.selection.restore()},setFormat:function(e){switch(this.inline.type){case"class":e.hasClass(this.inline.value)?(e.removeClass(this.inline.value),e.removeAttr("data-redactor-class")):(e.addClass(this.inline.value),e.attr("data-redactor-class",this.inline.value));break;case"style":e[0].style.cssText=this.inline.value,e.attr("data-redactor-style",this.inline.value)}return e},removeStyle:function(){this.buffer.set();var t=this.selection.getCurrent(),n=this.selection.getInlines();if(this.selection.save(),t&&"SPAN"===t.tagName){var r=e(t);r.removeAttr("style"),0===r[0].attributes.length&&r.replaceWith(r.contents())}e.each(n,e.proxy(function(t,n){var r=e(n);-1==e.inArray(n.tagName.toLowerCase(),this.opts.inlineTags)||r.hasClass("redactor-selection-marker")||(r.removeAttr("style"),0===r[0].attributes.length&&r.replaceWith(r.contents()))},this)),this.selection.restore(),this.code.sync()},removeStyleRule:function(t){this.buffer.set();var n=this.selection.getParent(),r=this.selection.getInlines();if(this.selection.save(),n&&"SPAN"===n.tagName){var i=e(n);i.css(t,""),this.utils.removeEmptyAttr(i,"style"),0===i[0].attributes.length&&i.replaceWith(i.contents())}e.each(r,e.proxy(function(n,r){var i=e(r);-1==e.inArray(r.tagName.toLowerCase(),this.opts.inlineTags)||i.hasClass("redactor-selection-marker")||(i.css(t,""),this.utils.removeEmptyAttr(i,"style"),0===i[0].attributes.length&&i.replaceWith(i.contents()))},this)),this.selection.restore(),this.code.sync()},removeFormat:function(){this.buffer.set();var t=this.selection.getCurrent();this.selection.save(),document.execCommand("removeFormat"),t&&"SPAN"===t.tagName&&e(t).replaceWith(e(t).contents()),e.each(this.selection.getNodes(),e.proxy(function(t,n){var r=e(n);-1==e.inArray(n.tagName.toLowerCase(),this.opts.inlineTags)||r.hasClass("redactor-selection-marker")||r.replaceWith(r.contents())},this)),this.selection.restore(),this.code.sync()},toggleClass:function(e){this.inline.format("span","class",e)},toggleStyle:function(e){this.inline.format("span","style",e)}}},insert:function(){return{set:function(t,n){this.placeholder.remove(),t=this.clean.setVerified(t),"undefined"==typeof n&&(t=this.clean.onPaste(t,!1)),this.$editor.html(t),this.selection.remove(),this.focus.setEnd(),this.clean.normalizeLists(),this.code.sync(),this.observe.load(),"undefined"==typeof n&&setTimeout(e.proxy(this.clean.clearUnverified,this),10)},text:function(t){if(this.placeholder.remove(),t=t.toString(),t=e.trim(t),t=this.clean.getPlainText(t,!1),this.$editor.focus(),this.utils.browser("msie"))this.insert.htmlIe(t);else{this.selection.get(),this.range.deleteContents();var n=document.createElement("div");n.innerHTML=t;for(var r,i,o=document.createDocumentFragment();r=n.firstChild;)i=o.appendChild(r);if(this.range.insertNode(o),i){var a=this.range.cloneRange();a.setStartAfter(i),a.collapse(!0),this.sel.removeAllRanges(),this.sel.addRange(a)}}this.code.sync(),this.clean.clearUnverified()},htmlWithoutClean:function(e){this.insert.html(e,!1)},html:function(t,n){this.placeholder.remove(),"undefined"==typeof n&&(n=!0),this.$editor.focus(),t=this.clean.setVerified(t),n&&(t=this.clean.onPaste(t)),this.utils.browser("msie")?this.insert.htmlIe(t):(this.clean.singleLine?this.insert.execHtml(t):document.execCommand("insertHTML",!1,t),this.insert.htmlFixMozilla()),this.clean.normalizeLists(),this.opts.linebreaks||this.$editor.find("p").each(e.proxy(this.utils.removeEmpty,this)),this.code.sync(),this.observe.load(),n&&this.clean.clearUnverified()},htmlFixMozilla:function(){if(this.utils.browser("mozilla")){var t=e(this.selection.getBlock()).next();t.length>0&&"P"==t[0].tagName&&""===t.html()&&t.remove()}},htmlIe:function(t){if(this.utils.isIe11()){var n=this.utils.isCurrentOrParent("P"),r=e("<div>").append(t),i=r.contents().is("p, :header, dl, ul, ol, div, table, td, blockquote, pre, address, section, header, footer, aside, article");return void(n&&i?this.insert.ie11FixInserting(n,t):this.insert.ie11PasteFrag(t))}document.selection.createRange().pasteHTML(t)},execHtml:function(e){e=this.clean.setVerified(e),this.selection.get(),this.range.deleteContents();var t=document.createElement("div");t.innerHTML=e;for(var n,r,i=document.createDocumentFragment();n=t.firstChild;)r=i.appendChild(n);this.range.insertNode(i),this.range.collapse(!0),this.caret.setAfter(r)},node:function(t,n){t=t[0]||t;var r=this.utils.getOuterHtml(t);return r=this.clean.setVerified(r),null!==r.match(/</g)&&(t=e(r)[0]),this.selection.get(),n!==!1&&this.range.deleteContents(),this.range.insertNode(t),this.range.collapse(!1),this.selection.addRange(),t},nodeToPoint:function(e,t,n){e=e[0]||e,this.selection.get();var r;if(document.caretPositionFromPoint){var i=document.caretPositionFromPoint(t,n);this.range.setStart(i.offsetNode,i.offset),this.range.collapse(!0),this.range.insertNode(e)}else if(document.caretRangeFromPoint)r=document.caretRangeFromPoint(t,n),r.insertNode(e);else if("undefined"!=typeof document.body.createTextRange){r=document.body.createTextRange(),r.moveToPoint(t,n);var o=r.duplicate();o.moveToPoint(t,n),r.setEndPoint("EndToEnd",o),r.select()}},nodeToCaretPositionFromPoint:function(e,t){t=t[0]||t;var n,r=e.clientX,i=e.clientY;if(document.caretPositionFromPoint){var o=document.caretPositionFromPoint(r,i),a=document.getSelection();n=a.getRangeAt(0),n.setStart(o.offsetNode,o.offset),n.collapse(!0),n.insertNode(t)}else if(document.caretRangeFromPoint)n=document.caretRangeFromPoint(r,i),n.insertNode(t);else if("undefined"!=typeof document.body.createTextRange){n=document.body.createTextRange(),n.moveToPoint(r,i);var s=n.duplicate();s.moveToPoint(r,i),n.setEndPoint("EndToEnd",s),n.select()}},ie11FixInserting:function(t,n){var r=document.createElement("span");r.className="redactor-ie-paste",this.insert.node(r);var i=e(t).html();i="<p>"+i.replace(/<span class="redactor-ie-paste"><\/span>/gi,"</p>"+n+"<p>")+"</p>",i=i.replace(/<p><\/p>/gi,""),e(t).replaceWith(i)},ie11PasteFrag:function(e){this.selection.get(),this.range.deleteContents();var t=document.createElement("div");t.innerHTML=e;for(var n,r,i=document.createDocumentFragment();n=t.firstChild;)r=i.appendChild(n);this.range.insertNode(i),this.range.collapse(!1),this.selection.addRange()}}},keydown:function(){return{init:function(t){if(!this.rtePaste){var n=t.which,r=n>=37&&40>=n;this.keydown.ctrl=t.ctrlKey||t.metaKey,this.keydown.current=this.selection.getCurrent(),this.keydown.parent=this.selection.getParent(),this.keydown.block=this.selection.getBlock(),this.keydown.pre=this.utils.isTag(this.keydown.current,"pre"),this.keydown.blockquote=this.utils.isTag(this.keydown.current,"blockquote"),this.keydown.figcaption=this.utils.isTag(this.keydown.current,"figcaption"),this.shortcuts.init(t,n),this.utils.isDesktop()&&(this.keydown.checkEvents(r,n),this.keydown.setupBuffer(t,n)),this.keydown.addArrowsEvent(r),this.keydown.setupSelectAll(t,n);var i=this.core.setCallback("keydown",t);if(i===!1)return t.preventDefault(),!1;if(this.opts.enterKey&&(this.utils.browser("msie")||this.utils.browser("mozilla"))&&(n===this.keyCode.DOWN||n===this.keyCode.RIGHT)){var o=!1,a=!1;if(this.keydown.block&&"TD"===this.keydown.block.tagName&&(a=e(this.keydown.block).closest("table",this.$editor[0])),a&&a.find("td").last()[0]===this.keydown.block&&(o=!0),this.utils.isEndOfElement()&&o){var s=e(this.opts.emptyHtml);a.after(s),this.caret.setStart(s)}}if(this.opts.enterKey&&n===this.keyCode.DOWN&&this.keydown.onArrowDown(),!this.opts.enterKey&&n===this.keyCode.ENTER)return t.preventDefault(),void(this.range.collapsed||this.range.deleteContents());if(n==this.keyCode.ENTER&&!t.shiftKey&&!t.ctrlKey&&!t.metaKey){var l=this.core.setCallback("enter",t);if(l===!1)return t.preventDefault(),!1;if(this.keydown.blockquote&&this.keydown.exitFromBlockquote(t)===!0)return!1;var u,c;if(this.keydown.pre)return this.keydown.insertNewLine(t);if(this.keydown.blockquote||this.keydown.figcaption)return u=this.selection.getCurrent(),c=e(u).next(),0!==c.length&&"BR"==c[0].tagName?this.keydown.insertBreakLine(t):this.utils.isEndOfElement()&&u&&"SPAN"!=u?this.keydown.insertDblBreakLine(t):this.keydown.insertBreakLine(t);if(this.opts.linebreaks&&!this.keydown.block)return u=this.selection.getCurrent(),c=e(this.keydown.current).next(),0!==c.length&&"BR"==c[0].tagName?this.keydown.insertBreakLine(t):u!==!1&&e(u).hasClass("redactor-invisible-space")?(this.caret.setAfter(u),e(u).contents().unwrap(),this.keydown.insertDblBreakLine(t)):this.utils.isEndOfEditor()?this.keydown.insertDblBreakLine(t):0===c.length&&u===!1&&"undefined"!=typeof c.context?this.keydown.insertBreakLine(t):this.keydown.insertBreakLine(t);if(this.opts.linebreaks&&this.keydown.block)setTimeout(e.proxy(this.keydown.replaceDivToBreakLine,this),1);else if(!this.opts.linebreaks&&this.keydown.block){if(setTimeout(e.proxy(this.keydown.replaceDivToParagraph,this),1),"LI"===this.keydown.block.tagName){u=this.selection.getCurrent();var d=e(u).closest("li",this.$editor[0]),h=d.closest("ul,ol",this.$editor[0]);if(0!==d.length&&this.utils.isEmpty(d.html())&&0===h.next().length&&this.utils.isEmpty(h.find("li").last().html())){h.find("li").last().remove();var s=e(this.opts.emptyHtml);return h.after(s),this.caret.setStart(s),!1}}}else if(!this.opts.linebreaks&&!this.keydown.block)return this.keydown.insertParagraph(t)}if(n===this.keyCode.ENTER&&(t.ctrlKey||t.shiftKey))return this.keydown.onShiftEnter(t);if(n===this.keyCode.TAB||t.metaKey&&221===n||t.metaKey&&219===n)return this.keydown.onTab(t,n);if(n===this.keyCode.BACKSPACE||n===this.keyCode.DELETE){var p=this.selection.getNodes();if(p)for(var f,g=p.length,m=0;g>m;m++){var v=e(p[m]).children("img");if(0!==v.length){var y=this;e.each(v,function(t,n){var r=e(n);"none"==r.css("float")&&(y.core.setCallback("imageDelete",n.src,r),f=n)})}else"IMG"==p[m].tagName&&f!=p[m]&&(this.core.setCallback("imageDelete",p[m].src,e(p[m])),f=p[m])}}if(n===this.keyCode.BACKSPACE){var b=this.selection.getBlock(),w="0px"!==e(b).css("margin-left");if(b&&w&&this.range.collapsed&&this.utils.isStartOfElement())return this.indent.decrease(),void t.preventDefault();if(this.utils.browser("mozilla")){var $=this.selection.getPrev(),x=e($).prev()[0];$&&"HR"===$.tagName&&e($).remove(),x&&"HR"===x.tagName&&e(x).remove()}this.keydown.removeInvisibleSpace(),this.keydown.removeEmptyListInTable(t)}this.code.sync()}},checkEvents:function(e,t){e||"click"!=this.core.getEvent()&&"arrow"!=this.core.getEvent()||(this.core.addEvent(!1),this.keydown.checkKeyEvents(t)&&this.buffer.set())},checkKeyEvents:function(t){var n=this.keyCode,r=[n.BACKSPACE,n.DELETE,n.ENTER,n.SPACE,n.ESC,n.TAB,n.CTRL,n.META,n.ALT,n.SHIFT];return-1==e.inArray(t,r)?!0:!1},addArrowsEvent:function(e){return e?"click"==this.core.getEvent()||"arrow"==this.core.getEvent()?void this.core.addEvent(!1):void this.core.addEvent("arrow"):void 0},setupBuffer:function(e,t){return this.keydown.ctrl&&90===t&&!e.shiftKey&&!e.altKey&&this.opts.buffer.length?(e.preventDefault(),void this.buffer.undo()):this.keydown.ctrl&&90===t&&e.shiftKey&&!e.altKey&&0!==this.opts.rebuffer.length?(e.preventDefault(),void this.buffer.redo()):void(this.keydown.ctrl||(t==this.keyCode.BACKSPACE||t==this.keyCode.DELETE||t==this.keyCode.ENTER&&!e.ctrlKey&&!e.shiftKey||t==this.keyCode.SPACE)&&this.buffer.set())},setupSelectAll:function(e,t){this.keydown.ctrl&&65===t?this.utils.enableSelectAll():t==this.keyCode.LEFT_WIN||this.keydown.ctrl||this.utils.disableSelectAll()},onArrowDown:function(){for(var e=[this.keydown.blockquote,this.keydown.pre,this.keydown.figcaption],t=0;t<e.length;t++)if(e[t])return this.keydown.insertAfterLastElement(e[t]),!1},onShiftEnter:function(e){return this.buffer.set(),this.utils.isEndOfElement()?this.keydown.insertDblBreakLine(e):this.keydown.insertBreakLine(e)},onTab:function(e,t){if(!this.opts.tabKey)return!0;if(this.utils.isEmpty(this.code.get())&&this.opts.tabAsSpaces===!1)return!0;e.preventDefault();var n;return this.keydown.pre&&!e.shiftKey?(n=this.opts.preSpaces?document.createTextNode(Array(this.opts.preSpaces+1).join(" ")):document.createTextNode("	"),this.insert.node(n),this.code.sync()):this.opts.tabAsSpaces!==!1?(n=document.createTextNode(Array(this.opts.tabAsSpaces+1).join(" ")),this.insert.node(n),this.code.sync()):e.metaKey&&219===t?this.indent.decrease():e.metaKey&&221===t?this.indent.increase():e.shiftKey?this.indent.decrease():this.indent.increase(),!1},replaceDivToBreakLine:function(){var t=this.selection.getBlock(),n=t.innerHTML.replace(/<br\s?\/?>/gi,"");if(("DIV"===t.tagName||"P"===t.tagName)&&""===n&&!e(t).hasClass("redactor-editor")){var r=document.createElement("br");return e(t).replaceWith(r),this.caret.setBefore(r),this.code.sync(),!1}},replaceDivToParagraph:function(){var t=this.selection.getBlock(),n=t.innerHTML.replace(/<br\s?\/?>/gi,"");if("DIV"===t.tagName&&this.utils.isEmpty(n)&&!e(t).hasClass("redactor-editor")){var r=document.createElement("p");return r.innerHTML=this.opts.invisibleSpace,e(t).replaceWith(r),this.caret.setStart(r),this.code.sync(),!1}this.opts.cleanStyleOnEnter&&"P"==t.tagName&&e(t).removeAttr("class").removeAttr("style")},insertParagraph:function(e){e.preventDefault(),this.selection.get();var t=document.createElement("p");return t.innerHTML=this.opts.invisibleSpace,this.range.deleteContents(),this.range.insertNode(t),this.caret.setStart(t),this.code.sync(),!1},exitFromBlockquote:function(t){if(this.utils.isEndOfElement()){var n=e.trim(e(this.keydown.block).html());if(-1!=n.search(/(<br\s?\/?>){2}$/i)){if(t.preventDefault(),this.opts.linebreaks){var r=document.createElement("br");e(this.keydown.blockquote).after(r),this.caret.setBefore(r),e(this.keydown.block).html(n.replace(/<br\s?\/?>$/i,""))}else{var i=e(this.opts.emptyHtml);e(this.keydown.blockquote).after(i),this.caret.setStart(i)}return!0}}},insertAfterLastElement:function(t){if(this.utils.isEndOfElement())if(this.buffer.set(),this.opts.linebreaks){var n=e("<div>").append(e.trim(this.$editor.html())).contents(),r=n.last()[0];if("SPAN"==r.tagName&&""===r.innerHTML&&(r=n.prev()[0]),this.utils.getOuterHtml(r)!=this.utils.getOuterHtml(t))return;var i=document.createElement("br");e(t).after(i),this.caret.setAfter(i)}else{if(this.$editor.contents().last()[0]!==t)return;var o=e(this.opts.emptyHtml);e(t).after(o),this.caret.setStart(o)}},insertNewLine:function(e){e.preventDefault();var t=document.createTextNode("\n");return this.selection.get(),this.range.deleteContents(),this.range.insertNode(t),this.caret.setAfter(t),this.code.sync(),!1},insertBreakLine:function(e){return this.keydown.insertBreakLineProcessing(e)},insertDblBreakLine:function(e){return this.keydown.insertBreakLineProcessing(e,!0)},insertBreakLineProcessing:function(t,n){t.stopPropagation(),this.selection.get();var r=document.createElement("br");this.utils.browser("msie")?(this.range.collapse(!1),this.range.setEnd(this.range.endContainer,this.range.endOffset)):this.range.deleteContents(),this.range.insertNode(r);var i=e(r).parent("a");if(i.length>0&&(i.find(r).remove(),i.after(r)),n===!0){var o=e(r).next();if(0!==o.length&&"BR"===o[0].tagName&&this.utils.isEndOfEditor())return this.caret.setAfter(r),this.code.sync(),!1;var a=document.createElement("br");this.range.insertNode(a),this.caret.setAfter(a)}else if(this.utils.browser("msie")){var s=document.createElement("span");s.innerHTML="&#x200b;",e(r).after(s),this.caret.setAfter(s),e(s).remove()}else{var l=document.createRange();l.setStartAfter(r),l.collapse(!0);var u=window.getSelection();u.removeAllRanges(),u.addRange(l)}return this.code.sync(),!1},removeInvisibleSpace:function(){var t=e(this.keydown.current);0===t.text().search(/^\u200B$/g)&&t.remove()},removeEmptyListInTable:function(t){var n=e(this.keydown.current),r=e(this.keydown.parent),i=n.closest("td",this.$editor[0]);if(0!==i.length&&n.closest("li",this.$editor[0])&&1===r.children("li").length){if(!this.utils.isEmpty(n.text()))return;t.preventDefault(),n.remove(),r.remove(),this.caret.setStart(i)}}}},keyup:function(){return{init:function(t){if(!this.rtePaste){var n=t.which;this.keyup.current=this.selection.getCurrent(),this.keyup.parent=this.selection.getParent();var r=this.utils.isRedactorParent(e(this.keyup.parent).parent()),i=this.core.setCallback("keyup",t);if(i===!1)return t.preventDefault(),!1;if(!this.opts.linebreaks&&3==this.keyup.current.nodeType&&this.keyup.current.length<=1&&(this.keyup.parent===!1||"BODY"==this.keyup.parent.tagName)&&this.keyup.replaceToParagraph(),!this.opts.linebreaks&&this.utils.isRedactorParent(this.keyup.current)&&"DIV"===this.keyup.current.tagName&&this.keyup.replaceToParagraph(!1),this.opts.linebreaks||!e(this.keyup.parent).hasClass("redactor-invisible-space")||r!==!1&&"BODY"!=r[0].tagName||(e(this.keyup.parent).contents().unwrap(),this.keyup.replaceToParagraph()),this.linkify.isEnabled()&&this.linkify.isKey(n)&&this.linkify.format(),n===this.keyCode.DELETE||n===this.keyCode.BACKSPACE){if(this.utils.browser("mozilla")){var o=e(this.keydown.current).closest("td",this.$editor[0]);if(0!==o.size()&&""!==o.text())return t.preventDefault(),!1}return this.clean.clearUnverified(),this.observe.image?(t.preventDefault(),this.image.hideResize(),this.buffer.set(),this.image.remove(this.observe.image),this.observe.image=!1,!1):(this.$editor.find("p").each(e.proxy(function(t,n){this.utils.removeEmpty(t,e(n).html())},this)),this.opts.linebreaks&&this.keyup.current&&"DIV"==this.keyup.current.tagName&&this.utils.isEmpty(this.keyup.current.innerHTML)&&(e(this.keyup.current).after(this.selection.getMarkerAsHtml()),this.selection.restore(),e(this.keyup.current).remove()),this.keyup.formatEmpty(t))}}},replaceToParagraph:function(t){var n,r=e(this.keyup.current);n=t===!1?e("<p>").append(r.html()):e("<p>").append(r.clone()),r.replaceWith(n);var i=e(n).next();"undefined"!=typeof i[0]&&"BR"==i[0].tagName&&i.remove(),this.caret.setEnd(n)},formatEmpty:function(t){var n=e.trim(this.$editor.html());if(this.utils.isEmpty(n))return t.preventDefault(),this.opts.linebreaks?(this.$editor.html(this.selection.getMarkerAsHtml()),this.selection.restore()):(this.$editor.html(this.opts.emptyHtml),this.focus.setStart()),this.code.sync(),!1}}},lang:function(){return{load:function(){this.opts.curLang=this.opts.langs[this.opts.lang]},get:function(e){return"undefined"!=typeof this.opts.curLang[e]?this.opts.curLang[e]:""}}},line:function(){return{insert:function(){this.buffer.set();var e=this.selection.getBlocks();return e[0]!==!1&&this.line.isExceptLastOrFirst(e)?void(this.utils.browser("msie")||this.$editor.focus()):void(this.utils.browser("msie")?this.line.insertInIe():this.line.insertInOthersBrowsers())},isExceptLastOrFirst:function(t){var n=["li","td","th","blockquote","figcaption","pre","dl","dt","dd"],r=t[0].tagName.toLowerCase(),i=this.selection.getLastBlock();i="undefined"==typeof i?r:i.tagName.toLowerCase();var o=-1!=e.inArray(r,n),a=-1!=e.inArray(i,n);return o&&a||o?!0:void 0},insertInIe:function(){this.utils.saveScroll(),this.buffer.set(),this.insert.node(document.createElement("hr")),this.utils.restoreScroll(),this.code.sync()},insertInOthersBrowsers:function(){this.buffer.set();var e='<p id="redactor-insert-line"><br /></p>';this.opts.linebreaks&&(e='<br id="redactor-insert-line">'),document.execCommand("insertHtml",!1,"<hr>"+e),this.line.setFocus(),this.code.sync()},setFocus:function(){var t=this.$editor.find("#redactor-insert-line"),n=e(t).next()[0],r=n;this.utils.browser("mozilla")&&n&&""===n.innerHTML&&(r=e(n).next()[0],e(n).remove()),r?(t.remove(),this.opts.linebreaks||(this.$editor.focus(),this.line.setStart(r))):(t.removeAttr("id"),this.line.setStart(t[0]))},setStart:function(e){if("undefined"!=typeof e){
var t=document.createTextNode("​");this.selection.get(),this.range.setStart(e,0),this.range.insertNode(t),this.range.collapse(!0),this.selection.addRange()}}}},link:function(){return{show:function(t){"undefined"!=typeof t&&t.preventDefault&&t.preventDefault(),this.observe.isCurrent("a")?this.modal.load("link",this.lang.get("link_edit"),600):this.modal.load("link",this.lang.get("link_insert"),600),this.modal.createCancelButton();var n=this.observe.isCurrent("a")?this.lang.get("edit"):this.lang.get("insert");this.link.buttonInsert=this.modal.createActionButton(n),this.selection.get(),this.link.getData(),this.link.cleanUrl(),"_blank"==this.link.target&&e("#redactor-link-blank").prop("checked",!0),this.link.$inputUrl=e("#redactor-link-url"),this.link.$inputText=e("#redactor-link-url-text"),this.link.$inputText.val(this.link.text),this.link.$inputUrl.val(this.link.url),this.link.buttonInsert.on("click",e.proxy(this.link.insert,this)),e(".redactor-link-tooltip").remove(),this.selection.save(),this.modal.show(),this.link.$inputUrl.focus()},cleanUrl:function(){var e=self.location.href.replace(/\/$/i,"");if("undefined"!=typeof this.link.url&&(this.link.url=this.link.url.replace(e,""),this.link.url=this.link.url.replace(/^\/#/,"#"),this.link.url=this.link.url.replace("mailto:",""),!this.opts.linkProtocol)){var t=new RegExp("^(http|ftp|https)://"+self.location.host,"i");this.link.url=this.link.url.replace(t,"")}},getData:function(){this.link.$node=!1;var t=e(this.selection.getCurrent()).closest("a",this.$editor[0]);0!==t.length&&"A"===t[0].tagName?(this.link.$node=t,this.link.url=t.attr("href"),this.link.text=t.text(),this.link.target=t.attr("target")):(this.link.text=this.sel.toString(),this.link.url="",this.link.target="")},insert:function(){this.placeholder.remove();var t="",n=this.link.$inputUrl.val(),r=this.link.$inputText.val();if(""===e.trim(n))return void this.link.$inputUrl.addClass("redactor-input-error").on("keyup",function(){e(this).removeClass("redactor-input-error"),e(this).off("keyup")});if(-1!=n.search("@")&&/(http|ftp|https):\/\//i.test(n)===!1)n="mailto:"+n;else if(0!==n.search("#")){e("#redactor-link-blank").prop("checked")&&(t="_blank");var i="((xn--)?[a-z0-9]+(-[a-z0-9]+)*\\.)+[a-z]{2,}",o=new RegExp("^(http|ftp|https)://"+i,"i"),a=new RegExp("^"+i,"i"),s=new RegExp(".(html|php)$","i");-1==n.search(o)&&-1==n.search(s)&&0===n.search(a)&&this.opts.linkProtocol&&(n=this.opts.linkProtocol+"://"+n)}this.link.set(r,n,t),this.modal.close()},set:function(t,n,r){t=e.trim(t.replace(/<|>/g,"")),this.selection.restore();var i=this.selection.getBlocks();if(this.utils.browser("mozilla")&&!this.focus.isFocused()&&this.focus.setStart(),""!==t||""!==n){if(""===t&&""!==n&&(t=n),this.link.$node){this.buffer.set();var o=this.link.$node,a=o.children();if(a.length>0){for(;a.length;)a=a.children();a=a.end()}else a=o;o.attr("href",n),a.text(t),""!==r?o.attr("target",r):o.removeAttr("target"),this.selection.selectElement(o),this.code.sync()}else{if(this.utils.browser("mozilla")&&""===this.link.text){var s=e("<a />").attr("href",n).text(t);""!==r&&s.attr("target",r),this.insert.node(s),this.selection.selectElement(s)}else{var s;this.utils.browser("msie")?(s=e('<a href="'+n+'">').text(t),""!==r&&s.attr("target",r),s=e(this.insert.node(s)),this.selection.getText().match(/\s$/)&&s.after(" "),this.selection.selectElement(s)):(document.execCommand("createLink",!1,n),s=e(this.selection.getCurrent()).closest("a",this.$editor[0]),this.utils.browser("mozilla")&&(s=e('a[_moz_dirty=""]')),""!==r&&s.attr("target",r),s.removeAttr("style").removeAttr("_moz_dirty"),this.selection.getText().match(/\s$/)&&s.after(" "),(""!==this.link.text||this.link.text!=t)&&(!this.opts.linebreaks&&i&&i.length<=1&&s.text(t),this.selection.selectElement(s)))}this.code.sync(),this.core.setCallback("insertedLink",s)}setTimeout(e.proxy(function(){this.observe.links()},this),5)}},unlink:function(t){"undefined"!=typeof t&&t.preventDefault&&t.preventDefault();var n=this.selection.getNodes();if(n){this.buffer.set();for(var r=n.length,i=0;r>i;i++){var o=e(n[i]).closest("a",this.$editor[0]);o.replaceWith(o.contents())}e(".redactor-link-tooltip").remove(),this.code.sync()}},toggleClass:function(e){this.link.setClass(e,"toggleClass")},addClass:function(e){this.link.setClass(e,"addClass")},removeClass:function(e){this.link.setClass(e,"removeClass")},setClass:function(t,n){var r=this.selection.getInlinesTags(["a"]);r!==!1&&e.each(r,function(){e(this)[n](t)})}}},linkify:function(){return{isKey:function(e){return e==this.keyCode.ENTER||e==this.keyCode.SPACE},isEnabled:function(){return this.opts.convertLinks&&(this.opts.convertUrlLinks||this.opts.convertImageLinks||this.opts.convertVideoLinks)&&!this.utils.isCurrentOrParent("PRE")},format:function(){var t=this.linkify,n=this.opts;this.$editor.find(":not(iframe,img,a,pre)").addBack().contents().filter(function(){return 3===this.nodeType&&""!=e.trim(this.nodeValue)&&!e(this).parent().is("pre")&&(this.nodeValue.match(n.linkify.regexps.youtube)||this.nodeValue.match(n.linkify.regexps.vimeo)||this.nodeValue.match(n.linkify.regexps.image)||this.nodeValue.match(n.linkify.regexps.url))}).each(function(){var r=e(this).text(),i=r;n.convertVideoLinks&&(i.match(n.linkify.regexps.youtube)||i.match(n.linkify.regexps.vimeo))?i=t.convertVideoLinks(i):n.convertImageLinks&&i.match(n.linkify.regexps.image)?i=t.convertImages(i):n.convertUrlLinks&&(i=t.convertLinks(i)),e(this).before(r.replace(r,i)).remove()});var r=this.$editor.find(".redactor-linkify-object").each(function(){var t=e(this);return t.removeClass("redactor-linkify-object"),""===t.attr("class")&&t.removeAttr("class"),t[0]});this.core.setCallback("linkify",r),this.code.sync()},convertVideoLinks:function(e){var t='<iframe class="redactor-linkify-object" width="500" height="281" src="',n='" frameborder="0" allowfullscreen></iframe>';return e.match(this.opts.linkify.regexps.youtube)&&(e=e.replace(this.opts.linkify.regexps.youtube,t+"//www.youtube.com/embed/$1"+n)),e.match(this.opts.linkify.regexps.vimeo)&&(e=e.replace(this.opts.linkify.regexps.vimeo,t+"//player.vimeo.com/video/$2"+n)),e},convertImages:function(e){var t=e.match(this.opts.linkify.regexps.image);return t&&(e=e.replace(e,'<img src="'+t+'" class="redactor-linkify-object" />'),this.opts.linebreaks&&(this.utils.isEmpty(this.code.get())||(e="<br>"+e)),e+="<br>"),e},convertLinks:function(t){var n=t.match(this.opts.linkify.regexps.url);if(n){n=e.grep(n,function(t,r){return e.inArray(t,n)===r});for(var r=n.length,i=0;r>i;i++){var o=n[i],a=o,s=this.opts.linkProtocol+"://";null!==o.match(/(https?|ftp):\/\//i)&&(s=""),a.length>this.opts.linkSize&&(a=a.substring(0,this.opts.linkSize)+"..."),a=decodeURIComponent(a);var l="\\b";-1!=e.inArray(o.slice(-1),["/","&","="])&&(l="");var u=new RegExp("("+o.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")+l+")","g");t=t.replace(u,'<a href="'+s+e.trim(o)+'" class="redactor-linkify-object">'+e.trim(a)+"</a>")}}return t}}},list:function(){return{toggle:function(t){this.placeholder.remove(),this.utils.browser("msie")||this.$editor.focus(),this.buffer.set(),this.selection.save();var n=this.selection.getParent(),r=e(n).closest("ol, ul",this.$editor[0]);this.utils.isRedactorParent(r)||0===r.length||(r=!1);var i,o,a=!1;if(r&&r.length){a=!0;var s=r[0].tagName;i="orderedlist"===t&&"UL"===s,o="unorderedlist"===t&&"OL"===s}i?this.utils.replaceToTag(r,"ol"):o?this.utils.replaceToTag(r,"ul"):a?this.list.remove(t):this.list.insert(t),this.selection.restore(),this.code.sync()},insert:function(t){var n=this.selection.getParent(),r=this.selection.getCurrent(),i=e(r).closest("td, th",this.$editor[0]);this.utils.browser("msie")&&this.opts.linebreaks?this.list.insertInIe(t):document.execCommand("insert"+t);var n=this.selection.getParent(),o=e(n).closest("ol, ul",this.$editor[0]);if(0!==i.length){var a=i.prev(),s=i.html();i.html(""),!a||1!==a.length||"TD"!==a[0].tagName&&"TH"!==a[0].tagName?e(n).prepend(i):e(a).after(i),i.html(s)}if(this.utils.isEmpty(o.find("li").text())){var l=o.children("li");l.find("br").remove(),l.append(this.selection.getMarkerAsHtml()),this.opts.linebreaks&&this.utils.browser("mozilla")&&2==l.size()&&this.utils.isEmpty(l.eq(1).text())&&l.eq(1).remove()}if(o.length){var u=o.parent();this.utils.isRedactorParent(u)&&"LI"!=u[0].tagName&&this.utils.isBlock(u[0])&&u.replaceWith(u.contents())}this.utils.browser("msie")||this.$editor.focus(),this.clean.clearUnverified()},insertInIe:function(t){var n=this.selection.wrap("div"),r=e(n).html(),i=e("orderedlist"==t?"<ol>":"<ul>"),o=e("<li>");if(""===e.trim(r))o.append(this.selection.getMarkerAsHtml()),i.append(o),this.$editor.find("#selection-marker-1").replaceWith(i);else{var a=r.split(/<br\s?\/?>/gi);if(a)for(var s=0;s<a.length;s++)""!==e.trim(a[s])&&i.append(e("<li>").html(a[s]));else o.append(r),i.append(o);e(n).replaceWith(i)}},remove:function(t){e.inArray("ul",this.selection.getBlocks())&&(t="unorderedlist"),document.execCommand("insert"+t);var n=e(this.selection.getCurrent());this.indent.fixEmptyIndent(),this.opts.linebreaks||0!==n.closest("li, th, td",this.$editor[0]).length||(document.execCommand("formatblock",!1,"p"),this.$editor.find("ul, ol, blockquote").each(e.proxy(this.utils.removeEmpty,this)));var r=e(this.selection.getCurrent()).closest("table",this.$editor[0]),i=r.prev();this.opts.linebreaks||0===r.length||0===i.length||"BR"!=i[0].tagName||i.remove(),this.clean.clearUnverified()}}},modal:function(){return{callbacks:{},loadTemplates:function(){this.opts.modal={imageEdit:String()+'<section id="redactor-modal-image-edit"><label>'+this.lang.get("title")+'</label><input type="text" id="redactor-image-title" /><label class="redactor-image-link-option">'+this.lang.get("link")+'</label><input type="text" id="redactor-image-link" class="redactor-image-link-option" aria-label="'+this.lang.get("link")+'" /><label class="redactor-image-link-option"><input type="checkbox" id="redactor-image-link-blank" aria-label="'+this.lang.get("link_new_tab")+'"> '+this.lang.get("link_new_tab")+'</label><label class="redactor-image-position-option">'+this.lang.get("image_position")+'</label><select class="redactor-image-position-option" id="redactor-image-align" aria-label="'+this.lang.get("image_position")+'"><option value="none">'+this.lang.get("none")+'</option><option value="left">'+this.lang.get("left")+'</option><option value="center">'+this.lang.get("center")+'</option><option value="right">'+this.lang.get("right")+"</option></select></section>",image:String()+'<section id="redactor-modal-image-insert"><div id="redactor-modal-image-droparea"></div></section>',file:String()+'<section id="redactor-modal-file-insert"><div id="redactor-modal-file-upload-box"><label>'+this.lang.get("filename")+'</label><input type="text" id="redactor-filename" aria-label="'+this.lang.get("filename")+'" /><br><br><div id="redactor-modal-file-upload"></div></div></section>',link:String()+'<section id="redactor-modal-link-insert"><label>URL</label><input type="url" id="redactor-link-url" aria-label="URL" /><label>'+this.lang.get("text")+'</label><input type="text" id="redactor-link-url-text" aria-label="'+this.lang.get("text")+'" /><label><input type="checkbox" id="redactor-link-blank"> '+this.lang.get("link_new_tab")+"</label></section>"},e.extend(this.opts,this.opts.modal)},addCallback:function(e,t){this.modal.callbacks[e]=t},createTabber:function(t){this.modal.$tabber=e("<div>").attr("id","redactor-modal-tabber"),t.prepend(this.modal.$tabber)},addTab:function(t,n,r){var i=e('<a href="#" rel="tab'+t+'">').text(n);r&&i.addClass("active");var o=this;i.on("click",function(t){t.preventDefault(),e(".redactor-tab").hide(),e(".redactor-"+e(this).attr("rel")).show(),o.modal.$tabber.find("a").removeClass("active"),e(this).addClass("active")}),this.modal.$tabber.append(i)},addTemplate:function(e,t){this.opts.modal[e]=t},getTemplate:function(e){return this.opts.modal[e]},getModal:function(){return this.$modalBody.find("section")},load:function(e,t,n){this.modal.templateName=e,this.modal.width=n,this.modal.build(),this.modal.enableEvents(),this.modal.setTitle(t),this.modal.setDraggable(),this.modal.setContent(),"undefined"!=typeof this.modal.callbacks[e]&&this.modal.callbacks[e].call(this)},show:function(){this.utils.disableBodyScroll(),this.utils.isMobile()?this.modal.showOnMobile():this.modal.showOnDesktop(),this.opts.highContrast&&this.$modalBox.addClass("redactor-modal-contrast"),this.$modalOverlay.show(),this.$modalBox.show(),this.$modal.attr("tabindex","-1"),this.$modal.focus(),this.modal.setButtonsWidth(),this.utils.saveScroll(),this.utils.isMobile()||(setTimeout(e.proxy(this.modal.showOnDesktop,this),0),e(window).on("resize.redactor-modal",e.proxy(this.modal.resize,this))),this.core.setCallback("modalOpened",this.modal.templateName,this.$modal),e(document).off("focusin.modal"),this.$modal.find("input[type=text],input[type=url],input[type=email]").on("keydown.redactor-modal",e.proxy(this.modal.setEnter,this))},showOnDesktop:function(){var t=this.$modal.outerHeight(),n=e(window).height(),r=e(window).width();return this.modal.width>r?void this.$modal.css({width:"96%",marginTop:n/2-t/2+"px"}):void(t>n?this.$modal.css({width:this.modal.width+"px",marginTop:"20px"}):this.$modal.css({width:this.modal.width+"px",marginTop:n/2-t/2+"px"}))},showOnMobile:function(){this.$modal.css({width:"96%",marginTop:"2%"})},resize:function(){this.utils.isMobile()?this.modal.showOnMobile():this.modal.showOnDesktop()},setTitle:function(e){this.$modalHeader.html(e)},setContent:function(){this.$modalBody.html(this.modal.getTemplate(this.modal.templateName))},setDraggable:function(){"undefined"!=typeof e.fn.draggable&&(this.$modal.draggable({handle:this.$modalHeader}),this.$modalHeader.css("cursor","move"))},setEnter:function(e){13==e.which&&(e.preventDefault(),this.$modal.find("button.redactor-modal-action-btn").click())},createCancelButton:function(){var t=e("<button>").addClass("redactor-modal-btn redactor-modal-close-btn").html(this.lang.get("cancel"));t.on("click",e.proxy(this.modal.close,this)),this.$modalFooter.append(t)},createDeleteButton:function(e){return this.modal.createButton(e,"delete")},createActionButton:function(e){return this.modal.createButton(e,"action")},createButton:function(t,n){var r=e("<button>").addClass("redactor-modal-btn").addClass("redactor-modal-"+n+"-btn").html(t);return this.$modalFooter.append(r),r},setButtonsWidth:function(){var e=this.$modalFooter.find("button"),t=e.length;0!==t&&e.css("width",100/t+"%")},build:function(){this.modal.buildOverlay(),this.$modalBox=e('<div id="redactor-modal-box"/>').hide(),this.$modal=e('<div id="redactor-modal" role="dialog" aria-labelledby="redactor-modal-header" />'),this.$modalHeader=e('<header id="redactor-modal-header"/>'),this.$modalClose=e('<button type="button" id="redactor-modal-close" tabindex="1" aria-label="Close" />').html("&times;"),this.$modalBody=e('<div id="redactor-modal-body" />'),this.$modalFooter=e("<footer />"),this.$modal.append(this.$modalHeader),this.$modal.append(this.$modalClose),this.$modal.append(this.$modalBody),this.$modal.append(this.$modalFooter),this.$modalBox.append(this.$modal),this.$modalBox.appendTo(document.body)},buildOverlay:function(){this.$modalOverlay=e('<div id="redactor-modal-overlay">').hide(),e("body").prepend(this.$modalOverlay)},enableEvents:function(){this.$modalClose.on("click.redactor-modal",e.proxy(this.modal.close,this)),e(document).on("keyup.redactor-modal",e.proxy(this.modal.closeHandler,this)),this.$editor.on("keyup.redactor-modal",e.proxy(this.modal.closeHandler,this)),this.$modalBox.on("click.redactor-modal",e.proxy(this.modal.close,this))},disableEvents:function(){this.$modalClose.off("click.redactor-modal"),e(document).off("keyup.redactor-modal"),this.$editor.off("keyup.redactor-modal"),this.$modalBox.off("click.redactor-modal"),e(window).off("resize.redactor-modal")},closeHandler:function(e){e.which==this.keyCode.ESC&&this.modal.close(!1)},close:function(t){if(t){if(!e(t.target).hasClass("redactor-modal-close-btn")&&t.target!=this.$modalClose[0]&&t.target!=this.$modalBox[0])return;t.preventDefault()}this.$modalBox&&(this.modal.disableEvents(),this.utils.enableBodyScroll(),this.$modalOverlay.remove(),this.$modalBox.fadeOut("fast",e.proxy(function(){this.$modalBox.remove(),setTimeout(e.proxy(this.utils.restoreScroll,this),0),void 0!==t&&this.selection.restore(),e(document.body).css("overflow",this.modal.bodyOveflow),this.core.setCallback("modalClosed",this.modal.templateName)},this)))}}},observe:function(){return{load:function(){"undefined"==typeof this.opts.destroyed&&(this.observe.images(),this.observe.links())},toolbar:function(e,t){this.observe.buttons(e,t),this.observe.dropdowns()},isCurrent:function(t,n){if("undefined"==typeof n)var n=e(this.selection.getCurrent());return n.is(t)||n.parents(t).length>0},dropdowns:function(){var t=e(this.selection.getCurrent());e.each(this.opts.observe.dropdowns,e.proxy(function(e,n){var r=n.observe,i=r.element,o=n.item,a="undefined"!=typeof r["in"]?r["in"]:!1,s="undefined"!=typeof r.out?r.out:!1;t.closest(i).size()>0?this.observe.setDropdownProperties(o,a,s):this.observe.setDropdownProperties(o,s,a)},this))},setDropdownProperties:function(e,t,n){n&&"undefined"!=typeof n.attr&&this.observe.setDropdownAttr(e,n.attr,!0),"undefined"!=typeof t.attr&&this.observe.setDropdownAttr(e,t.attr),"undefined"!=typeof t.title&&e.text(t.title)},setDropdownAttr:function(t,n,r){e.each(n,function(e,n){"class"==e?r?t.removeClass(n):t.addClass(n):r?t.removeAttr(e):t.attr(e,n)})},addDropdown:function(e,t,n){"undefined"!=typeof n.observe&&(n.item=e,this.opts.observe.dropdowns.push(n))},buttons:function(t,n){var r=this.selection.getCurrent(),i=this.selection.getParent();if(t!==!1?this.button.setInactiveAll():this.button.setInactiveAll(n),t===!1&&"html"!==n)return void(-1!=e.inArray(n,this.opts.activeButtons)&&this.button.toggleActive(n));e.each(this.opts.activeButtonsStates,e.proxy(function(t,n){var o=e(i).closest(t,this.$editor[0]),a=e(r).closest(t,this.$editor[0]);(0===o.length||this.utils.isRedactorParent(o))&&this.utils.isRedactorParent(a)&&(0!==o.length||0!==a.closest(t,this.$editor[0]).length)&&this.button.setActive(n)},this));var o=e(i).closest(this.opts.alignmentTags.toString().toLowerCase(),this.$editor[0]);if(this.utils.isRedactorParent(i)&&o.length){var a=""===o.css("text-align")?"left":o.css("text-align");this.button.setActive("align"+a)}},addButton:function(e,t){this.opts.activeButtons.push(t),this.opts.activeButtonsStates[e]=t},images:function(){this.$editor.find("img").each(e.proxy(function(t,n){var r=e(n);r.closest("a",this.$editor[0]).on("click",function(e){e.preventDefault()}),this.utils.browser("msie")&&r.attr("unselectable","on"),this.image.setEditable(r)},this)),e(document).on("click.redactor-image-delete."+this.uuid,e.proxy(function(e){this.observe.image=!1,"IMG"==e.target.tagName&&this.utils.isRedactorParent(e.target)&&(this.observe.image=this.observe.image&&this.observe.image==e.target?!1:e.target)},this))},links:function(){this.opts.linkTooltip&&(this.$editor.find("a").on("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,e.proxy(this.observe.showTooltip,this)),this.$editor.on("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,e.proxy(this.observe.closeTooltip,this)),e(document).on("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,e.proxy(this.observe.closeTooltip,this)))},getTooltipPosition:function(e){return e.offset()},showTooltip:function(t){var n=e(t.target);if("IMG"!=n[0].tagName&&("A"!==n[0].tagName&&(n=n.closest("a",this.$editor[0])),"A"===n[0].tagName)){var r=n,i=this.observe.getTooltipPosition(r),o=e('<span class="redactor-link-tooltip"></span>'),a=r.attr("href");void 0===a&&(a=""),a.length>24&&(a=a.substring(0,24)+"...");var s=e('<a href="'+r.attr("href")+'" target="_blank" />').html(a).addClass("redactor-link-tooltip-action"),l=e('<a href="#" />').html(this.lang.get("edit")).on("click",e.proxy(this.link.show,this)).addClass("redactor-link-tooltip-action"),u=e('<a href="#" />').html(this.lang.get("unlink")).on("click",e.proxy(this.link.unlink,this)).addClass("redactor-link-tooltip-action");o.append(s).append(" | ").append(l).append(" | ").append(u),o.css({top:i.top+parseInt(r.css("line-height"),10)+"px",left:i.left+"px"}),e(".redactor-link-tooltip").remove(),e("body").append(o)}},closeTooltip:function(t){t=t.originalEvent||t;var n=t.target,r=e(n).closest("a",this.$editor[0]);(0===r.length||"A"!==r[0].tagName||"A"===n.tagName)&&("A"===n.tagName&&this.utils.isRedactorParent(n)||e(n).hasClass("redactor-link-tooltip-action")||e(".redactor-link-tooltip").remove())}}},paragraphize:function(){return{load:function(t){return this.opts.linebreaks?t:""===t||"<p></p>"===t?this.opts.emptyHtml:(t+="\n",this.paragraphize.safes=[],this.paragraphize.z=0,t=t.replace(/(<br\s?\/?>){1,}\n?<\/blockquote>/gi,"</blockquote>"),t=this.paragraphize.getSafes(t),t=this.paragraphize.getSafesComments(t),t=this.paragraphize.replaceBreaksToNewLines(t),t=this.paragraphize.replaceBreaksToParagraphs(t),t=this.paragraphize.clear(t),t=this.paragraphize.restoreSafes(t),t=t.replace(new RegExp("<br\\s?/?>\n?<("+this.opts.paragraphizeBlocks.join("|")+")(.*?[^>])>","gi"),"<p><br /></p>\n<$1$2>"),e.trim(t))},getSafes:function(t){var n=e("<div />").append(t);return n.find("blockquote p").replaceWith(function(){return e(this).append("<br />").contents()}),t=n.html(),n.find(this.opts.paragraphizeBlocks.join(", ")).each(e.proxy(function(e,n){this.paragraphize.z++,this.paragraphize.safes[this.paragraphize.z]=n.outerHTML,t=t.replace(n.outerHTML,"\n{replace"+this.paragraphize.z+"}")},this)),t},getSafesComments:function(t){var n=t.match(/<!--([\w\W]*?)-->/gi);return n?(e.each(n,e.proxy(function(e,n){this.paragraphize.z++,this.paragraphize.safes[this.paragraphize.z]=n,t=t.replace(n,"\n{replace"+this.paragraphize.z+"}")},this)),t):t},restoreSafes:function(t){return e.each(this.paragraphize.safes,function(e,n){n="undefined"!=typeof n?n.replace(/\$/g,"&#36;"):n,t=t.replace("{replace"+e+"}",n)}),t},replaceBreaksToParagraphs:function(e){var t=e.split(new RegExp("\n","g"),-1);if(e="",t)for(var n=t.length,r=0;n>r;r++){if(!t.hasOwnProperty(r))return;-1==t[r].search("{replace")?(t[r]=t[r].replace(/<p>\n\t?<\/p>/gi,""),t[r]=t[r].replace(/<p><\/p>/gi,""),""!==t[r]&&(e+="<p>"+t[r].replace(/^\n+|\n+$/g,"")+"</p>")):e+=t[r]}return e},replaceBreaksToNewLines:function(e){return e=e.replace(/<br \/>\s*<br \/>/gi,"\n\n"),e=e.replace(/<br\s?\/?>\n?<br\s?\/?>/gi,"\n<br /><br />"),e=e.replace(new RegExp("\r\n","g"),"\n"),e=e.replace(new RegExp("\r","g"),"\n"),e=e.replace(new RegExp("/\n\n+/"),"g","\n\n")},clear:function(e){return e=e.replace(new RegExp("</blockquote></p>","gi"),"</blockquote>"),e=e.replace(new RegExp("<p></blockquote>","gi"),"</blockquote>"),e=e.replace(new RegExp("<p><blockquote>","gi"),"<blockquote>"),e=e.replace(new RegExp("<blockquote></p>","gi"),"<blockquote>"),e=e.replace(new RegExp("<p><p ","gi"),"<p "),e=e.replace(new RegExp("<p><p>","gi"),"<p>"),e=e.replace(new RegExp("</p></p>","gi"),"</p>"),e=e.replace(new RegExp("<p>\\s?</p>","gi"),""),e=e.replace(new RegExp("\n</p>","gi"),"</p>"),e=e.replace(new RegExp("<p>	?	?\n?<p>","gi"),"<p>"),e=e.replace(new RegExp("<p>	*</p>","gi"),"")}}},paste:function(){return{init:function(t){return this.opts.cleanOnPaste?(this.rtePaste=!0,this.buffer.set(),this.selection.save(),this.utils.saveScroll(),this.paste.createPasteBox(),e(window).on("scroll.redactor-freeze",e.proxy(function(){e(window).scrollTop(this.saveBodyScroll)},this)),void setTimeout(e.proxy(function(){var t=this.$pasteBox.html();this.$pasteBox.remove(),this.selection.restore(),this.utils.restoreScroll(),this.paste.insert(t),e(window).off("scroll.redactor-freeze"),this.linkify.isEnabled()&&this.linkify.format()},this),1)):void setTimeout(e.proxy(this.code.sync,this),1)},createPasteBox:function(){this.$pasteBox=e("<div>").html("").attr("contenteditable","true").css({position:"fixed",width:0,top:0,left:"-9999px"}),this.utils.browser("msie")?this.$box.append(this.$pasteBox):e(".modal-body").length>0?e(".modal-body").append(this.$pasteBox):e("body").append(this.$pasteBox),this.$pasteBox.focus()},insert:function(t){t=this.core.setCallback("pasteBefore",t),t=this.utils.isSelectAll()?this.clean.onPaste(t,!1):this.clean.onPaste(t),t=this.core.setCallback("paste",t),this.utils.isSelectAll()?this.insert.set(t,!1):this.insert.html(t,!1),this.utils.disableSelectAll(),this.rtePaste=!1,setTimeout(e.proxy(this.clean.clearUnverified,this),10),setTimeout(e.proxy(function(){var t=this.$editor.find("span");e.each(t,function(t,n){var r=n.innerHTML.replace(/\u200B/,"");""===r&&0===n.attributes.length&&e(n).remove()})},this),10)}}},placeholder:function(){return{enable:function(){this.placeholder.is()&&(this.$editor.attr("placeholder",this.$element.attr("placeholder")),this.placeholder.toggle(),this.$editor.on("keydown.redactor-placeholder",e.proxy(this.placeholder.toggle,this)))},toggle:function(){setTimeout(e.proxy(function(){var e=this.utils.isEmpty(this.$editor.html(),!1)?"addClass":"removeClass";this.$editor[e]("redactor-placeholder")},this),5)},remove:function(){this.$editor.removeClass("redactor-placeholder")},is:function(){return this.opts.placeholder?this.$element.attr("placeholder",this.opts.placeholder):!("undefined"==typeof this.$element.attr("placeholder")||""===this.$element.attr("placeholder"))}}},progress:function(){return{show:function(){e(document.body).append(e('<div id="redactor-progress"><span></span></div>')),e("#redactor-progress").fadeIn()},hide:function(){e("#redactor-progress").fadeOut(1500,function(){e(this).remove()})}}},selection:function(){return{get:function(){this.sel=document.getSelection(),document.getSelection&&this.sel.getRangeAt&&this.sel.rangeCount?this.range=this.sel.getRangeAt(0):this.range=document.createRange()},addRange:function(){try{this.sel.removeAllRanges()}catch(e){}this.sel.addRange(this.range)},getCurrent:function(){var e=!1;return this.selection.get(),this.sel&&this.sel.rangeCount>0&&(e=this.sel.getRangeAt(0).startContainer),this.utils.isRedactorParent(e)},getParent:function(t){return t=t||this.selection.getCurrent(),t?this.utils.isRedactorParent(e(t).parent()[0]):!1},getPrev:function(){return window.getSelection().anchorNode.previousSibling},getNext:function(){return window.getSelection().anchorNode.nextSibling},getBlock:function(t){for(t=t||this.selection.getCurrent();t;){if(this.utils.isBlockTag(t.tagName))return e(t).hasClass("redactor-editor")?!1:t;t=t.parentNode}return!1},getInlines:function(t,n){if(this.selection.get(),this.range&&this.range.collapsed)return!1;var r=[];t="undefined"==typeof t||t===!1?this.selection.getNodes():t;var i=this.opts.inlineTags;if(i.push("span"),"undefined"!=typeof n)for(var o=0;o<n.length;o++)i.push(n[o]);return e.each(t,e.proxy(function(t,n){-1!=e.inArray(n.tagName.toLowerCase(),i)&&r.push(n)},this)),0===r.length?!1:r},getInlinesTags:function(t){if(this.selection.get(),this.range&&this.range.collapsed)return!1;var n=[],r=this.selection.getNodes();return e.each(r,e.proxy(function(r,i){-1!=e.inArray(i.tagName.toLowerCase(),t)&&n.push(i)},this)),0===n.length?!1:n},getBlocks:function(t){if(this.selection.get(),this.range&&this.range.collapsed)return[this.selection.getBlock()];var n=[];return t="undefined"==typeof t?this.selection.getNodes():t,e.each(t,e.proxy(function(e,t){this.utils.isBlock(t)&&(this.selection.lastBlock=t,n.push(t))},this)),0===n.length?[this.selection.getBlock()]:n},getLastBlock:function(){return this.selection.lastBlock},getNodes:function(){this.selection.get();var t=this.selection.getNodesMarker(1),n=this.selection.getNodesMarker(2);if(this.range.collapsed===!1){if(window.getSelection){var r=window.getSelection();if(r.rangeCount>0){var i=r.getRangeAt(0),o=i.startContainer,a=i.startOffset,s=i.cloneRange();s.collapse(!1),s.insertNode(n),s.setStart(o,a),s.collapse(!0),s.insertNode(t),i.setStartAfter(t),i.setEndBefore(n),r.removeAllRanges(),r.addRange(i)}}}else this.selection.setNodesMarker(this.range,t,!0),n=t;var l=[],u=0,c=this;this.$editor.find("*").each(function(){if(this==t){var r=e(this).parent();0!==r.length&&"BODY"!=r[0].tagName&&c.utils.isRedactorParent(r[0])&&l.push(r[0]),l.push(this),u=1}else u>0&&(l.push(this),u+=1);return this==n?!1:void 0});for(var d=[],h=l.length,p=0;h>p;p++)"nodes-marker-1"!=l[p].id&&"nodes-marker-2"!=l[p].id&&d.push(l[p]);return this.selection.removeNodesMarkers(),d},getNodesMarker:function(t){return e('<span id="nodes-marker-'+t+'" class="redactor-nodes-marker" data-verified="redactor">'+this.opts.invisibleSpace+"</span>")[0]},setNodesMarker:function(e,t,n){var e=e.cloneRange();try{e.collapse(n),e.insertNode(t)}catch(r){}},removeNodesMarkers:function(){e(document).find("span.redactor-nodes-marker").remove(),this.$editor.find("span.redactor-nodes-marker").remove()},fromPoint:function(e,t){this.caret.setOffset(e,t)},wrap:function(e){if(this.selection.get(),this.range.collapsed)return!1;var t=document.createElement(e);return t.appendChild(this.range.extractContents()),this.range.insertNode(t),t},selectElement:function(e){this.caret.set(e,0,e,1)},selectAll:function(){this.selection.get(),this.range.selectNodeContents(this.$editor[0]),this.selection.addRange()},remove:function(){this.selection.get(),this.sel.removeAllRanges()},save:function(){this.selection.createMarkers()},createMarkers:function(){this.selection.get();var e=this.selection.getMarker(1);if(this.selection.setMarker(this.range,e,!0),this.range.collapsed===!1){var t=this.selection.getMarker(2);this.selection.setMarker(this.range,t,!1)}this.savedSel=this.$editor.html()},getMarker:function(t){return"undefined"==typeof t&&(t=1),e('<span id="selection-marker-'+t+'" class="redactor-selection-marker"  data-verified="redactor">'+this.opts.invisibleSpace+"</span>")[0]},getMarkerAsHtml:function(e){return this.utils.getOuterHtml(this.selection.getMarker(e))},setMarker:function(e,t,n){e=e.cloneRange();try{e.collapse(n),e.insertNode(t)}catch(r){this.focus.setStart()}},restore:function(){var e=this.$editor.find("span#selection-marker-1"),t=this.$editor.find("span#selection-marker-2");0!==e.length&&0!==t.length?this.caret.set(e,0,t,0):0!==e.length?this.caret.set(e,0,e,0):this.$editor.focus(),this.selection.removeMarkers(),this.savedSel=!1},removeMarkers:function(){this.$editor.find("span.redactor-selection-marker").each(function(t,n){var r=e(n).text().replace(/\u200B/g,"");""===r?e(n).remove():e(n).replaceWith(function(){return e(this).contents()})})},getText:function(){return this.selection.get(),this.sel.toString()},getHtml:function(){var e="";if(this.selection.get(),this.sel.rangeCount){for(var t=document.createElement("div"),n=this.sel.rangeCount,r=0;n>r;++r)t.appendChild(this.sel.getRangeAt(r).cloneContents());e=t.innerHTML}return this.clean.onSync(e)},replaceSelection:function(e){this.selection.get(),this.range.deleteContents();var t=document.createElement("div");t.innerHTML=e;for(var n,r=document.createDocumentFragment();n=t.firstChild;)r.appendChild(n);this.range.insertNode(r)},replaceWithHtml:function(e){e=this.selection.getMarkerAsHtml(1)+e+this.selection.getMarkerAsHtml(2),this.selection.get(),window.getSelection&&window.getSelection().getRangeAt?this.selection.replaceSelection(e):document.selection&&document.selection.createRange&&this.range.pasteHTML(e),this.selection.restore(),this.code.sync()}}},shortcuts:function(){return{init:function(t,n){return this.opts.shortcuts?void e.each(this.opts.shortcuts,e.proxy(function(n,r){for(var i=n.split(","),o=i.length,a=0;o>a;a++)"string"==typeof i[a]&&this.shortcuts.handler(t,e.trim(i[a]),e.proxy(function(){var e;"-1"!=r.func.search(/\./)?(e=r.func.split("."),"undefined"!=typeof this[e[0]]&&this[e[0]][e[1]].apply(this,r.params)):this[r.func].apply(this,r.params)},this))},this)):(!t.ctrlKey&&!t.metaKey||66!==n&&73!==n||t.preventDefault(),!1)},handler:function(t,n,r){var i={8:"backspace",9:"tab",10:"return",13:"return",
16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"};n=n.toLowerCase().split(" ");var a=i[t.keyCode],s=String.fromCharCode(t.which).toLowerCase(),l="",u={};e.each(["alt","ctrl","meta","shift"],function(e,n){t[n+"Key"]&&a!==n&&(l+=n+"+")}),a&&(u[l+a]=!0),s&&(u[l+s]=!0,u[l+o[s]]=!0,"shift+"===l&&(u[o[s]]=!0));for(var c=0,d=n.length;d>c;c++)if(u[n[c]])return t.preventDefault(),r.apply(this,arguments)}}},tabifier:function(){return{get:function(e){if(!this.opts.tabifier)return e;var t=["area","body","head","hr","i?frame","link","meta","noscript","style","script","table","tbody","thead","tfoot"],n=["li","dt","dt","h[1-6]","option","script"],r=["p","blockquote","div","dl","fieldset","form","frameset","map","ol","pre","select","td","th","tr","ul"];this.tabifier.lineBefore=new RegExp("^<(/?"+t.join("|/?")+"|"+n.join("|")+")[ >]"),this.tabifier.lineAfter=new RegExp("^<(br|/?"+t.join("|/?")+"|/"+n.join("|/")+")[ >]"),this.tabifier.newLevel=new RegExp("^</?("+r.join("|")+")[ >]");var i=0,o=e.length,a=0,s=null,l=null,u="",c="",d="";for(this.tabifier.cleanlevel=0;o>i;i++){if(a=i,-1==e.substr(i).indexOf("<"))return c+=e.substr(i),this.tabifier.finish(c);for(;o>a&&"<"!=e.charAt(a);)a++;for(i!=a&&(d=e.substr(i,a-i),d.match(/^\s{2,}$/g)||("\n"==c.charAt(c.length-1)?c+=this.tabifier.getTabs():"\n"==d.charAt(0)&&(c+="\n"+this.tabifier.getTabs(),d=d.replace(/^\s+/,"")),c+=d),d.match(/\n/)&&(c+="\n"+this.tabifier.getTabs())),s=a;o>a&&">"!=e.charAt(a);)a++;u=e.substr(s,a-s),i=a;var h;if("!--"==u.substr(1,3)){if(!u.match(/--$/)){for(;"-->"!=e.substr(a,3);)a++;a+=2,u=e.substr(s,a-s),i=a}"\n"!=c.charAt(c.length-1)&&(c+="\n"),c+=this.tabifier.getTabs(),c+=u+">\n"}else"!"==u[1]?c=this.tabifier.placeTag(u+">",c):"?"==u[1]?c+=u+">\n":(h=u.match(/^<(script|style|pre)/i))?(h[1]=h[1].toLowerCase(),u=this.tabifier.cleanTag(u),c=this.tabifier.placeTag(u,c),l=String(e.substr(i+1)).toLowerCase().indexOf("</"+h[1]),l&&(d=e.substr(i+1,l),i+=l,c+=d)):(u=this.tabifier.cleanTag(u),c=this.tabifier.placeTag(u,c))}return this.tabifier.finish(c)},getTabs:function(){for(var e="",t=0;t<this.tabifier.cleanlevel;t++)e+="	";return e},finish:function(e){return e=e.replace(/\n\s*\n/g,"\n"),e=e.replace(/^[\s\n]*/,""),e=e.replace(/[\s\n]*$/,""),e=e.replace(/<script(.*?)>\n<\/script>/gi,"<script$1></script>"),this.tabifier.cleanlevel=0,e},cleanTag:function(e){var t="";e=e.replace(/\n/g," "),e=e.replace(/\s{2,}/g," "),e=e.replace(/^\s+|\s+$/g," ");var n="";e.match(/\/$/)&&(n="/",e=e.replace(/\/+$/,""));for(var r;r=/\s*([^= ]+)(?:=((['"']).*?\3|[^ ]+))?/.exec(e);)r[2]?t+=r[1].toLowerCase()+"="+r[2]:r[1]&&(t+=r[1].toLowerCase()),t+=" ",e=e.substr(r[0].length);return t.replace(/\s*$/,"")+n+">"},placeTag:function(e,t){var n=e.match(this.tabifier.newLevel);return(e.match(this.tabifier.lineBefore)||n)&&(t=t.replace(/\s*$/,""),t+="\n"),n&&"/"==e.charAt(1)&&this.tabifier.cleanlevel--,"\n"==t.charAt(t.length-1)&&(t+=this.tabifier.getTabs()),n&&"/"!=e.charAt(1)&&this.tabifier.cleanlevel++,t+=e,(e.match(this.tabifier.lineAfter)||e.match(this.tabifier.newLevel))&&(t=t.replace(/ *$/,"")),t}}},tidy:function(){return{setupAllowed:function(){if(this.opts.allowedTags&&(this.opts.deniedTags=!1),this.opts.allowedAttr&&(this.opts.removeAttr=!1),!this.opts.linebreaks){var e=["p","section"];this.opts.allowedTags&&this.tidy.addToAllowed(e),this.opts.deniedTags&&this.tidy.removeFromDenied(e)}},addToAllowed:function(t){for(var n=t.length,r=0;n>r;r++)-1==e.inArray(t[r],this.opts.allowedTags)&&this.opts.allowedTags.push(t[r])},removeFromDenied:function(t){for(var n=t.length,r=0;n>r;r++){var i=e.inArray(t[r],this.opts.deniedTags);-1!=i&&this.opts.deniedTags.splice(i,1)}},load:function(t,n){return this.tidy.settings={deniedTags:this.opts.deniedTags,allowedTags:this.opts.allowedTags,removeComments:this.opts.removeComments,replaceTags:this.opts.replaceTags,replaceStyles:this.opts.replaceStyles,removeDataAttr:this.opts.removeDataAttr,removeAttr:this.opts.removeAttr,allowedAttr:this.opts.allowedAttr,removeWithoutAttr:this.opts.removeWithoutAttr,removeEmpty:this.opts.removeEmpty},e.extend(this.tidy.settings,n),t=this.tidy.removeComments(t),this.tidy.$div=e("<div />").append(t),this.tidy.replaceTags(),this.tidy.replaceStyles(),this.tidy.removeTags(),this.tidy.removeAttr(),this.tidy.removeEmpty(),this.tidy.removeParagraphsInLists(),this.tidy.removeDataAttr(),this.tidy.removeWithoutAttr(),t=this.tidy.$div.html(),this.tidy.$div.remove(),t},removeComments:function(e){return this.tidy.settings.removeComments?e.replace(/<!--[\s\S]*?-->/gi,""):e},replaceTags:function(t){if(!this.tidy.settings.replaceTags)return t;for(var n=this.tidy.settings.replaceTags.length,r=[],i=[],o=0;n>o;o++)i.push(this.tidy.settings.replaceTags[o][1]),r.push(this.tidy.settings.replaceTags[o][0]);e.each(r,e.proxy(function(t,n){this.tidy.$div.find(n).replaceWith(function(){return e("<"+i[t]+" />",{html:e(this).html()})})},this))},replaceStyles:function(){if(this.tidy.settings.replaceStyles){var t=this.tidy.settings.replaceStyles.length;this.tidy.$div.find("span").each(e.proxy(function(n,r){for(var i=e(r),o=i.attr("style"),a=0;t>a;a++)if(o&&o.match(new RegExp("^"+this.tidy.settings.replaceStyles[a][0],"i"))){var s=this.tidy.settings.replaceStyles[a][1];i.replaceWith(function(){var t=document.createElement(s);return e(t).append(e(this).contents())})}},this))}},removeTags:function(){!this.tidy.settings.deniedTags&&this.tidy.settings.allowedTags&&this.tidy.$div.find("*").not(this.tidy.settings.allowedTags.join(",")).each(function(t,n){""===n.innerHTML?e(n).remove():e(n).contents().unwrap()}),this.tidy.settings.deniedTags&&this.tidy.$div.find(this.tidy.settings.deniedTags.join(",")).each(function(t,n){e(n).hasClass("redactor-script-tag")||(""===n.innerHTML?e(n).remove():e(n).contents().unwrap())})},removeAttr:function(){var t;if(!this.tidy.settings.removeAttr&&this.tidy.settings.allowedAttr){var n=[],r=[];t=this.tidy.settings.allowedAttr.length;for(var i=0;t>i;i++)n.push(this.tidy.settings.allowedAttr[i][0]),r.push(this.tidy.settings.allowedAttr[i][1]);this.tidy.$div.find("*").each(e.proxy(function(t,i){var o=e(i),a=e.inArray(o[0].tagName.toLowerCase(),n),s=this.tidy.removeAttrGetRemoves(a,r,o);s&&e.each(s,function(e,t){o.removeAttr(t)})},this))}if(this.tidy.settings.removeAttr){t=this.tidy.settings.removeAttr.length;for(var i=0;t>i;i++){var o=this.tidy.settings.removeAttr[i][1];e.isArray(o)&&(o=o.join(" ")),this.tidy.$div.find(this.tidy.settings.removeAttr[i][0]).removeAttr(o)}}},removeAttrGetRemoves:function(t,n,r){var i=[];return-1==t?e.each(r[0].attributes,function(e,t){i.push(t.name)}):"*"==n[t]?i=[]:e.each(r[0].attributes,function(r,o){e.isArray(n[t])?-1==e.inArray(o.name,n[t])&&i.push(o.name):n[t]!=o.name&&i.push(o.name)}),i},removeAttrs:function(t,n){return n=new RegExp(n,"g"),t.each(function(){for(var t=e(this),r=this.attributes.length-1,i=r;i>=0;i--){var o=this.attributes[i];o&&o.specified&&o.name.search(n)>=0&&t.removeAttr(o.name)}})},removeEmpty:function(){this.tidy.settings.removeEmpty&&this.tidy.$div.find(this.tidy.settings.removeEmpty.join(",")).each(function(){var t=e(this),n=t.text();n=n.replace(/\u200B/g,""),n=n.replace(/&nbsp;/gi,""),n=n.replace(/\s/g,""),""===n&&0===t.children().length&&t.remove()})},removeParagraphsInLists:function(){this.tidy.$div.find("li p").contents().unwrap()},removeDataAttr:function(){if(this.tidy.settings.removeDataAttr){var t=this.tidy.settings.removeDataAttr;e.isArray(this.tidy.settings.removeDataAttr)&&(t=this.tidy.settings.removeDataAttr.join(",")),this.tidy.removeAttrs(this.tidy.$div.find(t),"^(data-)")}},removeWithoutAttr:function(){this.tidy.settings.removeWithoutAttr&&this.tidy.$div.find(this.tidy.settings.removeWithoutAttr.join(",")).each(function(){0===this.attributes.length&&e(this).contents().unwrap()})}}},toolbar:function(){return{init:function(){return{html:{title:this.lang.get("html"),func:"code.toggle"},formatting:{title:this.lang.get("formatting"),dropdown:{p:{title:this.lang.get("paragraph"),func:"block.format"},blockquote:{title:this.lang.get("quote"),func:"block.format"},pre:{title:this.lang.get("code"),func:"block.format"},h1:{title:this.lang.get("header1"),func:"block.format"},h2:{title:this.lang.get("header2"),func:"block.format"},h3:{title:this.lang.get("header3"),func:"block.format"},h4:{title:this.lang.get("header4"),func:"block.format"},h5:{title:this.lang.get("header5"),func:"block.format"}}},bold:{title:this.lang.get("bold"),func:"inline.format"},italic:{title:this.lang.get("italic"),func:"inline.format"},deleted:{title:this.lang.get("deleted"),func:"inline.format"},underline:{title:this.lang.get("underline"),func:"inline.format"},unorderedlist:{title:"&bull; "+this.lang.get("unorderedlist"),func:"list.toggle"},orderedlist:{title:"1. "+this.lang.get("orderedlist"),func:"list.toggle"},outdent:{title:"< "+this.lang.get("outdent"),func:"indent.decrease"},indent:{title:"> "+this.lang.get("indent"),func:"indent.increase"},image:{title:this.lang.get("image"),func:"image.show"},file:{title:this.lang.get("file"),func:"file.show"},link:{title:this.lang.get("link"),dropdown:{link:{title:this.lang.get("link_insert"),func:"link.show",observe:{element:"a","in":{title:this.lang.get("link_edit")},out:{title:this.lang.get("link_insert")}}},unlink:{title:this.lang.get("unlink"),func:"link.unlink",observe:{element:"a",out:{attr:{"class":"redactor-dropdown-link-inactive","aria-disabled":!0}}}}}},alignment:{title:this.lang.get("alignment"),dropdown:{left:{title:this.lang.get("align_left"),func:"alignment.left"},center:{title:this.lang.get("align_center"),func:"alignment.center"},right:{title:this.lang.get("align_right"),func:"alignment.right"},justify:{title:this.lang.get("align_justify"),func:"alignment.justify"}}},horizontalrule:{title:this.lang.get("horizontalrule"),func:"line.insert"}}},build:function(){this.toolbar.hideButtons(),this.toolbar.hideButtonsOnMobile(),this.toolbar.isButtonSourceNeeded(),0!==this.opts.buttons.length&&(this.$toolbar=this.toolbar.createContainer(),this.toolbar.setOverflow(),this.toolbar.append(),this.toolbar.setFormattingTags(),this.toolbar.loadButtons(),this.toolbar.setFixed(),this.opts.activeButtons&&this.$editor.on("mouseup.redactor keyup.redactor focus.redactor",e.proxy(this.observe.toolbar,this)))},createContainer:function(){return e("<ul>").addClass("redactor-toolbar").attr({id:"redactor-toolbar-"+this.uuid,role:"toolbar"})},setFormattingTags:function(){e.each(this.opts.toolbar.formatting.dropdown,e.proxy(function(t,n){-1==e.inArray(t,this.opts.formatting)&&delete this.opts.toolbar.formatting.dropdown[t]},this))},loadButtons:function(){e.each(this.opts.buttons,e.proxy(function(t,n){if(this.opts.toolbar[n]){if("file"===n){if(this.opts.fileUpload===!1)return;if(!this.opts.fileUpload&&this.opts.s3===!1)return}if("image"===n){if(this.opts.imageUpload===!1)return;if(!this.opts.imageUpload&&this.opts.s3===!1)return}var r=this.opts.toolbar[n];this.$toolbar.append(e("<li>").append(this.button.build(n,r)))}},this))},append:function(){this.opts.toolbarExternal?(this.$toolbar.addClass("redactor-toolbar-external"),e(this.opts.toolbarExternal).html(this.$toolbar)):this.$box.prepend(this.$toolbar)},setFixed:function(){this.utils.isDesktop()&&(this.opts.toolbarExternal||this.opts.toolbarFixed&&(this.toolbar.observeScroll(),e(this.opts.toolbarFixedTarget).on("scroll.redactor."+this.uuid,e.proxy(this.toolbar.observeScroll,this))))},setOverflow:function(){this.utils.isMobile()&&this.opts.toolbarOverflow&&this.$toolbar.addClass("redactor-toolbar-overflow")},isButtonSourceNeeded:function(){if(!this.opts.source){var e=this.opts.buttons.indexOf("html");-1!==e&&this.opts.buttons.splice(e,1)}},hideButtons:function(){0!==this.opts.buttonsHide.length&&e.each(this.opts.buttonsHide,e.proxy(function(e,t){var n=this.opts.buttons.indexOf(t);this.opts.buttons.splice(n,1)},this))},hideButtonsOnMobile:function(){this.utils.isMobile()&&0!==this.opts.buttonsHideOnMobile.length&&e.each(this.opts.buttonsHideOnMobile,e.proxy(function(e,t){var n=this.opts.buttons.indexOf(t);this.opts.buttons.splice(n,1)},this))},observeScroll:function(){var t=e(this.opts.toolbarFixedTarget).scrollTop(),n=1;this.opts.toolbarFixedTarget===document&&(n=this.$box.offset().top),t>n?this.toolbar.observeScrollEnable(t,n):this.toolbar.observeScrollDisable()},observeScrollEnable:function(t,n){var r=this.opts.toolbarFixedTopOffset+t-n,i=0,o=n+this.$box.height()-32,a=this.$box.innerWidth();this.$toolbar.addClass("toolbar-fixed-box"),this.$toolbar.css({position:"absolute",width:a,top:r+"px",left:i}),t>o&&e(".redactor-dropdown-"+this.uuid+":visible").hide(),this.toolbar.setDropdownsFixed(),this.$toolbar.css("visibility",o>t?"visible":"hidden")},observeScrollDisable:function(){this.$toolbar.css({position:"relative",width:"auto",top:0,left:0,visibility:"visible"}),this.toolbar.unsetDropdownsFixed(),this.$toolbar.removeClass("toolbar-fixed-box")},setDropdownsFixed:function(){var t=this.$toolbar.innerHeight()+this.opts.toolbarFixedTopOffset,n="fixed";this.opts.toolbarFixedTarget!==document&&(t=this.$toolbar.innerHeight()+this.$toolbar.offset().top+this.opts.toolbarFixedTopOffset,n="absolute"),e(".redactor-dropdown-"+this.uuid).each(function(){e(this).css({position:n,top:t+"px"})})},unsetDropdownsFixed:function(){var t=this.$toolbar.innerHeight()+this.$toolbar.offset().top;e(".redactor-dropdown-"+this.uuid).each(function(){e(this).css({position:"absolute",top:t+"px"})})}}},upload:function(){return{init:function(t,n,r){this.upload.direct=!1,this.upload.callback=r,this.upload.url=n,this.upload.$el=e(t),this.upload.$droparea=e('<div id="redactor-droparea" />'),this.upload.$placeholdler=e('<div id="redactor-droparea-placeholder" />').text(this.lang.get("upload_label")),this.upload.$input=e('<input type="file" name="file" />'),this.upload.$placeholdler.append(this.upload.$input),this.upload.$droparea.append(this.upload.$placeholdler),this.upload.$el.append(this.upload.$droparea),this.upload.$droparea.off("redactor.upload"),this.upload.$input.off("redactor.upload"),this.upload.$droparea.on("dragover.redactor.upload",e.proxy(this.upload.onDrag,this)),this.upload.$droparea.on("dragleave.redactor.upload",e.proxy(this.upload.onDragLeave,this)),this.upload.$input.on("change.redactor.upload",e.proxy(function(e){e=e.originalEvent||e,this.upload.traverseFile(this.upload.$input[0].files[0],e)},this)),this.upload.$droparea.on("drop.redactor.upload",e.proxy(function(e){e.preventDefault(),this.upload.$droparea.removeClass("drag-hover").addClass("drag-drop"),this.upload.onDrop(e)},this))},directUpload:function(e,t){this.upload.direct=!0,this.upload.traverseFile(e,t)},onDrop:function(e){e=e.originalEvent||e;var t=e.dataTransfer.files;this.upload.traverseFile(t[0],e)},traverseFile:function(e,t){if(this.opts.s3)return this.upload.setConfig(e),void this.upload.s3uploadFile(e);var n=window.FormData?new FormData:null;if(window.FormData){this.upload.setConfig(e);var r="image"==this.upload.type?this.opts.imageUploadParam:this.opts.fileUploadParam;n.append(r,e)}this.progress.show(),this.core.setCallback("uploadStart",t,n),this.upload.sendData(n,t)},setConfig:function(e){this.upload.getType(e),this.upload.direct&&(this.upload.url="image"==this.upload.type?this.opts.imageUpload:this.opts.fileUpload,this.upload.callback="image"==this.upload.type?this.image.insert:this.file.insert)},getType:function(e){this.upload.type="image",-1==this.opts.imageTypes.indexOf(e.type)&&(this.upload.type="file")},getHiddenFields:function(t,n){return t===!1||"object"!=typeof t?n:(e.each(t,e.proxy(function(t,r){null!==r&&0===r.toString().indexOf("#")&&(r=e(r).val()),n.append(t,r)},this)),n)},sendData:function(t,n){"image"==this.upload.type?(t=this.upload.getHiddenFields(this.opts.uploadImageFields,t),t=this.upload.getHiddenFields(this.upload.imageFields,t)):(t=this.upload.getHiddenFields(this.opts.uploadFileFields,t),t=this.upload.getHiddenFields(this.upload.fileFields,t));var r=new XMLHttpRequest;r.open("POST",this.upload.url),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.onreadystatechange=e.proxy(function(){if(4==r.readyState){var t=r.responseText;t=t.replace(/^\[/,""),t=t.replace(/\]$/,"");var i;try{i="string"==typeof t?e.parseJSON(t):t}catch(o){i={error:!0}}this.progress.hide(),this.upload.direct||this.upload.$droparea.removeClass("drag-drop"),this.upload.callback(i,this.upload.direct,n)}},this),r.send(t)},onDrag:function(e){e.preventDefault(),this.upload.$droparea.addClass("drag-hover")},onDragLeave:function(e){e.preventDefault(),this.upload.$droparea.removeClass("drag-hover")},clearImageFields:function(){this.upload.imageFields={}},addImageFields:function(e,t){this.upload.imageFields[e]=t},removeImageFields:function(e){delete this.upload.imageFields[e]},clearFileFields:function(){this.upload.fileFields={}},addFileFields:function(e,t){this.upload.fileFields[e]=t},removeFileFields:function(e){delete this.upload.fileFields[e]},s3uploadFile:function(t){this.upload.s3executeOnSignedUrl(t,e.proxy(function(e){this.upload.s3uploadToS3(t,e)},this))},s3executeOnSignedUrl:function(e,t){var n=new XMLHttpRequest,r="?";"-1"!=this.opts.s3.search(/\?/)&&(r="&"),n.open("GET",this.opts.s3+r+"name="+e.name+"&type="+e.type,!0),n.overrideMimeType&&n.overrideMimeType("text/plain; charset=x-user-defined");var i=this;n.onreadystatechange=function(e){4==this.readyState&&200==this.status?(i.progress.show(),t(decodeURIComponent(this.responseText))):4==this.readyState&&200!=this.status},n.send()},s3createCORSRequest:function(e,t){var n=new XMLHttpRequest;return"withCredentials"in n?n.open(e,t,!0):"undefined"!=typeof XDomainRequest?(n=new XDomainRequest,n.open(e,t)):n=null,n},s3uploadToS3:function(t,n){var r=this.upload.s3createCORSRequest("PUT",n);r&&(r.onload=e.proxy(function(){if(200==r.status){this.progress.hide();var e=n.split("?");if(!e[0])return!1;this.upload.direct||this.upload.$droparea.removeClass("drag-drop");var t={filelink:e[0]};if("file"==this.upload.type){var i=e[0].split("/");t.filename=i[i.length-1]}this.upload.callback(t,this.upload.direct,!1)}},this),r.onerror=function(){},r.upload.onprogress=function(e){},r.setRequestHeader("Content-Type",t.type),r.setRequestHeader("x-amz-acl","public-read"),r.send(t))}}},utils:function(){return{isMobile:function(){return/(iPhone|iPod|BlackBerry|Android)/.test(navigator.userAgent)},isDesktop:function(){return!/(iPhone|iPod|iPad|BlackBerry|Android)/.test(navigator.userAgent)},isString:function(e){return"[object String]"==Object.prototype.toString.call(e)},isEmpty:function(t,n){return t=t.replace(/[\u200B-\u200D\uFEFF]/g,""),t=t.replace(/&nbsp;/gi,""),t=t.replace(/<\/?br\s?\/?>/g,""),t=t.replace(/\s/g,""),t=t.replace(/^<p>[^\W\w\D\d]*?<\/p>$/i,""),t=t.replace(/<iframe(.*?[^>])>$/i,"iframe"),t=t.replace(/<source(.*?[^>])>$/i,"source"),n!==!1&&(t=t.replace(/<[^\/>][^>]*><\/[^>]+>/gi,""),t=t.replace(/<[^\/>][^>]*><\/[^>]+>/gi,"")),t=e.trim(t),""===t},normalize:function(e){return"undefined"==typeof e?0:parseInt(e.replace("px",""),10)},hexToRgb:function(e){if("undefined"!=typeof e){if(-1==e.search(/^#/))return e;var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,n,r){return t+t+n+n+r+r});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return"rgb("+parseInt(n[1],16)+", "+parseInt(n[2],16)+", "+parseInt(n[3],16)+")"}},getOuterHtml:function(t){return e("<div>").append(e(t).eq(0).clone()).html()},getAlignmentElement:function(t){return-1!==e.inArray(t.tagName,this.opts.alignmentTags)?e(t):e(t).closest(this.opts.alignmentTags.toString().toLowerCase(),this.$editor[0])},removeEmptyAttr:function(t,n){var r=e(t);return"undefined"==typeof r.attr(n)?!0:""===r.attr(n)?(r.removeAttr(n),!0):!1},removeEmpty:function(t,n){var r=e(e.parseHTML(n));if(r.find(".redactor-invisible-space").removeAttr("style").removeAttr("class"),0===r.find("hr, br, img, iframe, source").length){var i=e.trim(r.text());this.utils.isEmpty(i,!1)&&r.remove()}},saveScroll:function(){this.saveEditorScroll=this.$editor.scrollTop(),this.saveBodyScroll=e(window).scrollTop(),this.opts.scrollTarget&&(this.saveTargetScroll=e(this.opts.scrollTarget).scrollTop())},restoreScroll:function(){("undefined"!=typeof this.saveScroll||"undefined"!=typeof this.saveBodyScroll)&&(e(window).scrollTop(this.saveBodyScroll),this.$editor.scrollTop(this.saveEditorScroll),this.opts.scrollTarget&&e(this.opts.scrollTarget).scrollTop(this.saveTargetScroll))},createSpaceElement:function(){var e=document.createElement("span");return e.className="redactor-invisible-space",e.innerHTML=this.opts.invisibleSpace,e},removeInlineTags:function(t){var n=this.opts.inlineTags;n.push("span"),"PRE"==t.tagName&&n.push("a"),e(t).find(n.join(",")).not("span.redactor-selection-marker").contents().unwrap()},replaceWithContents:function(t,n){var r=this;return e(t).replaceWith(function(){return n===!0&&r.utils.removeInlineTags(this),e(this).contents()}),e(t)},replaceToTag:function(t,n,r){var i,o=this;return e(t).replaceWith(function(){i=e("<"+n+" />").append(e(this).contents());for(var t=0;t<this.attributes.length;t++)i.attr(this.attributes[t].name,this.attributes[t].value);return r===!0&&o.utils.removeInlineTags(i),i}),i},isStartOfElement:function(){var e=this.selection.getBlock();if(!e)return!1;var t=this.caret.getOffsetOfElement(e);return 0===t?!0:!1},isEndOfElement:function(t){if("undefined"==typeof t){var t=this.selection.getBlock();if(!t)return!1}var n=this.caret.getOffsetOfElement(t),r=e.trim(e(t).text()).replace(/\n\r\n/g,"");return n==r.length?!0:!1},isEndOfEditor:function(){var t=this.$editor[0],n=this.caret.getOffsetOfElement(t),r=e.trim(e(t).html().replace(/(<([^>]+)>)/gi,""));return n==r.length?!0:!1},isBlock:function(e){return e=e[0]||e,e&&this.utils.isBlockTag(e.tagName)},isBlockTag:function(e){return"undefined"==typeof e?!1:this.reIsBlock.test(e)},isTag:function(t,n){var r=e(t).closest(n,this.$editor[0]);return 1==r.length?r[0]:!1},isSelectAll:function(){return this.selectAll},enableSelectAll:function(){this.selectAll=!0},disableSelectAll:function(){this.selectAll=!1},isRedactorParent:function(t){return t?0===e(t).parents(".redactor-editor").length||e(t).hasClass("redactor-editor")?!1:t:!1},isCurrentOrParentHeader:function(){return this.utils.isCurrentOrParent(["H1","H2","H3","H4","H5","H6"])},isCurrentOrParent:function(t){var n=this.selection.getParent(),r=this.selection.getCurrent();if(e.isArray(t)){var i=0;return e.each(t,e.proxy(function(e,t){this.utils.isCurrentOrParentOne(r,n,t)&&i++},this)),0===i?!1:!0}return this.utils.isCurrentOrParentOne(r,n,t)},isCurrentOrParentOne:function(e,t,n){return n=n.toUpperCase(),t&&t.tagName===n?t:e&&e.tagName===n?e:!1},isOldIe:function(){return this.utils.browser("msie")&&parseInt(this.utils.browser("version"),10)<9?!0:!1},isLessIe10:function(){return this.utils.browser("msie")&&parseInt(this.utils.browser("version"),10)<10?!0:!1},isIe11:function(){return!!navigator.userAgent.match(/Trident\/7\./)},browser:function(e){var t=navigator.userAgent.toLowerCase(),n=/(opr)[\/]([\w.]+)/.exec(t)||/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return"safari"==e?"undefined"!=typeof n[3]?"safari"==n[3]:!1:"version"==e?n[2]:"webkit"==e?"chrome"==n[1]||"opr"==n[1]||"webkit"==n[1]:"rv"==n[1]?"msie"==e:"opr"==n[1]?"webkit"==e:e==n[1]},strpos:function(e,t,n){var r=e.indexOf(t,n);return r>=0?r:!1},disableBodyScroll:function(){var t=e("html"),n=window.innerWidth;if(!n){var r=document.documentElement.getBoundingClientRect();n=r.right-Math.abs(r.left)}var i=document.body.clientWidth<n,o=this.utils.measureScrollbar();t.css("overflow","hidden"),i&&t.css("padding-right",o)},measureScrollbar:function(){var t=e("body"),n=document.createElement("div");n.className="redactor-scrollbar-measure",t.append(n);var r=n.offsetWidth-n.clientWidth;return t[0].removeChild(n),r},enableBodyScroll:function(){e("html").css({overflow:"","padding-right":""}),e("body").remove("redactor-scrollbar-measure")}}}},e(window).on("load.tools.redactor",function(){e('[data-tools="redactor"]').redactor()}),t.prototype.init.prototype=t.prototype}(jQuery);